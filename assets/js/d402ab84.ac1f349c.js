"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[684],{577:(_,E,e)=>{e.r(E),e.d(E,{assets:()=>M,contentTitle:()=>I,default:()=>O,frontMatter:()=>n,metadata:()=>i,toc:()=>r});var A=e(4848),T=e(8453);const n={title:"vkCreateBuffer",description:"vkCreateBuffer"},I="vkCreateBuffer",i={id:"api/vkCreateBuffer",title:"vkCreateBuffer",description:"vkCreateBuffer",source:"@site/docs/api/vkCreateBuffer.md",sourceDirName:"api",slug:"/api/vkCreateBuffer",permalink:"/api/vkCreateBuffer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkCreateBuffer",description:"vkCreateBuffer"},sidebar:"VulkanApi",previous:{title:"vkBindImageMemory",permalink:"/api/vkBindImageMemory"},next:{title:"vkCreateCommandPool",permalink:"/api/vkCreateCommandPool"}},M={},r=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function L(_){const E={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,T.R)(),..._.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(E.header,{children:(0,A.jsx)(E.h1,{id:"vkcreatebuffer",children:"vkCreateBuffer"})}),"\n",(0,A.jsx)(E.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{className:"language-c",children:"VkResult vkCreateBuffer(\n    VkDevice                                    device,\n    const VkBufferCreateInfo*                   pCreateInfo,\n    const VkAllocationCallbacks*                pAllocator,\n    VkBuffer*                                   pBuffer);\n"})}),"\n",(0,A.jsx)(E.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,A.jsx)(E.p,{children:"\u521b\u5efa\u4e00\u4e2abuffer\u3002"}),"\n",(0,A.jsx)(E.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,A.jsxs)(E.ul,{children:["\n",(0,A.jsxs)(E.li,{children:[(0,A.jsx)(E.code,{children:"device"})," : \u7528\u4e8e\u521b\u5efabuffer\u7684\u903b\u8f91\u8bbe\u5907\u3002"]}),"\n",(0,A.jsxs)(E.li,{children:[(0,A.jsx)(E.code,{children:"pCreateInfo"})," : ",(0,A.jsx)(E.code,{children:"VkBufferCreateInfo"})," \u7ed3\u6784\u4f53\u6307\u9488\uff0c\u5305\u542b\u521b\u5efabuffer\u7684\u4fe1\u606f\u3002"]}),"\n",(0,A.jsxs)(E.li,{children:[(0,A.jsx)(E.code,{children:"pAllocator"})," : ",(0,A.jsx)(E.code,{children:"host memory"})," \u5206\u914d\u5668\u3002"]}),"\n",(0,A.jsxs)(E.li,{children:[(0,A.jsx)(E.code,{children:"pBuffer"})," : \u521b\u5efa\u8fd4\u56de\u7684buffer\u53e5\u67c4\u3002"]}),"\n"]}),"\n",(0,A.jsx)(E.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,A.jsxs)(E.p,{children:[(0,A.jsx)(E.code,{children:"VkBufferCreateInfo"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{children:"typedef struct VkBufferCreateInfo {\n    VkStructureType        sType;\n    const void*            pNext;\n    VkBufferCreateFlags    flags;\n    VkDeviceSize           size;\n    VkBufferUsageFlags     usage;\n    VkSharingMode          sharingMode;\n    uint32_t               queueFamilyIndexCount;\n    const uint32_t*        pQueueFamilyIndices;\n} VkBufferCreateInfo;a\n"})}),"\n",(0,A.jsx)(E.hr,{}),"\n",(0,A.jsxs)(E.p,{children:[(0,A.jsx)(E.code,{children:"VkImageCreateFlagBits"}),"\u679a\u4e3e\u5b9a\u4e49\uff1a"]}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{children:"typedef enum VkImageCreateFlagBits {\n    VK_IMAGE_CREATE_SPARSE_BINDING_BIT = 0x00000001,\n    VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT = 0x00000002,\n    VK_IMAGE_CREATE_SPARSE_ALIASED_BIT = 0x00000004,\n    VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT = 0x00000008,\n    VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT = 0x00000010,\n    VK_IMAGE_CREATE_ALIAS_BIT = 0x00000400,\n    VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT = 0x00000040,\n    VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT = 0x00000020,\n    VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT = 0x00000080,\n    VK_IMAGE_CREATE_EXTENDED_USAGE_BIT = 0x00000100,\n    VK_IMAGE_CREATE_PROTECTED_BIT = 0x00000800,\n    VK_IMAGE_CREATE_DISJOINT_BIT = 0x00000200,\n    VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV = 0x00002000,\n    VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT = 0x00001000,\n    VK_IMAGE_CREATE_SUBSAMPLED_BIT_EXT = 0x00004000,\n    VK_IMAGE_CREATE_MULTISAMPLED_RENDER_TO_SINGLE_SAMPLED_BIT_EXT = 0x00040000,\n    VK_IMAGE_CREATE_2D_VIEW_COMPATIBLE_BIT_EXT = 0x00020000,\n    VK_IMAGE_CREATE_FRAGMENT_DENSITY_MAP_OFFSET_BIT_QCOM = 0x00008000,\n    VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT_KHR = VK_IMAGE_CREATE_SPLIT_INSTANCE_BIND_REGIONS_BIT,\n    VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT_KHR = VK_IMAGE_CREATE_2D_ARRAY_COMPATIBLE_BIT,\n    VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT_KHR = VK_IMAGE_CREATE_BLOCK_TEXEL_VIEW_COMPATIBLE_BIT,\n    VK_IMAGE_CREATE_EXTENDED_USAGE_BIT_KHR = VK_IMAGE_CREATE_EXTENDED_USAGE_BIT,\n    VK_IMAGE_CREATE_DISJOINT_BIT_KHR = VK_IMAGE_CREATE_DISJOINT_BIT,\n    VK_IMAGE_CREATE_ALIAS_BIT_KHR = VK_IMAGE_CREATE_ALIAS_BIT,\n    VK_IMAGE_CREATE_FLAG_BITS_MAX_ENUM = 0x7FFFFFFF\n} VkImageCreateFlagBits;\n"})}),"\n",(0,A.jsx)(E.hr,{}),"\n",(0,A.jsxs)(E.p,{children:[(0,A.jsx)(E.code,{children:"VkSharingMode"}),"\u679a\u4e3e\u5b9a\u4e49\uff1a"]}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{children:"typedef enum VkSharingMode {\n    VK_SHARING_MODE_EXCLUSIVE = 0,\n    VK_SHARING_MODE_CONCURRENT = 1,\n} VkSharingMode;\n"})}),"\n",(0,A.jsx)(E.hr,{}),"\n",(0,A.jsxs)(E.p,{children:[(0,A.jsx)(E.code,{children:"VkImageLayout"}),"\u679a\u4e3e\u5b9a\u4e49\uff1a"]}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{children:"typedef enum VkImageLayout {\n    VK_IMAGE_LAYOUT_UNDEFINED = 0,\n    VK_IMAGE_LAYOUT_GENERAL = 1,\n    VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL = 2,\n    VK_IMAGE_LAYOUT_DEPTH_STENCIL_ATTACHMENT_OPTIMAL = 3,\n    VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL = 4,\n    VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL = 5,\n    VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL = 6,\n    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL = 7,\n    VK_IMAGE_LAYOUT_PREINITIALIZED = 8,\n    VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL = 1000117000,\n    VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL = 1000117001,\n    VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL = 1000241000,\n    VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL = 1000241001,\n    VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL = 1000241002,\n    VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL = 1000241003,\n    VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL = 1000314000,\n    VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL = 1000314001,\n    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR = 1000001002,\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_DECODE_DST_KHR = 1000024000,\n#endif\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_DECODE_SRC_KHR = 1000024001,\n#endif\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_DECODE_DPB_KHR = 1000024002,\n#endif\n    VK_IMAGE_LAYOUT_SHARED_PRESENT_KHR = 1000111000,\n    VK_IMAGE_LAYOUT_FRAGMENT_DENSITY_MAP_OPTIMAL_EXT = 1000218000,\n    VK_IMAGE_LAYOUT_FRAGMENT_SHADING_RATE_ATTACHMENT_OPTIMAL_KHR = 1000164003,\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_ENCODE_DST_KHR = 1000299000,\n#endif\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_ENCODE_SRC_KHR = 1000299001,\n#endif\n#ifdef VK_ENABLE_BETA_EXTENSIONS\n    VK_IMAGE_LAYOUT_VIDEO_ENCODE_DPB_KHR = 1000299002,\n#endif\n    VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT = 1000339000,\n    VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL_KHR = VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL,\n    VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL_KHR = VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL,\n    VK_IMAGE_LAYOUT_SHADING_RATE_OPTIMAL_NV = VK_IMAGE_LAYOUT_FRAGMENT_SHADING_RATE_ATTACHMENT_OPTIMAL_KHR,\n    VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL_KHR = VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_OPTIMAL,\n    VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL_KHR = VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL,\n    VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL_KHR = VK_IMAGE_LAYOUT_STENCIL_ATTACHMENT_OPTIMAL,\n    VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL_KHR = VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL,\n    VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL_KHR = VK_IMAGE_LAYOUT_READ_ONLY_OPTIMAL,\n    VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL_KHR = VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL,\n    VK_IMAGE_LAYOUT_MAX_ENUM = 0x7FFFFFFF\n} VkImageLayout;\n"})}),"\n",(0,A.jsx)(E.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,A.jsxs)(E.ul,{children:["\n",(0,A.jsxs)(E.li,{children:[(0,A.jsx)(E.code,{children:"VK_SUCCESS"})," : \u6210\u529f\u521b\u5efaimage\u3002"]}),"\n",(0,A.jsx)(E.li,{children:"\u5176\u4ed6 : \u521b\u5efa\u5931\u8d25\u3002"}),"\n"]}),"\n",(0,A.jsx)(E.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,A.jsx)(E.pre,{children:(0,A.jsx)(E.code,{className:"language-cpp",children:"image_info.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;\nimage_info.pNext = NULL;\nimage_info.imageType = VK_IMAGE_TYPE_2D;\nimage_info.format = VK_FORMAT_D16_UNORM;\nimage_info.extent.width = info.width;\nimage_info.extent.height = info.height;\nimage_info.extent.depth = 1;\nimage_info.mipLevels = 1;\nimage_info.arrayLayers = 1;\nimage_info.samples = VK_SAMPLE_COUNT_1_BIT;\nimage_info.tiling = VK_IMAGE_TILING_OPTIMAL;\nimage_info.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;\nimage_info.usage = VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT;\nimage_info.queueFamilyIndexCount = 0;\nimage_info.pQueueFamilyIndices = NULL;\nimage_info.sharingMode = VK_SHARING_MODE_EXCLUSIVE;\nimage_info.flags = 0;\n\nVkImage image;\nvkCreateImage(device, &image_info, NULL, &image);\n"})})]})}function O(_={}){const{wrapper:E}={...(0,T.R)(),..._.components};return E?(0,A.jsx)(E,{..._,children:(0,A.jsx)(L,{..._})}):L(_)}},8453:(_,E,e)=>{e.d(E,{R:()=>I,x:()=>i});var A=e(6540);const T={},n=A.createContext(T);function I(_){const E=A.useContext(n);return A.useMemo((function(){return"function"==typeof _?_(E):{...E,..._}}),[E,_])}function i(_){let E;return E=_.disableParentContext?"function"==typeof _.components?_.components(T):_.components||T:I(_.components),A.createElement(n.Provider,{value:E},_.children)}}}]);