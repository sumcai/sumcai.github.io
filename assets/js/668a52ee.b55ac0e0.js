"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[3397],{544:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>f});var i=n(4848),c=n(8453);const d={title:"vkCmdCopyBuffer",description:"vkCmdCopyBuffer"},t=":material-chevron-right-circle: vkCmdCopyBuffer",s={id:"api/vkCmdCopyBuffer",title:"vkCmdCopyBuffer",description:"vkCmdCopyBuffer",source:"@site/docs/api/vkCmdCopyBuffer.md",sourceDirName:"api",slug:"/api/vkCmdCopyBuffer",permalink:"/api/vkCmdCopyBuffer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkCmdCopyBuffer",description:"vkCmdCopyBuffer"},sidebar:"VulkanApi",previous:{title:"vkCmdClearDepthStencilImage",permalink:"/api/vkCmdClearDepthStencilImage"},next:{title:"vkCreateBuffer",permalink:"/api/vkCreateBuffer"}},o={},f=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function l(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"material-chevron-right-circle-vkcmdcopybuffer",children:":material-chevron-right-circle: vkCmdCopyBuffer"})}),"\n",(0,i.jsx)(r.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"void vkCmdCopyBuffer(\r\n    VkCommandBuffer       commandBuffer,\r\n    VkBuffer              srcBuffer,\r\n    VkBuffer              dstBuffer,\r\n    uint32_t              regionCount,\r\n    const VkBufferCopy*   pRegions);\n"})}),"\n",(0,i.jsx)(r.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,i.jsx)(r.p,{children:"\u5728\u4e24\u4e2abuffer\u7f13\u51b2\u533a\u4e4b\u95f4\u590d\u5236\u6570\u636e \u3002"}),"\n",(0,i.jsx)(r.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"commandBuffer"})," : \u5f55\u5236\u6307\u4ee4\u7684\u547d\u4ee4\u7f13\u51b2\u533a\u3002"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"srcBuffer"})," : \u6e90\u7f13\u51b2\u533a\uff0c\u5fc5\u987b\u6709 VK_BUFFER_USAGE_TRANSFER_SRC_BIT\u3002"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"dstBuffer"})," : \u76ee\u6807\u7f13\u51b2\u533a\uff0c\u5fc5\u987b\u6709 VK_BUFFER_USAGE_TRANSFER_DST_BIT\u3002"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"regionCount"})," : \u8981\u590d\u5236\u7684\u533a\u57df\u6570\u91cf\uff08\u901a\u5e38\u4e3a 1\uff09\u3002"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"pRegions"})," : \u6307\u5411\u4e00\u4e2a\u6216\u591a\u4e2a VkBufferCopy \u7ed3\u6784\u4f53\uff0c\u5b9a\u4e49\u4e86\u6bcf\u4e2a copy \u7684\u504f\u79fb\u548c\u5927\u5c0f\u3002"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"VkBufferCopy"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"typedef struct VkBufferCopy {\r\n    VkDeviceSize srcOffset; // \u6e90\u7f13\u51b2\u533a\u504f\u79fb\r\n    VkDeviceSize dstOffset; // \u76ee\u6807\u7f13\u51b2\u533a\u504f\u79fb\r\n    VkDeviceSize size;      // \u8981\u590d\u5236\u7684\u5b57\u8282\u6570\r\n} VkBufferCopy;\n"})}),"\n",(0,i.jsx)(r.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,i.jsx)(r.p,{children:"\u65e0"}),"\n",(0,i.jsx)(r.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-cpp",children:"VkBufferCopy copyRegion = {\r\n    .srcOffset = 0,\r\n    .dstOffset = 0,\r\n    .size = 1024  // \u590d\u5236 1024 \u5b57\u8282\r\n};\r\n\r\nvkCmdCopyBuffer(\r\n    commandBuffer,\r\n    stagingBuffer,\r\n    vertexBuffer,\r\n    1,\r\n    &copyRegion\r\n);\r\n\n"})})]})}function u(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>s});var i=n(6540);const c={},d=i.createContext(c);function t(e){const r=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),i.createElement(d.Provider,{value:r},e.children)}}}]);