"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[7185],{5118:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var r=n(4848),c=n(8453);const a={title:"vkCmdClearAttachments",description:"vkCmdClearAttachments"},l=":material-chevron-right-circle: vkCmdClearAttachments",s={id:"api/vkCmdClearAttachments",title:"vkCmdClearAttachments",description:"vkCmdClearAttachments",source:"@site/docs/api/vkCmdClearAttachments.md",sourceDirName:"api",slug:"/api/vkCmdClearAttachments",permalink:"/api/vkCmdClearAttachments",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkCmdClearAttachments",description:"vkCmdClearAttachments"},sidebar:"VulkanApi",previous:{title:"vkCmdBlitImage",permalink:"/api/vkCmdBlitImage"},next:{title:"vkCmdClearColorImage",permalink:"/api/vkCmdClearColorImage"}},i={},d=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"material-chevron-right-circle-vkcmdclearattachments",children:":material-chevron-right-circle: vkCmdClearAttachments"})}),"\n",(0,r.jsx)(t.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c",children:"void vkCmdClearAttachments(\r\n    VkCommandBuffer           commandBuffer,\r\n    uint32_t                  attachmentCount,\r\n    const VkClearAttachment*  pAttachments,\r\n    uint32_t                  rectCount,\r\n    const VkClearRect*        pRects);\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,r.jsx)(t.p,{children:"\u6e05\u9664\u989c\u8272\u3001\u6df1\u5ea6\u6216\u6a21\u677f\u9644\u4ef6\u7684\u90e8\u5206\u533a\u57df\u3002"}),"\n",(0,r.jsx)(t.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"commandBuffer"})," : \u5f55\u5236\u6307\u4ee4\u7684\u547d\u4ee4\u7f13\u51b2\u533a\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"attachmentCount"})," : \u6e05\u9664\u7684\u9644\u4ef6\u4e2a\u6570\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"pAttachments"})," : \u6e05\u9664\u7684\u9644\u4ef6\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"rectCount"})," : \u6e05\u9664\u7684\u533a\u57df\u6570\u91cf\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"pRects"})," : \u6e05\u9664\u7684\u533a\u57df\u3002"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"VkClearAttachment"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"typedef struct VkClearAttachment {\r\n    VkImageAspectFlags    aspectMask;        // COLOR/DEPTH/STENCIL\r\n    uint32_t              colorAttachment;   // \u54ea\u4e2a\u989c\u8272attachment\r\n    VkClearValue          clearValue;        // \u6e05\u9664\u989c\u8272 or \u6df1\u5ea6\u6a21\u677f\u503c\r\n} VkClearAttachment;\n"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"VkClearRect"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"typedef struct VkClearRect {\r\n    VkRect2D    rect;             // \u6e05\u9664\u77e9\u5f62\u533a\u57df\r\n    uint32_t    baseArrayLayer;   // \u8d77\u59cb\u5c42\uff08\u9002\u7528\u4e8e array \u56fe\u50cf\uff09\r\n    uint32_t    layerCount;       // \u6e05\u9664\u591a\u5c11\u5c42\r\n} VkClearRect;\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,r.jsx)(t.p,{children:"\u65e0"}),"\n",(0,r.jsx)(t.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"// \u6e05\u9664\u989c\u8272 attachment 0 \u7684\u4e00\u5757\u7eff\u8272\u77e9\u5f62\u533a\u57df\r\nVkClearAttachment clearAttachment = {};\r\nclearAttachment.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;\r\nclearAttachment.colorAttachment = 0;  // \u7b2c0\u4e2a\u989c\u8272attachment\r\nclearAttachment.clearValue.color = {{0.0f, 1.0f, 0.0f, 1.0f}};  // \u7eff\u8272\r\n\r\nVkClearRect clearRect = {};\r\nclearRect.rect.offset = {100, 100};        // \u8d77\u70b9\u4f4d\u7f6e\r\nclearRect.rect.extent = {200, 200};        // \u6e05\u9664\u5bbd\u9ad8\r\nclearRect.baseArrayLayer = 0;\r\nclearRect.layerCount = 1;\r\n\r\nvkCmdClearAttachments(\r\n    commandBuffer,\r\n    1, &clearAttachment,\r\n    1, &clearRect);\r\n\r\n\r\n// \u6e05\u9664\u6df1\u5ea6\u548c\u6a21\u677f\u7f13\u51b2\r\nVkClearAttachment clearAttachment = {};\r\nclearAttachment.aspectMask = VK_IMAGE_ASPECT_DEPTH_BIT | VK_IMAGE_ASPECT_STENCIL_BIT;\r\nclearAttachment.clearValue.depthStencil = {1.0f, 0};  // \u6df1\u5ea6 = 1.0\uff0c\u6a21\u677f = 0\r\n\r\nVkClearRect clearRect = {};\r\nclearRect.rect.offset = {0, 0};\r\nclearRect.rect.extent = {width, height};  // \u6e05\u9664\u6574\u4e2a\u5c4f\u5e55\r\nclearRect.baseArrayLayer = 0;\r\nclearRect.layerCount = 1;\r\n\r\nvkCmdClearAttachments(\r\n    commandBuffer,\r\n    1, &clearAttachment,\r\n    1, &clearRect);\r\n\n"})})]})}function m(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var r=n(6540);const c={},a=r.createContext(c);function l(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);