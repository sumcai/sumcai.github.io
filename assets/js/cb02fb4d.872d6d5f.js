"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[4786],{4257:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>s,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var i=r(4848),f=r(8453);const o={title:"vkBindBufferMemory",description:"vkBindBufferMemory"},t="vkBindBufferMemory",l={id:"api/vkBindBufferMemory",title:"vkBindBufferMemory",description:"vkBindBufferMemory",source:"@site/docs/api/vkBindBufferMemory.md",sourceDirName:"api",slug:"/api/vkBindBufferMemory",permalink:"/api/vkBindBufferMemory",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkBindBufferMemory",description:"vkBindBufferMemory"},sidebar:"VulkanApi",previous:{title:"vkBeginCommandBuffer",permalink:"/api/vkBeginCommandBuffer"},next:{title:"vkBindImageMemory",permalink:"/api/vkBindImageMemory"}},d={},c=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,f.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"vkbindbuffermemory",children:"vkBindBufferMemory"})}),"\n",(0,i.jsx)(n.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:"VkResult vkBindBufferMemory(\n    VkDevice                                    device,\n    VkBuffer                                    buffer,\n    VkDeviceMemory                              memory,\n    VkDeviceSize                                memoryOffset);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u663e\u5b58\u7ed1\u5b9a\u5230buffer\u5bf9\u8c61\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"device"})," : buffer\u548cmemory\u6240\u5728\u7684\u903b\u8f91\u8bbe\u5907\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"buffer"})," : \u5c06\u8981\u7ed1\u5b9amemory\u7684buffer\u5bf9\u8c61\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"memory"})," : ",(0,i.jsx)(n.code,{children:"VkDeviceMemory"}),"\u5bf9\u8c61,\u63cf\u8ff0\u4e86\u8981\u7ed1\u5b9a\u7684\u8bbe\u5907\u5185\u5b58\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"memoryOffset"})," : \u7ed1\u5b9a\u7684\u5185\u5b58\u8d77\u59cb\u504f\u79fb\u91cf\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"VK_SUCCESS"})," : \u6210\u529f\u7ed1\u5b9amemory\u5230buffer\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5176\u4ed6 : \u7ed1\u5b9a\u5931\u8d25\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'void CreateBuffer(VkDeviceSize size, VkDevice device, VkBuffer& buffer, VkDeviceMemory& bufferMemory)\n{\n\tVkBufferCreateInfo bufferInfo{};\n\tbufferInfo.sType = VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO;\n\tbufferInfo.size = size;\n\tbufferInfo.usage = VK_BUFFER_USAGE_TRANSFER_SRC_BIT;\n\tbufferInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;\n\n\tif (vkCreateBuffer(device, &bufferInfo, nullptr, &buffer) != VK_SUCCESS) {\n\t\tthrow std::runtime_error("failed to create buffer!");\n\t}\n\t\t\n\tVkMemoryRequirements memRequirements;\n\tvkGetBufferMemoryRequirements(device, buffer, &memRequirements);\n\n\tVkMemoryAllocateInfo allocInfo{};\n\tallocInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;\n\tallocInfo.allocationSize = memRequirements.size;\n\tallocInfo.memoryTypeIndex = 0;\n\n\tif (vkAllocateMemory(device, &allocInfo, nullptr, &bufferMemory) != VK_SUCCESS) {\n\t\tthrow std::runtime_error("failed to allocate buffer memory!");\n\t}\n\n\tvkBindBufferMemory(device, buffer, bufferMemory, 0);\n}\n\n'})})]})}function s(e={}){const{wrapper:n}={...(0,f.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(6540);const f={},o=i.createContext(f);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(f):e.components||f:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);