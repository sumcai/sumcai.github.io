"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[6608],{5972:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>m,frontMatter:()=>d,metadata:()=>a,toc:()=>i});var o=l(4848),c=l(8453);const d={title:"vkAllocateCommandBuffers",description:"vkAllocateCommandBuffers"},r="vkAllocateCommandBuffers",a={id:"api/vkAllocateCommandBuffers",title:"vkAllocateCommandBuffers",description:"vkAllocateCommandBuffers",source:"@site/docs/api/vkAllocateCommandBuffers.md",sourceDirName:"api",slug:"/api/vkAllocateCommandBuffers",permalink:"/api/vkAllocateCommandBuffers",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkAllocateCommandBuffers",description:"vkAllocateCommandBuffers"},sidebar:"VulkanApi",previous:{title:"vkAcquireNextImageKHR",permalink:"/api/vkAcquireNextImageKHR"},next:{title:"vkAllocateDescriptorSets",permalink:"/api/vkAllocateDescriptorSets"}},t={},i=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function s(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"vkallocatecommandbuffers",children:"vkAllocateCommandBuffers"})}),"\n",(0,o.jsx)(n.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:"VkResult vkAllocateCommandBuffers(\n    VkDevice                                    device,\n    const VkCommandBufferAllocateInfo*          pAllocateInfo,\n    VkCommandBuffer*                            pCommandBuffers);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,o.jsx)(n.p,{children:"\u4ece\u547d\u4ee4\u7f13\u51b2\u6c60\u4e2d\u5206\u914d\u547d\u4ee4\u7f13\u51b2\u533a\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"device"})," : \u5305\u542b\u547d\u4ee4\u7f13\u51b2\u6c60\u7684\u903b\u8f91\u8bbe\u5907\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"pAllocateInfo"})," : ",(0,o.jsx)(n.code,{children:"VkCommandBufferAllocateInfo"})," \u7ed3\u6784\u4f53\u6307\u9488\uff0c\u63cf\u8ff0\u4e86\u5982\u4f55\u5206\u914d\u547d\u4ee4\u7f13\u51b2\u533a\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"pCommandBuffers"})," : ",(0,o.jsx)(n.code,{children:"VkCommandBuffer"}),"\u53e5\u67c4\u6570\u7ec4\u7684\u6307\u9488\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u8868\u793a\u751f\u6210\u7684\u547d\u4ee4\u7f13\u51b2\u533a\u5bf9\u8c61\u3002\u6570\u7ec4\u7684\u957f\u5ea6\u4e3apAllocateInfo.commandBufferCount\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"VkCommandBufferAllocateInfo"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"typedef struct VkCommandBufferAllocateInfo {\n    VkStructureType         sType;\n    const void*             pNext;\n    VkCommandPool           commandPool;\n    VkCommandBufferLevel    level;\n    uint32_t                commandBufferCount;\n} VkCommandBufferAllocateInfo;\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"sType"})," : VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"commandPool"})," : \u5206\u914d\u547d\u4ee4\u7f13\u51b2\u533a\u7684\u547d\u4ee4\u6c60"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"level"})," : ",(0,o.jsx)(n.code,{children:"VkCommandBufferLevel"}),"\u4ee3\u8868\u7684\u547d\u4ee4\u7f13\u51b2\u7ea7\u522b"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"typedef enum VkCommandBufferLevel {\n    VK_COMMAND_BUFFER_LEVEL_PRIMARY = 0,    //\u4e3b\u547d\u4ee4\u7f13\u51b2\u533a\n    VK_COMMAND_BUFFER_LEVEL_SECONDARY = 1,  //\u8f85\u52a9\u547d\u4ee4\u7f13\u51b2\u533a\n} VkCommandBufferLevel;\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"commandBufferCount"})," : \u60f3\u4ece\u547d\u4ee4\u6c60\u4e2d\u5206\u914d\u7684\u547d\u4ee4\u7f13\u51b2\u533a\u7684\u6570\u91cf"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"VK_SUCCESS"})," : \u6210\u529f\u5206\u914d\u547d\u4ee4\u7f13\u51b2\u533a\u3002"]}),"\n",(0,o.jsx)(n.li,{children:"\u5176\u4ed6 : \u5206\u914d\u547d\u4ee4\u7f13\u51b2\u533a\u5931\u8d25\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:"VkCommandBuffer create_command_buffer(VkDevice device, VkCommandPool commandPool)\n{\n\tVkCommandBufferAllocateInfo cmd_buf_allocate_info = {};\n\tcmd_buf_allocate_info.sType              = VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO;\n\tcmd_buf_allocate_info.commandPool        = commandPool;\n\tcmd_buf_allocate_info.level              = VK_COMMAND_BUFFER_LEVEL_PRIMARY;\n\tcmd_buf_allocate_info.commandBufferCount = 1;\n\n\tVkCommandBuffer command_buffer;\n\tVK_CHECK(vkAllocateCommandBuffers(device, &cmd_buf_allocate_info, &command_buffer));\n\n\treturn command_buffer;\n}\n"})})]})}function m(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(s,{...e})}):s(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>a});var o=l(6540);const c={},d=o.createContext(c);function r(e){const n=o.useContext(d);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),o.createElement(d.Provider,{value:n},e.children)}}}]);