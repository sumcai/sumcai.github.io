"use strict";(self.webpackChunkvulkan_doc=self.webpackChunkvulkan_doc||[]).push([[9763],{8894:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>d});var l=n(4848),a=n(8453);const t={title:"vkCmdClearColorImage",description:"vkCmdClearColorImage"},o=":material-chevron-right-circle: vkCmdClearColorImage",i={id:"api/vkCmdClearColorImage",title:"vkCmdClearColorImage",description:"vkCmdClearColorImage",source:"@site/docs/api/vkCmdClearColorImage.md",sourceDirName:"api",slug:"/api/vkCmdClearColorImage",permalink:"/api/vkCmdClearColorImage",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"vkCmdClearColorImage",description:"vkCmdClearColorImage"},sidebar:"VulkanApi",previous:{title:"vkCmdClearAttachments",permalink:"/api/vkCmdClearAttachments"},next:{title:"vkCmdClearDepthStencilImage",permalink:"/api/vkCmdClearDepthStencilImage"}},c={},d=[{value:"\u51fd\u6570\u539f\u578b",id:"\u51fd\u6570\u539f\u578b",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:2}];function s(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"material-chevron-right-circle-vkcmdclearcolorimage",children:":material-chevron-right-circle: vkCmdClearColorImage"})}),"\n",(0,l.jsx)(r.h2,{id:"\u51fd\u6570\u539f\u578b",children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-c",children:"void vkCmdClearColorImage(\r\n    VkCommandBuffer commandBuffer,\r\n    VkImage         image,\r\n    VkImageLayout   imageLayout,\r\n    const VkClearColorValue* pColor,\r\n    uint32_t        rangeCount,\r\n    const VkImageSubresourceRange* pRanges);\n"})}),"\n",(0,l.jsx)(r.h2,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,l.jsx)(r.p,{children:"\u6e05\u9664\u56fe\u50cf\u989c\u8272\u5185\u5bb9\uff08\u901a\u5e38\u662f\u7eb9\u7406\u6216\u989c\u8272\u9644\u4ef6\uff09\u3002"}),"\n",(0,l.jsx)(r.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"commandBuffer"})," : \u5f55\u5236\u6307\u4ee4\u7684\u547d\u4ee4\u7f13\u51b2\u533a\u3002"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"image"})," : \u8981\u88ab\u6e05\u9664\u989c\u8272\u7684\u76ee\u6807\u56fe\u50cf\uff08texture\u3001color attachment \u7b49\uff09\u3002"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"imageLayout"})," : \u56fe\u50cf\u5728\u6e05\u9664\u64cd\u4f5c\u65f6\u7684\u5f53\u524d\u5e03\u5c40\uff0c\u5fc5\u987b\u662f",(0,l.jsx)(r.code,{children:"VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL"}),"\u6216",(0,l.jsx)(r.code,{children:"VK_IMAGE_LAYOUT_GENERAL"})," \u3002"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"pColor"})," : \u8981\u586b\u5145\u8fdb\u56fe\u50cf\u7684\u989c\u8272\u503c\u3002"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"rangeCount"})," : \u56fe\u50cf\u5b50\u533a\u57df\u8303\u56f4\u7684\u6570\u91cf\u3002"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"pRanges"})," : \u56fe\u50cf\u5b50\u533a\u57df\u8303\u56f4\u3002"]}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"VkClearColorValue"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"typedef union VkClearColorValue {\r\n    float       float32[4];\r\n    int32_t     int32[4];\r\n    uint32_t    uint32[4];\r\n} VkClearColorValue;\n"})}),"\n",(0,l.jsx)(r.p,{children:"\u9009\u54ea\u79cd\u683c\u5f0f\u7531\u56fe\u50cf\u7684\u683c\u5f0f\u51b3\u5b9a\uff08\u5982 RGBA8 \u7528 uint32\uff0cRGBA32F \u7528 float32\uff09\u3002"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.code,{children:"VkImageSubresourceRange"})," \u7ed3\u6784\u4f53\u5b9a\u4e49\uff1a"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"typedef struct VkImageSubresourceRange {\r\n    VkImageAspectFlags    aspectMask;\t\t// \u901a\u5e38\u4e3a VK_IMAGE_ASPECT_COLOR_BIT\uff08\u4e5f\u53ef\u80fd\u662f DEPTH_BIT/STENCIL_BIT\uff09\r\n    uint32_t              baseMipLevel;\t\t// \u4ece\u54ea\u4e2a mip \u5c42\u7ea7\u5f00\u59cb\u6e05\u9664\uff08\u901a\u5e38\u662f 0\uff09\r\n    uint32_t              levelCount;\t\t// \u6e05\u9664\u51e0\u4e2a mip \u5c42\u7ea7\uff08\u901a\u5e38\u662f 1 \u6216 VK_REMAINING_MIP_LEVELS\uff09\r\n    uint32_t              baseArrayLayer;\t// \u4ece\u54ea\u4e2a array layer \u5f00\u59cb\r\n    uint32_t              layerCount;\t\t// \u6e05\u9664\u591a\u5c11\u4e2a array layer\uff08\u5982 1\uff0c\u6216 VK_REMAINING_ARRAY_LAYERS\uff09\r\n} VkImageSubresourceRange;\n"})}),"\n",(0,l.jsx)(r.h2,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,l.jsx)(r.p,{children:"\u65e0"}),"\n",(0,l.jsx)(r.h2,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-cpp",children:"// \u6e05\u9664\u6574\u5f20\u56fe\u50cf\u4e3a\u7ea2\u8272\r\nVkClearColorValue clearColor = {{1.0f, 0.0f, 0.0f, 1.0f}}; // \u7ea2\u8272\r\n\r\nVkImageSubresourceRange range = {};\r\nrange.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;\r\nrange.baseMipLevel = 0;\r\nrange.levelCount = 1;\r\nrange.baseArrayLayer = 0;\r\nrange.layerCount = 1;\r\n\r\nvkCmdClearColorImage(\r\n    commandBuffer,\r\n    image,\r\n    VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL,\r\n    &clearColor,\r\n    1,\r\n    &range);\r\n\n"})})]})}function m(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(s,{...e})}):s(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var l=n(6540);const a={},t=l.createContext(a);function o(e){const r=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),l.createElement(t.Provider,{value:r},e.children)}}}]);