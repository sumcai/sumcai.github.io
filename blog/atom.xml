<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.iogl.cn/blog</id>
    <title>Vulkan Guide Blog</title>
    <updated>2025-07-30T13:17:18.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.iogl.cn/blog"/>
    <subtitle>Vulkan Guide Blog</subtitle>
    <icon>https://www.iogl.cn/img/fav.png</icon>
    <entry>
        <title type="html"><![CDATA[KHR_buffer_device_addressçš„ç”¨æ³•]]></title>
        <id>https://www.iogl.cn/blog/20.KHR_buffer_device_addressçš„ç”¨æ³•</id>
        <link href="https://www.iogl.cn/blog/20.KHR_buffer_device_addressçš„ç”¨æ³•"/>
        <updated>2025-07-30T13:17:18.000Z</updated>
        <summary type="html"><![CDATA[VKKHRbufferdeviceaddress æ‰©å±•æ˜¯ Vulkan ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ ä» GPU ä¸Šç›´æ¥è·å– Buffer çš„â€œè®¾å¤‡åœ°å€â€ï¼Œä»è€Œæ”¯æŒï¼š]]></summary>
        <content type="html"><![CDATA[<p><code>VK_KHR_buffer_device_address</code> æ‰©å±•æ˜¯ Vulkan ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ <strong>ä» GPU ä¸Šç›´æ¥è·å– Buffer çš„â€œè®¾å¤‡åœ°å€â€</strong>ï¼Œä»è€Œæ”¯æŒï¼š</p>
<blockquote>
<p>âœ… <strong>æŒ‡é’ˆå¼ GPU ç¼–ç¨‹</strong>ï¼ˆå¦‚ GPU ä¸Šçš„ç»“æ„ä½“é“¾è¡¨ã€æŒ‡é’ˆè·³è½¬ç­‰ï¼‰</p>
</blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ç®€å•ç†è§£å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ">ğŸ§© ç®€å•ç†è§£ï¼šå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88" class="hash-link" aria-label="ğŸ§© ç®€å•ç†è§£ï¼šå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿçš„ç›´æ¥é“¾æ¥" title="ğŸ§© ç®€å•ç†è§£ï¼šå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¼ ç»Ÿ Vulkan ä¸­ï¼ŒGPU æ— æ³•çŸ¥é“ buffer åœ¨è®¾å¤‡ä¸Šçš„åœ°å€ï¼Œåªèƒ½é€šè¿‡ binding æ¥è®¿é—®ã€‚ä½†å¼€å¯ <code>VK_KHR_buffer_device_address</code> åï¼š</p>
<blockquote>
<p>ä½ å¯ä»¥åœ¨ GPU shader ä¸­ä½¿ç”¨è®¾å¤‡åœ°å€ (<code>deviceAddress</code>) æŒ‡å‘æŸä¸ª Buffer çš„ä»»æ„ä½ç½®ï¼ŒåƒæŒ‡é’ˆä¸€æ ·è®¿é—®å†…å­˜ã€‚</p>
</blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ä¸»è¦ä½œç”¨å’Œç”¨é€”">âœ… ä¸»è¦ä½œç”¨å’Œç”¨é€”<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8%E5%92%8C%E7%94%A8%E9%80%94" class="hash-link" aria-label="âœ… ä¸»è¦ä½œç”¨å’Œç”¨é€”çš„ç›´æ¥é“¾æ¥" title="âœ… ä¸»è¦ä½œç”¨å’Œç”¨é€”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>ä½œç”¨</th><th>ç¤ºä¾‹ç”¨é€”</th></tr></thead><tbody><tr><td>1ï¸âƒ£ è·å– GPU ä¸Šçš„ buffer åœ°å€</td><td><code>vkGetBufferDeviceAddress</code> å–å¾—æŒ‡é’ˆ</td></tr><tr><td>2ï¸âƒ£ Shader ä¸­å¯ä»¥æ“ä½œ raw è®¾å¤‡åœ°å€</td><td>ç”¨äºæ„é€ é“¾è¡¨ã€æ ‘ã€BVH ç­‰</td></tr><tr><td>3ï¸âƒ£ å¯ç”¨ GPU pointer è®¡ç®—</td><td>ç±»ä¼¼ C++ æŒ‡é’ˆï¼Œåœ¨ Shader é‡Œæ“ä½œå†…å­˜</td></tr><tr><td>4ï¸âƒ£ å®ç°è‡ªå®šä¹‰å†…å­˜ç®¡ç†å™¨</td><td>åŠ¨æ€åˆ†é…ã€è·³è½¬ã€éå† GPU æ•°æ®ç»“æ„</td></tr><tr><td>5ï¸âƒ£ æ”¯æŒ RTX å’ŒåŠ é€Ÿç»“æ„ï¼ˆå¦‚ BLAS/TLASï¼‰</td><td>å¿…é¡»è¦æ±‚ device address</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ç¤ºä¾‹è·å–-buffer-çš„è®¾å¤‡åœ°å€">ğŸ§ª ç¤ºä¾‹ï¼šè·å– Buffer çš„è®¾å¤‡åœ°å€<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E7%A4%BA%E4%BE%8B%E8%8E%B7%E5%8F%96-buffer-%E7%9A%84%E8%AE%BE%E5%A4%87%E5%9C%B0%E5%9D%80" class="hash-link" aria-label="ğŸ§ª ç¤ºä¾‹ï¼šè·å– Buffer çš„è®¾å¤‡åœ°å€çš„ç›´æ¥é“¾æ¥" title="ğŸ§ª ç¤ºä¾‹ï¼šè·å– Buffer çš„è®¾å¤‡åœ°å€çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkBufferDeviceAddressInfo addr_info = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .sType = VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .buffer = myBuffer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceAddress addr = vkGetBufferDeviceAddress(device, &amp;addr_info);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™ä¸ªåœ°å€å¯ä»¥ä¼ å…¥ Shaderï¼Œé€šè¿‡ <code>uint64_t</code> æ¥æ”¶ï¼Œç„¶ååšæŒ‡é’ˆè·³è½¬æˆ–è®¿é—®ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-glsl-ä¸­æ€ä¹ˆä½¿ç”¨">âœï¸ GLSL ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿ<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#%EF%B8%8F-glsl-%E4%B8%AD%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8" class="hash-link" aria-label="âœï¸ GLSL ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="âœï¸ GLSL ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glslå¤åˆ¶ç¼–è¾‘#extension GL_EXT_buffer_reference : enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#extension GL_EXT_buffer_reference2 : enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#extension GL_EXT_scalar_block_layout : enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(buffer_reference, scalar) buffer Node;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Node {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    float value;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node next;   // åµŒå¥—å¼•ç”¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(set = 0, binding = 0) buffer Root {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node root;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node current = root;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (current.value &lt; 10.0) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        current = current.next;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™åœ¨ä¼ ç»Ÿ Vulkan æ˜¯<strong>æ— æ³•å®ç°</strong>çš„ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ä½¿ç”¨æ­¥éª¤">ğŸš€ ä½¿ç”¨æ­¥éª¤<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4" class="hash-link" aria-label="ğŸš€ ä½¿ç”¨æ­¥éª¤çš„ç›´æ¥é“¾æ¥" title="ğŸš€ ä½¿ç”¨æ­¥éª¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li><strong>å¼€å¯æ‰©å±•ï¼š</strong></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘enabledExtensions = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "VK_KHR_buffer_device_address"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><strong>å¯ç”¨è®¾å¤‡ç‰¹æ€§ï¼š</strong></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkPhysicalDeviceBufferDeviceAddressFeatures features = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .bufferDeviceAddress = VK_TRUE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><strong>åˆ›å»º buffer æ—¶åŠ  flagï¼š</strong></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">å¤åˆ¶ç¼–è¾‘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bufferCreateInfo.usage |= VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><strong>è°ƒç”¨ <code>vkGetBufferDeviceAddress()</code> è·å–åœ°å€</strong></li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#%EF%B8%8F-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" class="hash-link" aria-label="âš ï¸ æ³¨æ„äº‹é¡¹çš„ç›´æ¥é“¾æ¥" title="âš ï¸ æ³¨æ„äº‹é¡¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>é™åˆ¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>å¿…é¡» GPU é©±åŠ¨æ”¯æŒè¯¥æ‰©å±•</td><td></td></tr><tr><td>å¿…é¡»è®¾ç½® <code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT</code></td><td></td></tr><tr><td>ä»…æ”¯æŒ Vulkan 1.2+ æˆ–é€šè¿‡æ‰©å±•å¼€å¯</td><td></td></tr><tr><td>ä½¿ç”¨ device address æ„å‘³ç€éœ€è¦æ³¨æ„å¯¹é½ã€è®¿é—®åˆæ³•æ€§ï¼ˆä½ åœ¨ shader ä¸­â€œè¶Šç•Œâ€ä¼šå¼•å‘ crashï¼‰</td><td></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ€»ç»“">âœ… æ€»ç»“<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E6%80%BB%E7%BB%93" class="hash-link" aria-label="âœ… æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="âœ… æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ‰©å±•å</td><td><code>VK_KHR_buffer_device_address</code></td></tr><tr><td>ä½œç”¨</td><td>è·å– Buffer çš„ GPU è®¾å¤‡åœ°å€</td></tr><tr><td>ç”¨é€”</td><td>GPU æŒ‡é’ˆè®¿é—®ã€åŠ é€Ÿç»“æ„ï¼ˆå¦‚ RTXï¼‰ã€GPU å†…å­˜æ± ç­‰</td></tr><tr><td>Shader è®¿é—®</td><td>GLSL/GL_EXT_buffer_reference + æŒ‡é’ˆè·³è½¬</td></tr><tr><td>Vulkan API</td><td><code>vkGetBufferDeviceAddress</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹">ç¤ºä¾‹<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1ï¸âƒ£-vulkan-ç«¯å‡†å¤‡">1ï¸âƒ£ Vulkan ç«¯å‡†å¤‡<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#1%EF%B8%8F%E2%83%A3-vulkan-%E7%AB%AF%E5%87%86%E5%A4%87" class="hash-link" aria-label="1ï¸âƒ£ Vulkan ç«¯å‡†å¤‡çš„ç›´æ¥é“¾æ¥" title="1ï¸âƒ£ Vulkan ç«¯å‡†å¤‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><strong>å¯ç”¨æ‰©å±•</strong> <code>VK_KHR_buffer_device_address</code> å¹¶è®¾ç½®ç‰¹æ€§</p>
<p><strong>åˆ›å»º buffer</strong> æ—¶åŠ ä¸Š <code>VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT</code></p>
<p><strong>åˆ†é…å†…å­˜</strong> æ—¶åŠ ä¸Š <code>VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_BIT</code></p>
<p><strong>è¯»å– GPU åœ°å€</strong> ä½¿ç”¨ <code>vkGetBufferDeviceAddress</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 1. åœ¨ VkDeviceCreateInfo çš„ pNext é“¾ä¸­å¯ç”¨ç‰¹æ€§</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkPhysicalDeviceBufferDeviceAddressFeaturesKHR bda_feat{};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bda_feat.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_BUFFER_DEVICE_ADDRESS_FEATURES_KHR;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bda_feat.bufferDeviceAddress = VK_TRUE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkPhysicalDeviceFeatures2 features2{VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES2};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">features2.pNext = &amp;bda_feat;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkGetPhysicalDeviceFeatures2(physDevice, &amp;features2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceCreateInfo di{VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">di.pNext = &amp;features2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateDevice(physDevice, &amp;di, nullptr, &amp;device);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 2. åˆ›å»º buffer å¹¶åˆ†é…æ”¯æŒ device address çš„ memory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkBufferCreateInfo bi{VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bi.size = sizeof(Node) * MAX_NODES;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bi.usage = VK_BUFFER_USAGE_STORAGE_BUFFER_BIT | VK_BUFFER_USAGE_SHADER_DEVICE_ADDRESS_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkBuffer buf;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateBuffer(device, &amp;bi, nullptr, &amp;buf);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryRequirements mr;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkGetBufferMemoryRequirements(device, buf, &amp;mr);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryAllocateFlagsInfo flagsInfo{VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_FLAGS_INFO};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flagsInfo.flags = VK_MEMORY_ALLOCATE_DEVICE_ADDRESS_BIT_KHR;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryAllocateInfo mai{VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mai.allocationSize = mr.size;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mai.memoryTypeIndex = find_mem_type(mr.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mai.pNext = &amp;flagsInfo;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceMemory mem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkAllocateMemory(device, &amp;mai, nullptr, &amp;mem);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkBindBufferMemory(device, buf, mem, 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 3. è·å– GPU åœ°å€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkBufferDeviceAddressInfoKHR addrInfo{VK_STRUCTURE_TYPE_BUFFER_DEVICE_ADDRESS_INFO_KHR};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">addrInfo.buffer = buf;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uint64_t gpuAddr = vkGetBufferDeviceAddressKHR(device, &amp;addrInfo);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2ï¸âƒ£-cpu-ç«¯æ„é€ é“¾è¡¨æ•°æ®">2ï¸âƒ£ CPU ç«¯æ„é€ é“¾è¡¨æ•°æ®<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#2%EF%B8%8F%E2%83%A3-cpu-%E7%AB%AF%E6%9E%84%E9%80%A0%E9%93%BE%E8%A1%A8%E6%95%B0%E6%8D%AE" class="hash-link" aria-label="2ï¸âƒ£ CPU ç«¯æ„é€ é“¾è¡¨æ•°æ®çš„ç›´æ¥é“¾æ¥" title="2ï¸âƒ£ CPU ç«¯æ„é€ é“¾è¡¨æ•°æ®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Node { uint32_t data; uint64_t next; };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std::vector&lt;Node&gt; nodes = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {10, gpuAddr + sizeof(Node)*1},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {20, gpuAddr + sizeof(Node)*2},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {30, 0ull}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkMemcpyToBuffer(buf, nodes.data(), sizeof(Node) * nodes.size());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œ <code>next</code> å­˜å‚¨äº† GPU åœ°å€ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å½¢æˆé“¾è¡¨ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3ï¸âƒ£-glsl-shader-ä¸­ä½¿ç”¨æŒ‡é’ˆè®¿é—®">3ï¸âƒ£ GLSL Shader ä¸­ä½¿ç”¨æŒ‡é’ˆè®¿é—®<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#3%EF%B8%8F%E2%83%A3-glsl-shader-%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE" class="hash-link" aria-label="3ï¸âƒ£ GLSL Shader ä¸­ä½¿ç”¨æŒ‡é’ˆè®¿é—®çš„ç›´æ¥é“¾æ¥" title="3ï¸âƒ£ GLSL Shader ä¸­ä½¿ç”¨æŒ‡é’ˆè®¿é—®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>éœ€è¦å¼€å¯æ‰©å±•å’Œ buffer referenceï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 450</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#extension GL_EXT_buffer_reference : require</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(buffer_reference, buffer_reference_align=8) buffer Node {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    uint data;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node next;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(std430, set=0, binding=0) buffer Root {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node root;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(set=0, binding=1) uniform UBO {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    uint dummy; // å¯é€‰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} ubo;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(location=0) out uint outData;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Node cur = root;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    while (cur.next != 0u) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        cur = cur.next;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    outData = cur.data; // åº”è¯¥è¾“å‡º 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨ shader ä¸­ï¼Œ<code>root</code> ä» descriptor set 0 ç»‘å®šï¼Œå¹¶åŒ…å« <code>gpuAddr</code>ã€‚å®ƒç›´æ¥ä»£è¡¨é“¾è¡¨èµ·å§‹èŠ‚ç‚¹ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ€»ç»“æ­¥éª¤">âœ… æ€»ç»“æ­¥éª¤<a href="https://www.iogl.cn/blog/20.KHR_buffer_device_address%E7%9A%84%E7%94%A8%E6%B3%95#-%E6%80%BB%E7%BB%93%E6%AD%A5%E9%AA%A4" class="hash-link" aria-label="âœ… æ€»ç»“æ­¥éª¤çš„ç›´æ¥é“¾æ¥" title="âœ… æ€»ç»“æ­¥éª¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>å¯ç”¨ <code>VK_KHR_buffer_device_address</code></li>
<li>åˆ›å»º buffer + device åœ°å€ buffer memory</li>
<li>è°ƒç”¨ <code>vkGetBufferDeviceAddress</code></li>
<li>æ„é€ é“¾è¡¨ï¼Œå†™å…¥ GPU åœ°å€</li>
<li>åœ¨ GLSL shader ä¸­ä½¿ç”¨ <code>buffer_reference</code> æŒ‡å‘é“¾è¡¨ start</li>
<li>åœ¨ shader ä¸­è‡ªç”±è·³è½¬ã€è¯»å–ç»“æ„æ•°æ®</li>
</ol>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[shader objectç”¨æ³•]]></title>
        <id>https://www.iogl.cn/blog/21.shader object</id>
        <link href="https://www.iogl.cn/blog/21.shader object"/>
        <updated>2025-07-30T13:17:18.000Z</updated>
        <summary type="html"><![CDATA[VKEXTshader_object æ˜¯ Vulkan çš„ä¸€ä¸ªæ‰©å±•ï¼ˆåœ¨ Vulkan 1.3+ å¸¸è§ GPU ä¸Šæ”¯æŒï¼‰ï¼Œå…¶ç›®æ ‡æ˜¯ç®€åŒ– shader ä½¿ç”¨æµç¨‹ï¼Œæä¾›ä¸€ç§æ¯”ä¼ ç»Ÿ pipeline æ›´è½»é‡ã€æ›´çµæ´»çš„æ–¹å¼æ¥ç®¡ç†å’Œç»‘å®šç€è‰²å™¨ï¼Œä¸å†éœ€è¦åˆ›å»ºå¤æ‚çš„ graphics/compute pipeline å¯¹è±¡ã€‚]]></summary>
        <content type="html"><![CDATA[<p><code>VK_EXT_shader_object</code> æ˜¯ Vulkan çš„ä¸€ä¸ªæ‰©å±•ï¼ˆåœ¨ Vulkan 1.3+ å¸¸è§ GPU ä¸Šæ”¯æŒï¼‰ï¼Œå…¶ç›®æ ‡æ˜¯<strong>ç®€åŒ– shader ä½¿ç”¨æµç¨‹</strong>ï¼Œæä¾›ä¸€ç§æ¯”ä¼ ç»Ÿ pipeline æ›´è½»é‡ã€æ›´çµæ´»çš„æ–¹å¼æ¥ç®¡ç†å’Œç»‘å®šç€è‰²å™¨ï¼Œ<strong>ä¸å†éœ€è¦åˆ›å»ºå¤æ‚çš„ graphics/compute pipeline å¯¹è±¡</strong>ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ ¸å¿ƒä½œç”¨">âœ… æ ¸å¿ƒä½œç”¨<a href="https://www.iogl.cn/blog/21.shader%20object#-%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8" class="hash-link" aria-label="âœ… æ ¸å¿ƒä½œç”¨çš„ç›´æ¥é“¾æ¥" title="âœ… æ ¸å¿ƒä½œç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¼ ç»Ÿ Vulkanï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateShaderModule</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreatePipelineLayout</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateGraphicsPipelines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkBeginCommandBuffer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdBindPipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdDraw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkEndCommandBuffer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä½¿ç”¨ <code>VK_EXT_shader_object</code> åï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateShadersEXT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkBeginCommandBuffer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdBeginRendering</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdBindShadersEXT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdDraw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdEndRendering</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkEndCommandBuffer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ä¸»è¦ä¼˜åŠ¿">ğŸš€ ä¸»è¦ä¼˜åŠ¿<a href="https://www.iogl.cn/blog/21.shader%20object#-%E4%B8%BB%E8%A6%81%E4%BC%98%E5%8A%BF" class="hash-link" aria-label="ğŸš€ ä¸»è¦ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥" title="ğŸš€ ä¸»è¦ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ul>
<li><strong>å… pipeline</strong>ï¼šä¸å†éœ€è¦æå‰ç»„åˆå¤šä¸ª shader æˆ pipeline</li>
<li><strong>shader çƒ­æ’æ‹”</strong>ï¼šå¯ä»¥åŠ¨æ€æ›¿æ¢å•ä¸ªé˜¶æ®µï¼ˆå¦‚ fragment shaderï¼‰</li>
<li><strong>çµæ´»</strong>ï¼šéå¸¸é€‚åˆåŠ¨æ€æ¸²æŸ“ç³»ç»Ÿã€è°ƒè¯•å·¥å…·ã€å¯ç¼–ç¨‹ pipeline</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-å…³é”®ç»“æ„å’Œå‡½æ•°">ğŸ§± å…³é”®ç»“æ„å’Œå‡½æ•°<a href="https://www.iogl.cn/blog/21.shader%20object#-%E5%85%B3%E9%94%AE%E7%BB%93%E6%9E%84%E5%92%8C%E5%87%BD%E6%95%B0" class="hash-link" aria-label="ğŸ§± å…³é”®ç»“æ„å’Œå‡½æ•°çš„ç›´æ¥é“¾æ¥" title="ğŸ§± å…³é”®ç»“æ„å’Œå‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-åˆ›å»º-shader-object">1. åˆ›å»º Shader Object<a href="https://www.iogl.cn/blog/21.shader%20object#1-%E5%88%9B%E5%BB%BA-shader-object" class="hash-link" aria-label="1. åˆ›å»º Shader Objectçš„ç›´æ¥é“¾æ¥" title="1. åˆ›å»º Shader Objectçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkShaderCreateInfoEXT shaderInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">stage </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_STAGE_VERTEX_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// é˜¶æ®µ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">nextStage </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯ç”¨äºç®¡çº¿ä¼˜åŒ–ï¼ˆå¯è®¾ä¸º 0ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeType </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// SPIR-V ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pCode </span><span class="token operator">=</span><span class="token plain"> spirvData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeSize </span><span class="token operator">=</span><span class="token plain"> spirvSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"main"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">                            </span><span class="token comment" style="color:rgb(98, 114, 164)">// entry point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯ä»¥è®¾ç½® descriptor layouts ç­‰ï¼ˆç±»ä¼¼ pipeline layoutï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkShaderEXT shader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateShadersEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">shaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">shader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ç»‘å®š-shaderä»£æ›¿-vkcmdbindpipeline">2. ç»‘å®š Shaderï¼ˆä»£æ›¿ <code>vkCmdBindPipeline</code>ï¼‰<a href="https://www.iogl.cn/blog/21.shader%20object#2-%E7%BB%91%E5%AE%9A-shader%E4%BB%A3%E6%9B%BF-vkcmdbindpipeline" class="hash-link" aria-label="2-ç»‘å®š-shaderä»£æ›¿-vkcmdbindpipelineçš„ç›´æ¥é“¾æ¥" title="2-ç»‘å®š-shaderä»£æ›¿-vkcmdbindpipelineçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBindShadersEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    commandBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VK_SHADER_STAGE_VERTEX_BIT </span><span class="token operator">|</span><span class="token plain"> VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">                </span><span class="token comment" style="color:rgb(98, 114, 164)">// firstBinding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">vertexShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// pShaders (æŒ‰é¡ºåºæä¾›æ¯ä¸ªé˜¶æ®µçš„ shader)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-è®¾ç½®-pipeline-çŠ¶æ€dynamic-state">3. è®¾ç½® pipeline çŠ¶æ€ï¼ˆdynamic stateï¼‰<a href="https://www.iogl.cn/blog/21.shader%20object#3-%E8%AE%BE%E7%BD%AE-pipeline-%E7%8A%B6%E6%80%81dynamic-state" class="hash-link" aria-label="3. è®¾ç½® pipeline çŠ¶æ€ï¼ˆdynamic stateï¼‰çš„ç›´æ¥é“¾æ¥" title="3. è®¾ç½® pipeline çŠ¶æ€ï¼ˆdynamic stateï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Shader Object ä¸ç»‘å®š pipelineï¼Œæ‰€ä»¥ä½ å¿…é¡»é€šè¿‡å‘½ä»¤è®¾ç½® pipeline åŠ¨æ€çŠ¶æ€ï¼ˆrasterization, blend, topology ç­‰ï¼‰ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetRasterizerDiscardEnable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VK_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetDepthTestEnable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VK_TRUE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetPrimitiveTopology</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetViewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetScissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">scissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>æ‰€æœ‰ <code>VK_DYNAMIC_STATE_*</code> éƒ½éœ€è¦è®¾ç½®ï¼Œå¦åˆ™è¡Œä¸ºæœªå®šä¹‰ï¼</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-èµ„æºç»‘å®šdescriptor-sets">4. èµ„æºç»‘å®šï¼ˆDescriptor Setsï¼‰<a href="https://www.iogl.cn/blog/21.shader%20object#4-%E8%B5%84%E6%BA%90%E7%BB%91%E5%AE%9Adescriptor-sets" class="hash-link" aria-label="4. èµ„æºç»‘å®šï¼ˆDescriptor Setsï¼‰çš„ç›´æ¥é“¾æ¥" title="4. èµ„æºç»‘å®šï¼ˆDescriptor Setsï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä»ç„¶ä½¿ç”¨ä¼ ç»Ÿ <code>vkCmdBindDescriptorSets</code> æ–¹å¼æ¥ç»‘å®šèµ„æºï¼ˆuniforms, textures ç­‰ï¼‰ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBindDescriptorSets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    cmd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    pipelineLayout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">descriptorSet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-é”€æ¯-shader">5. é”€æ¯ Shader<a href="https://www.iogl.cn/blog/21.shader%20object#5-%E9%94%80%E6%AF%81-shader" class="hash-link" aria-label="5. é”€æ¯ Shaderçš„ç›´æ¥é“¾æ¥" title="5. é”€æ¯ Shaderçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyShaderEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> shader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ğŸ“¦ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/21.shader%20object#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ğŸ“¦ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ğŸ“¦ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;vulkan/vulkan.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;cassert&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;cstring&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;vector&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;iostream&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿™é‡Œå‡å®šä½ å·²æœ‰æ–¹å¼åŠ è½½æˆ–åµŒå…¥ SPIR-V äºŒè¿›åˆ¶ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿™é‡Œä½¿ç”¨ä¼ªæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶è¯·åŠ è½½æœ‰æ•ˆçš„ SPIR-V æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token operator">&gt;</span><span class="token plain"> vertexShaderSPIRV </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token comment" style="color:rgb(98, 114, 164)">/* ... Vertex SPIR-V å­—èŠ‚ç  ... */</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token operator">&gt;</span><span class="token plain"> fragmentShaderSPIRV </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token comment" style="color:rgb(98, 114, 164)">/* ... Fragment SPIR-V å­—èŠ‚ç  ... */</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç®€å•çš„é”™è¯¯å¤„ç†å®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">result</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">assert</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">result</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">==</span><span class="token macro property expression"> VK_SUCCESS</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¼ªå‡½æ•°ï¼šåˆ›å»º Vulkan instanceã€deviceã€command pool ç­‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿™é‡Œåªç»™å‡ºç®€ç•¥æµç¨‹ï¼Œå®é™…å·¥ç¨‹éœ€è¦å®Œæ•´åˆå§‹åŒ–ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">VulkanContext</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkInstance instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkPhysicalDevice physicalDevice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkDevice device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkQueue graphicsQueue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkCommandPool commandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å…¶å®ƒæˆå‘˜å¦‚äº¤æ¢é“¾ã€å‘ˆç°ç›®æ ‡ imageView ç­‰ï¼ˆæœ¬ç¤ºä¾‹ä¸­ç”¨ä½œ dynamic rendering ç›®æ ‡ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VulkanContext </span><span class="token function" style="color:rgb(80, 250, 123)">initVulkan</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VulkanContext ctx </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ åˆ›å»º instance (ç¡®ä¿å¯ç”¨ VK_KHR_dynamic_rendering æ‰©å±•) â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> instanceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">"VK_KHR_surface"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">"VK_KHR_win32_surface"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¾‹å¦‚ Windows å¹³å°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// å…¶å®ƒå¹³å°è¯·é€‰æ‹©å¯¹åº”æ‰©å±•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkApplicationInfo appInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_APPLICATION_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pApplicationName   </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"ShaderObjectTriangle"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">applicationVersion </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VK_MAKE_VERSION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pEngineName        </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"None"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">engineVersion      </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VK_MAKE_VERSION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">apiVersion         </span><span class="token operator">=</span><span class="token plain"> VK_API_VERSION_1_3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æˆ– Vulkan 1.2 åŠ æ‰©å±•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkInstanceCreateInfo instCreateInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    instCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    instCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pApplicationInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">appInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    instCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">enabledExtensionCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">instanceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">instanceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    instCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ppEnabledExtensionNames </span><span class="token operator">=</span><span class="token plain"> instanceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">&amp;</span><span class="token plain">instCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ é€‰æ‹©ç‰©ç†è®¾å¤‡ï¼Œå¹¶åˆ›å»ºé€»è¾‘è®¾å¤‡ â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain"> gpuCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkEnumeratePhysicalDevices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">gpuCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">assert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gpuCount </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token plain">VkPhysicalDevice</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">devices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">gpuCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkEnumeratePhysicalDevices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">gpuCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> devices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">physicalDevice </span><span class="token operator">=</span><span class="token plain"> devices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç®€å•é€‰æ‹©ç¬¬ä¸€ä¸ª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯ç”¨éœ€è¦çš„ device æ‰©å±•ï¼šåŠ¨æ€æ¸²æŸ“ &amp; shader object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> deviceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">"VK_KHR_dynamic_rendering"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">"VK_EXT_shader_object"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> queuePriority </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkDeviceQueueCreateInfo queueCreateInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    queueCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    queueCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueFamilyIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ­¤å¤„å‡å®š family 0 æ”¯æŒå›¾å½¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    queueCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    queueCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pQueuePriorities </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">queuePriority</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkPhysicalDeviceFeatures deviceFeatures </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkDeviceCreateInfo devCreateInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueCreateInfoCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pQueueCreateInfos </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">queueCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">enabledExtensionCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ppEnabledExtensionNames </span><span class="token operator">=</span><span class="token plain"> deviceExtensions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pEnabledFeatures </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">deviceFeatures</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateDevice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">physicalDevice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">devCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkGetDeviceQueue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">graphicsQueue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ åˆ›å»º command pool â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkCommandPoolCreateInfo poolInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    poolInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    poolInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueFamilyIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    poolInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">flags </span><span class="token operator">=</span><span class="token plain"> VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateCommandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">poolInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¸»å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VulkanContext ctx </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">initVulkan</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è·å– VK_EXT_shader_object çš„å‡½æ•°æŒ‡é’ˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">auto</span><span class="token plain"> vkCreateShadersEXT </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">reinterpret_cast</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">PFN_vkCreateShadersEXT</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">vkGetDeviceProcAddr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"vkCreateShadersEXT"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">auto</span><span class="token plain"> vkCmdBindShadersEXT </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">reinterpret_cast</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">PFN_vkCmdBindShadersEXT</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">vkGetDeviceProcAddr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"vkCmdBindShadersEXT"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">auto</span><span class="token plain"> vkDestroyShaderEXT </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">reinterpret_cast</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">PFN_vkDestroyShaderEXT</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">vkGetDeviceProcAddr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"vkDestroyShaderEXT"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">assert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">vkCreateShadersEXT </span><span class="token operator">&amp;&amp;</span><span class="token plain"> vkCmdBindShadersEXT </span><span class="token operator">&amp;&amp;</span><span class="token plain"> vkDestroyShaderEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ åˆ›å»º Shader Object â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderEXT vertexShader </span><span class="token operator">=</span><span class="token plain"> VK_NULL_HANDLE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderEXT fragmentShader </span><span class="token operator">=</span><span class="token plain"> VK_NULL_HANDLE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// é…ç½®é¡¶ç‚¹ç€è‰²å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderCreateInfoEXT vertexShaderInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType      </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">stage      </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_STAGE_VERTEX_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeType   </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pCode      </span><span class="token operator">=</span><span class="token plain"> vertexShaderSPIRV</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeSize   </span><span class="token operator">=</span><span class="token plain"> vertexShaderSPIRV</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pName      </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"main"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// entry point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateShadersEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">vertexShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">vertexShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// é…ç½®ç‰‡å…ƒç€è‰²å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderCreateInfoEXT fragmentShaderInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType    </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_SHADER_CREATE_INFO_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">stage    </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeType </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_CODE_TYPE_SPIRV_EXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pCode    </span><span class="token operator">=</span><span class="token plain"> fragmentShaderSPIRV</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">codeSize </span><span class="token operator">=</span><span class="token plain"> fragmentShaderSPIRV</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pName    </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"main"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// entry point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateShadersEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">fragmentShaderInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">fragmentShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ åˆ›å»º Command Buffer â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkCommandBufferAllocateInfo allocInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allocInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType              </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allocInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandPool        </span><span class="token operator">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allocInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">level              </span><span class="token operator">=</span><span class="token plain"> VK_COMMAND_BUFFER_LEVEL_PRIMARY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allocInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandBufferCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkCommandBuffer cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkAllocateCommandBuffers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">allocInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¼€å§‹å½•åˆ¶å‘½ä»¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkCommandBufferBeginInfo beginInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    beginInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkBeginCommandBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">beginInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ åŠ¨æ€æ¸²æŸ“è®¾ç½® â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å‡å®šæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç›®æ ‡ color image å’Œ image viewï¼ˆrenderTargetViewï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿™é‡Œä¸ºç¤ºä¾‹ä½¿ç”¨ä¼ªå˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkImageView renderTargetView </span><span class="token operator">=</span><span class="token plain"> VK_NULL_HANDLE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// å®é™…ä»£ç ä¸­åº”ä¸ºæœ‰æ•ˆçš„ VkImageView</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkExtent2D renderExtent </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">800</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">600</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç¤ºä¾‹çª—å£å°ºå¯¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkRenderingAttachmentInfo colorAttachment </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType         </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_RENDERING_ATTACHMENT_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">imageView     </span><span class="token operator">=</span><span class="token plain"> renderTargetView</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">imageLayout   </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">loadOp        </span><span class="token operator">=</span><span class="token plain"> VK_ATTACHMENT_LOAD_OP_CLEAR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">storeOp       </span><span class="token operator">=</span><span class="token plain"> VK_ATTACHMENT_STORE_OP_STORE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">clearValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">float32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">clearValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">float32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">clearValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">float32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">clearValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">float32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkRenderingInfo renderingInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType                 </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_RENDERING_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">renderArea</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset     </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">renderArea</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extent     </span><span class="token operator">=</span><span class="token plain"> renderExtent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">layerCount            </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">colorAttachmentCount  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pColorAttachments     </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">colorAttachment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æœ¬ä¾‹ä¸ä½¿ç”¨æ·±åº¦/æ¨¡æ¿ï¼Œå› æ­¤ pDepthAttachment å’Œ pStencilAttachment ä¸º nullptr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¼€å§‹åŠ¨æ€æ¸²æŸ“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBeginRendering</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">renderingInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ ç»‘å®š Shader Objects â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¸ºé¡¶ç‚¹å’Œç‰‡å…ƒé˜¶æ®µåˆ†åˆ«ç»‘å®š shader object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderEXT shaders</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> vertexShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> fragmentShader </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// stageFlags æŒ‡å®šéœ€è¦ç»‘å®šçš„ shader é˜¶æ®µï¼ˆæœ¬ä¾‹ä¸ºé¡¶ç‚¹å’Œç‰‡å…ƒï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkShaderStageFlags stageFlags </span><span class="token operator">=</span><span class="token plain"> VK_SHADER_STAGE_VERTEX_BIT </span><span class="token operator">|</span><span class="token plain"> VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// firstBinding å¯è®¾ç½®ä¸º 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBindShadersEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stageFlags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> shaders</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ è®¾ç½®åŠ¨æ€çŠ¶æ€ â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkViewport viewport </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x        </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y        </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">width    </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">static_cast</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">renderExtent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">height   </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">static_cast</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">renderExtent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">minDepth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">maxDepth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetViewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">viewport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkRect2D scissor </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    scissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    scissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extent </span><span class="token operator">=</span><span class="token plain"> renderExtent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdSetScissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">scissor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ­¤å¤–ï¼Œä½ å¯èƒ½éœ€è¦è®¾ç½®å…¶å®ƒåŠ¨æ€çŠ¶æ€ï¼ˆä¾‹å¦‚æ··åˆã€å…‰æ …åŒ–çŠ¶æ€ç­‰ï¼‰ï¼Œè§†ä½ çš„æ¸²æŸ“éœ€è¦è€Œå®š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ ç»˜åˆ¶ä¸‰è§’å½¢ â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ­¤å¤„æœªç»‘å®š vertex buffersï¼Œå‡è®¾ vertex shader å†…éƒ¨ç”Ÿæˆé¡¶ç‚¹æ•°æ®ï¼ˆä½¿ç”¨å†…ç½®å˜é‡æˆ–å…¶ä»–æŠ€æœ¯ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æœ€ç®€å•çš„æƒ…å†µç›´æ¥å‘èµ· 3 ä¸ªé¡¶ç‚¹çš„ draw è°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdDraw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç»“æŸåŠ¨æ€æ¸²æŸ“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdEndRendering</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç»“æŸå‘½ä»¤ç¼“å†²å½•åˆ¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkEndCommandBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ æäº¤å‘½ä»¤ç¼“å†²å¹¶ç­‰å¾…æ‰§è¡Œå®Œæˆ â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkSubmitInfo submitInfo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submitInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType              </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_SUBMIT_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submitInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandBufferCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submitInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pCommandBuffers    </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">cmdBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkQueueSubmit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">graphicsQueue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">submitInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VK_NULL_HANDLE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">VK_CHECK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">vkQueueWaitIdle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">graphicsQueue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// â”€â”€ æ¸…ç† Shader Objects åŠå…¶å®ƒèµ„æº â”€â”€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyShaderEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> vertexShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyShaderEXT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> fragmentShader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¸…ç†å…¶å®ƒ Vulkan å¯¹è±¡ï¼ˆcommand poolã€deviceã€instance ç­‰ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyCommandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commandPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyDevice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vkDestroyInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nullptr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">cout </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Shader Object Triangle rendered successfully.\n"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[VkPhysicalDeviceFeatures å…¨å­—æ®µè¯¦è§£]]></title>
        <id>https://www.iogl.cn/blog/19.physical device features</id>
        <link href="https://www.iogl.cn/blog/19.physical device features"/>
        <updated>2025-07-02T15:22:40.000Z</updated>
        <summary type="html"><![CDATA[VkPhysicalDeviceFeatures å…¨å­—æ®µè¯¦è§£]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vkphysicaldevicefeatures-å…¨å­—æ®µè¯¦è§£"><code>VkPhysicalDeviceFeatures</code> å…¨å­—æ®µè¯¦è§£<a href="https://www.iogl.cn/blog/19.physical%20device%20features#vkphysicaldevicefeatures-%E5%85%A8%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3" class="hash-link" aria-label="vkphysicaldevicefeatures-å…¨å­—æ®µè¯¦è§£çš„ç›´æ¥é“¾æ¥" title="vkphysicaldevicefeatures-å…¨å­—æ®µè¯¦è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>å­—æ®µå</th><th>ä¸­æ–‡è§£é‡Š</th><th>åŠŸèƒ½æè¿°</th><th>å»ºè®®å¯ç”¨</th></tr></thead><tbody><tr><td><code>robustBufferAccess</code></td><td>å¯é ç¼“å†²è®¿é—®</td><td>é˜²æ­¢è¶Šç•Œè¯»å– bufferï¼ˆå®‰å…¨æ€§é«˜ï¼Œæ€§èƒ½ç•¥é™ï¼‰</td><td>âœ… å»ºè®®å¯ç”¨</td></tr><tr><td><code>fullDrawIndexUint32</code></td><td>å®Œæ•´ 32 ä½ç´¢å¼•</td><td>æ”¯æŒ uint32_t é¡¶ç‚¹ç´¢å¼•ï¼ˆ&gt; 65535ï¼‰</td><td>âœ… å»ºè®®å¯ç”¨</td></tr><tr><td><code>imageCubeArray</code></td><td>ç«‹æ–¹ä½“è´´å›¾æ•°ç»„</td><td>æ”¯æŒ <code>cube[]</code> ç±»å‹çº¹ç†æ•°ç»„ï¼ˆå¤©ç©ºç›’ã€PBRï¼‰</td><td>âœ… å¸¸ç”¨</td></tr><tr><td><code>independentBlend</code></td><td>ç‹¬ç«‹æ··åˆ</td><td>framebuffer ä¸­æ¯ä¸ªé¢œè‰²é™„ä»¶ç‹¬ç«‹è®¾ç½®æ··åˆå‚æ•°</td><td>âœ… å¤šæ¸²æŸ“ç›®æ ‡</td></tr><tr><td><code>geometryShader</code></td><td>å‡ ä½•ç€è‰²å™¨</td><td>æ”¯æŒ geometry shader é˜¶æ®µ</td><td>âœ… è‹¥ç”¨</td></tr><tr><td><code>tessellationShader</code></td><td>æ›²é¢ç»†åˆ†ç€è‰²å™¨</td><td>æ”¯æŒ tessellation shader é˜¶æ®µ</td><td>âœ… è‹¥ç”¨</td></tr><tr><td><code>sampleRateShading</code></td><td>æ¯é‡‡æ ·ç€è‰²</td><td>æ”¯æŒ MSAA ä¸­ per-sample ç€è‰²</td><td>âœ… è‹¥åš MSAA</td></tr><tr><td><code>dualSrcBlend</code></td><td>åŒæºæ··åˆ</td><td>Fragment Shader å¯è¾“å‡ºä¸¤ç§é¢œè‰²ä¾›æ··åˆä½¿ç”¨</td><td>âš ï¸ ç‰¹æ®Šéœ€æ±‚</td></tr><tr><td><code>logicOp</code></td><td>é€»è¾‘æ“ä½œæ··åˆ</td><td>æ”¯æŒé€»è¾‘è¿ç®—æ··åˆï¼ˆAND, OR, XORï¼‰</td><td>âŒ å°‘ç”¨</td></tr><tr><td><code>multiDrawIndirect</code></td><td>å¤šé‡ç»˜åˆ¶ï¼ˆé—´æ¥ï¼‰</td><td><code>vkCmdDrawIndirect()</code> å¯ä¸€æ¬¡æäº¤å¤šä¸ª draw</td><td>âœ… æ‰¹å¤„ç†ä¼˜åŒ–</td></tr><tr><td><code>drawIndirectFirstInstance</code></td><td>æ”¯æŒ firstInstance å‚æ•°</td><td><code>vkCmdDrawIndirect()</code> æ”¯æŒ firstInstance &gt; 0</td><td>âœ… ç°ä»£æ¸²æŸ“å¸¸ç”¨</td></tr><tr><td><code>depthClamp</code></td><td>æ·±åº¦è£å‰ª</td><td>æ›¿ä»£å‰ªè£ -1~1 èŒƒå›´ï¼ˆä¿æŒ z æ–¹å‘é¡¶ç‚¹ï¼‰</td><td>âœ… é˜´å½±åœºæ™¯å¸¸ç”¨</td></tr><tr><td><code>depthBiasClamp</code></td><td>æ·±åº¦åç§»è£å‰ª</td><td>é˜²æ­¢ bias åç§»è¿‡å¤šå¯¼è‡´é”™è¯¯</td><td>âœ… é˜´å½±è´´å›¾å¸¸ç”¨</td></tr><tr><td><code>fillModeNonSolid</code></td><td>éå¡«å……æ¨¡å¼</td><td>æ”¯æŒçº¿æ¡†/ç‚¹æ¸²æŸ“ï¼ˆwireframe/pointsï¼‰</td><td>âœ… è°ƒè¯•ç”¨</td></tr><tr><td><code>depthBounds</code></td><td>æ·±åº¦è¾¹ç•Œæµ‹è¯•</td><td>å…è®¸æŒ‡å®šæ·±åº¦èŒƒå›´è¿›è¡Œæµ‹è¯•ï¼ˆä¼˜åŒ–ï¼‰</td><td>âš ï¸ å—é™æ”¯æŒ</td></tr><tr><td><code>wideLines</code></td><td>å®½çº¿æ”¯æŒ</td><td>æ”¯æŒ &gt;1 åƒç´ çš„çº¿æ¡å®½åº¦</td><td>âš ï¸ ç§»åŠ¨ç«¯å¤§å¤šä¸æ”¯æŒ</td></tr><tr><td><code>largePoints</code></td><td>å¤§ç‚¹æ”¯æŒ</td><td>ç‚¹ç²¾çµæ”¯æŒå¤§å°ºå¯¸</td><td>âœ… å°‘é‡ä½¿ç”¨</td></tr><tr><td><code>alphaToOne</code></td><td>alphaToOne</td><td>æ”¯æŒå°† fragment alpha å¼ºåˆ¶è®¾ç½®ä¸º 1.0</td><td>âš ï¸ é€æ˜æ’åºæ—¶å¯ç”¨</td></tr><tr><td><code>multiViewport</code></td><td>å¤šè§†å£</td><td>æ”¯æŒä¸€æ¬¡ç»˜åˆ¶å¤šä¸ªè§†å£ï¼ˆVRã€å¤šå±ï¼‰</td><td>âœ… å¤šæ‘„åƒå¤´æ¸²æŸ“</td></tr><tr><td><code>samplerAnisotropy</code></td><td>å„å‘å¼‚æ€§è¿‡æ»¤</td><td>æé«˜çº¹ç†åœ¨æ–œè§’å¤„çš„æ¸…æ™°åº¦</td><td>âœ… å¼ºçƒˆå»ºè®®å¯ç”¨</td></tr><tr><td><code>textureCompressionETC2</code></td><td>ETC2 å‹ç¼©çº¹ç†</td><td>ç”¨äºç§»åŠ¨å¹³å°èŠ‚çœæ˜¾å­˜</td><td>âœ… ç§»åŠ¨ç«¯å¼ºçƒˆå»ºè®®å¯ç”¨</td></tr><tr><td><code>textureCompressionASTC_LDR</code></td><td>ASTC å‹ç¼©çº¹ç†</td><td>é«˜è´¨é‡å‹ç¼©çº¹ç†æ ¼å¼</td><td>âœ… è‹¥èµ„æºç”¨ ASTC</td></tr><tr><td><code>textureCompressionBC</code></td><td>BCå‹ç¼©çº¹ç†</td><td>æ¡Œé¢å‹ç¼©æ ¼å¼ï¼ˆDXT1~5ï¼‰</td><td>âœ… æ¡Œé¢å¹³å°å»ºè®®å¯ç”¨</td></tr><tr><td><code>occlusionQueryPrecise</code></td><td>ç²¾ç¡®é®æŒ¡æŸ¥è¯¢</td><td>æ›´é«˜ç²¾åº¦çš„ <code>vkCmdBeginQuery()</code></td><td>âš ï¸ è‹¥åšé®æŒ¡å‰”é™¤</td></tr><tr><td><code>pipelineStatisticsQuery</code></td><td>ç®¡çº¿ç»Ÿè®¡æŸ¥è¯¢</td><td>å¯ç»Ÿè®¡ shaderã€vertices ç­‰æ•°æ®</td><td>âœ… æ€§èƒ½åˆ†ææ—¶ç”¨</td></tr><tr><td><code>vertexPipelineStoresAndAtomics</code></td><td>é¡¶ç‚¹é˜¶æ®µå†™å…¥/åŸå­</td><td>æ”¯æŒåœ¨é¡¶ç‚¹é˜¶æ®µå†™ SSBO</td><td>âœ… ç‰¹æ®Šç”¨é€”å¦‚ç²’å­æ¨¡æ‹Ÿ</td></tr><tr><td><code>fragmentStoresAndAtomics</code></td><td>ç‰‡æ®µé˜¶æ®µå†™å…¥/åŸå­</td><td>å…è®¸ fragment shader ä¸­å¯¹ buffer/image åŸå­æ“ä½œ</td><td>âœ… åšç´¯åŠ /æ’åºç­‰ç”¨</td></tr><tr><td><code>shaderTessellationAndGeometryPointSize</code></td><td>Tess/Geo æ”¯æŒç‚¹å¤§å°</td><td>æ˜¯å¦èƒ½åœ¨ GS/Tess ä¸­è®¾ç½® gl_PointSize</td><td>âš ï¸ ç‰¹å®šå›¾å…ƒéœ€</td></tr><tr><td><code>shaderImageGatherExtended</code></td><td>æ‰©å±• imageGather</td><td>æ”¯æŒæ›´å¤æ‚çš„çº¹ç†é‡‡æ · gather æ“ä½œ</td><td>âœ… å¤šæ•°ç°ä»£ GPU æ”¯æŒ</td></tr><tr><td><code>shaderStorageImageExtendedFormats</code></td><td>image æ ¼å¼æ‰©å±•</td><td>æ”¯æŒéæ ‡å‡†æ ¼å¼çš„ storage image</td><td>âœ… è‹¥ç”¨ float16/uint</td></tr><tr><td><code>shaderStorageImageMultisample</code></td><td>å¤šé‡‡æ · image æ”¯æŒ</td><td>æ”¯æŒå¯¹ multisample image çš„è¯»å†™</td><td>âœ… åš MSAA resolve shader æ—¶å¿…éœ€</td></tr><tr><td><code>shaderStorageImageReadWithoutFormat</code></td><td>æ— æ ¼å¼è¯»å– image</td><td>è¯» storage image ä¸éœ€æŒ‡å®šæ ¼å¼</td><td>âœ… æ›´çµæ´»</td></tr><tr><td><code>shaderStorageImageWriteWithoutFormat</code></td><td>æ— æ ¼å¼å†™å…¥ image</td><td>å†™ storage image ä¸éœ€æŒ‡å®šæ ¼å¼</td><td>âœ… è‹¥å†™å…¥ raw data</td></tr><tr><td><code>shaderUniformBufferArrayDynamicIndexing</code></td><td>åŠ¨æ€ç´¢å¼• UBO æ•°ç»„</td><td>Shader æ”¯æŒ runtime åŠ¨æ€è®¿é—® uniform æ•°ç»„</td><td>âœ… å¸¸ç”¨</td></tr><tr><td><code>shaderSampledImageArrayDynamicIndexing</code></td><td>åŠ¨æ€ç´¢å¼• Texture æ•°ç»„</td><td>Shader æ”¯æŒ runtime åŠ¨æ€è®¿é—®çº¹ç†æ•°ç»„</td><td>âœ… å¸¸ç”¨</td></tr><tr><td><code>shaderStorageBufferArrayDynamicIndexing</code></td><td>åŠ¨æ€ç´¢å¼• SSBO æ•°ç»„</td><td>Shader æ”¯æŒ runtime åŠ¨æ€è®¿é—® storage buffer æ•°ç»„</td><td>âœ… å¸¸ç”¨</td></tr><tr><td><code>shaderStorageImageArrayDynamicIndexing</code></td><td>åŠ¨æ€ç´¢å¼• image æ•°ç»„</td><td>Shader æ”¯æŒ runtime åŠ¨æ€è®¿é—® image æ•°ç»„</td><td>âœ… å¸¸ç”¨</td></tr><tr><td><code>shaderClipDistance</code></td><td>æ”¯æŒ clip distance</td><td>ç”¨ gl_ClipDistance å®ç°è‡ªå®šä¹‰è£å‰ª</td><td>âœ… ç‰¹æ•ˆéœ€è¦</td></tr><tr><td><code>shaderCullDistance</code></td><td>æ”¯æŒ cull distance</td><td>æå‰å‰”é™¤ç‰‡æ®µï¼ˆæ›´çœèµ„æºï¼‰</td><td>âœ… å¤šç”¨äºä¼˜åŒ–</td></tr><tr><td><code>shaderFloat64</code></td><td>double ç²¾åº¦ float</td><td>æ”¯æŒ 64 ä½ float</td><td>âš ï¸ å°‘æ•°åœºåˆç”¨ï¼ˆç§‘å­¦è®¡ç®—ï¼‰</td></tr><tr><td><code>shaderInt64</code></td><td>64 ä½æ•´æ•°</td><td>æ”¯æŒ long ç±»å‹ int</td><td>âœ… è‹¥ GPU è®¡ç®—éœ€è¦</td></tr><tr><td><code>shaderInt16</code></td><td>16 ä½æ•´æ•°</td><td>æ”¯æŒçŸ­æ•´æ•°ï¼ˆéœ€ Vulkan 1.1 æˆ–æ‰©å±•ï¼‰</td><td>âœ… ç§»åŠ¨ç«¯èŠ‚çœå¸¦å®½</td></tr><tr><td><code>shaderResourceResidency</code></td><td>èµ„æºé©»ç•™æ§åˆ¶</td><td>ç”¨äº bindless resource ç®¡ç†</td><td>âš ï¸ ä»… NVIDIA ç‰¹æ€§</td></tr><tr><td><code>shaderResourceMinLod</code></td><td>æœ€å° LOD æ§åˆ¶</td><td>æ›´ç»†ç²’åº¦çš„ mip æ§åˆ¶</td><td>âœ… ç‰¹æ•ˆä¼˜åŒ–</td></tr><tr><td><code>sparseBinding</code></td><td>ç¨€ç–èµ„æºç»‘å®š</td><td>æ”¯æŒè™šæ‹Ÿè´´å›¾ï¼ˆè™šæ‹Ÿå†…å­˜åˆ†é¡µï¼‰</td><td>âš ï¸ é«˜çº§ç”¨é€”</td></tr><tr><td><code>sparseResidencyBuffer</code></td><td>ç¨€ç– Buffer</td><td>æ”¯æŒè™šæ‹ŸåŒ– buffer å†…å­˜</td><td>âš ï¸ å°‘æ•°åº”ç”¨</td></tr><tr><td><code>sparseResidencyImage2D/3D</code></td><td>ç¨€ç–å›¾åƒ</td><td>è™šæ‹Ÿè´´å›¾æ”¯æŒ</td><td>âš ï¸ é«˜çº§è™šæ‹Ÿçº¹ç†ç³»ç»Ÿ</td></tr><tr><td><code>sparseResidencyAliased</code></td><td>ç¨€ç–åˆ«å</td><td>å¤šä¸ªèµ„æºå…±äº«å†…å­˜é¡µ</td><td>âš ï¸ ä¸“ä¸šå›¾å½¢ç³»ç»Ÿç”¨</td></tr><tr><td><code>variableMultisampleRate</code></td><td>å¯å˜ MSAA</td><td>æ¯ä¸ªå­é€šé“å¯ä»¥æœ‰ä¸åŒçš„é‡‡æ ·ç‡</td><td>âš ï¸ ç‰¹å®šåœºæ™¯</td></tr><tr><td><code>inheritedQueries</code></td><td>ç»§æ‰¿æŸ¥è¯¢æ”¯æŒ</td><td>Secondary Command Buffer ç»§æ‰¿ query</td><td>âœ… æ¸²æŸ“ç»Ÿè®¡éœ€æ±‚</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ç¤ºä¾‹å¼€å¯ç‰¹æ€§">ğŸ“š ç¤ºä¾‹ï¼šå¼€å¯ç‰¹æ€§<a href="https://www.iogl.cn/blog/19.physical%20device%20features#-%E7%A4%BA%E4%BE%8B%E5%BC%80%E5%90%AF%E7%89%B9%E6%80%A7" class="hash-link" aria-label="ğŸ“š ç¤ºä¾‹ï¼šå¼€å¯ç‰¹æ€§çš„ç›´æ¥é“¾æ¥" title="ğŸ“š ç¤ºä¾‹ï¼šå¼€å¯ç‰¹æ€§çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">//æ‰“å°æ”¯æŒçš„ç‰¹æ€§</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkPhysicalDeviceFeatures features;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkGetPhysicalDeviceFeatures(physicalDevice, &amp;features);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (features.samplerAnisotropy)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    std::cout &lt;&lt; "æ”¯æŒå„å‘å¼‚æ€§è¿‡æ»¤ï¼" &lt;&lt; std::endl;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (features.geometryShader)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    std::cout &lt;&lt; "æ”¯æŒ Geometry Shaderï¼" &lt;&lt; std::endl;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//å¼€å¯ç‰¹æ€§</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkPhysicalDeviceFeatures enabled{};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">enabled.samplerAnisotropy = VK_TRUE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">enabled.multiDrawIndirect = VK_TRUE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceCreateInfo createInfo{};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">createInfo.pEnabledFeatures = &amp;enabled;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateDevice(physicalDevice, &amp;createInfo, nullptr, &amp;device);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¤šsubpassæ¸²æŸ“]]></title>
        <id>https://www.iogl.cn/blog/18.multi subpass</id>
        <link href="https://www.iogl.cn/blog/18.multi subpass"/>
        <updated>2025-07-02T10:22:30.000Z</updated>
        <summary type="html"><![CDATA[å¤š Subpass çš„ Vulkan æ¸²æŸ“æµç¨‹ï¼Œéå¸¸é€‚åˆç”¨äº G-buffer + å…‰ç…§ã€å…ˆç”»å†åå¤„ç†ç­‰åœºæ™¯ã€‚]]></summary>
        <content type="html"><![CDATA[<p>å¤š Subpass çš„ Vulkan æ¸²æŸ“æµç¨‹ï¼Œéå¸¸é€‚åˆç”¨äº G-buffer + å…‰ç…§ã€å…ˆç”»å†åå¤„ç†ç­‰åœºæ™¯ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ç¤ºä¾‹ç›®æ ‡">ğŸ¯ ç¤ºä¾‹ç›®æ ‡<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E7%A4%BA%E4%BE%8B%E7%9B%AE%E6%A0%87" class="hash-link" aria-label="ğŸ¯ ç¤ºä¾‹ç›®æ ‡çš„ç›´æ¥é“¾æ¥" title="ğŸ¯ ç¤ºä¾‹ç›®æ ‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘ä»¬æ„å»ºä¸€ä¸ªç®€å•çš„ <strong>åŒ Subpass Render Pass</strong>ï¼š</p>
<ol>
<li><strong>Subpass 0</strong>ï¼šç»˜åˆ¶åœºæ™¯ï¼Œè¾“å‡ºåˆ°é¢œè‰²é™„ä»¶ï¼ˆColor Attachment 0ï¼‰</li>
<li><strong>Subpass 1</strong>ï¼šå¯¹å‰é¢çš„è¾“å‡ºåšä¸€ä¸ªåå¤„ç†ï¼Œè¯»å– Subpass 0 çš„é¢œè‰²ä½œä¸ºè¾“å…¥ attachmentï¼Œå†è¾“å‡ºåˆ°å±å¹•ï¼ˆColor Attachment 1ï¼‰</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ¶‰åŠçš„-attachmentæ€»å…±-2-ä¸ª">âœ… æ¶‰åŠçš„ Attachmentï¼ˆæ€»å…± 2 ä¸ªï¼‰<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E6%B6%89%E5%8F%8A%E7%9A%84-attachment%E6%80%BB%E5%85%B1-2-%E4%B8%AA" class="hash-link" aria-label="âœ… æ¶‰åŠçš„ Attachmentï¼ˆæ€»å…± 2 ä¸ªï¼‰çš„ç›´æ¥é“¾æ¥" title="âœ… æ¶‰åŠçš„ Attachmentï¼ˆæ€»å…± 2 ä¸ªï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>Attachment Index</th><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>0</td><td>Color Attachment</td><td>ç”¨äº Subpass 0 è¾“å‡º</td></tr><tr><td>1</td><td>Color Attachment</td><td>ç”¨äº Subpass 1 è¾“å‡ºæœ€ç»ˆç”»é¢</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ­¥éª¤æ€»è§ˆ">ğŸ§© æ­¥éª¤æ€»è§ˆ<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E6%AD%A5%E9%AA%A4%E6%80%BB%E8%A7%88" class="hash-link" aria-label="ğŸ§© æ­¥éª¤æ€»è§ˆçš„ç›´æ¥é“¾æ¥" title="ğŸ§© æ­¥éª¤æ€»è§ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>å®šä¹‰ä¸¤ä¸ªé™„ä»¶ï¼ˆAttachment 0 å’Œ 1ï¼‰</li>
<li>åˆ›å»ºä¸¤ä¸ª Subpassï¼š<!-- -->
<ul>
<li>Subpass 0ï¼šå†™å…¥ Attachment 0</li>
<li>Subpass 1ï¼šè¯»å– Attachment 0ï¼Œå†™å…¥ Attachment 1</li>
</ul>
</li>
<li>è®¾ç½® Subpass Dependency åŒæ­¥ä¸¤ä¸ªé˜¶æ®µ</li>
<li>ç”¨ <code>vkCmdNextSubpass()</code> è¿‡æ¸¡åˆ°ä¸‹ä¸€ä¸ª subpass</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ä»£ç ç¤ºä¾‹">ğŸ“œ ä»£ç ç¤ºä¾‹<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="ğŸ“œ ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ğŸ“œ ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸‹é¢æ˜¯æ ¸å¿ƒç»“æ„ä»£ç ï¼ˆC++ ä¼ªä»£ç  + Vulkanï¼‰ï¼š</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-å®šä¹‰-attachments">1. å®šä¹‰ Attachments<a href="https://www.iogl.cn/blog/18.multi%20subpass#1-%E5%AE%9A%E4%B9%89-attachments" class="hash-link" aria-label="1. å®šä¹‰ Attachmentsçš„ç›´æ¥é“¾æ¥" title="1. å®šä¹‰ Attachmentsçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkAttachmentDescription attachments[2] = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Attachment 0: Intermediate color output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].format = VK_FORMAT_R8G8B8A8_UNORM;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].samples = VK_SAMPLE_COUNT_1_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].loadOp = VK_ATTACHMENT_LOAD_OP_CLEAR;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].storeOp = VK_ATTACHMENT_STORE_OP_STORE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[0].finalLayout = VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Attachment 1: Final output (present)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].format = swapchainImageFormat;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].samples = VK_SAMPLE_COUNT_1_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].loadOp = VK_ATTACHMENT_LOAD_OP_CLEAR;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].storeOp = VK_ATTACHMENT_STORE_OP_STORE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">attachments[1].finalLayout = VK_IMAGE_LAYOUT_PRESENT_SRC_KHR;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-å®šä¹‰-subpasses">2. å®šä¹‰ Subpasses<a href="https://www.iogl.cn/blog/18.multi%20subpass#2-%E5%AE%9A%E4%B9%89-subpasses" class="hash-link" aria-label="2. å®šä¹‰ Subpassesçš„ç›´æ¥é“¾æ¥" title="2. å®šä¹‰ Subpassesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="subpass-0å†™å…¥-attachment-0">Subpass 0ï¼šå†™å…¥ Attachment 0<a href="https://www.iogl.cn/blog/18.multi%20subpass#subpass-0%E5%86%99%E5%85%A5-attachment-0" class="hash-link" aria-label="Subpass 0ï¼šå†™å…¥ Attachment 0çš„ç›´æ¥é“¾æ¥" title="Subpass 0ï¼šå†™å…¥ Attachment 0çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkAttachmentReference colorRef0 = { 0, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkSubpassDescription subpass0 = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass0.pipelineBindPoint = VK_PIPELINE_BIND_POINT_GRAPHICS;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass0.colorAttachmentCount = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass0.pColorAttachments = &amp;colorRef0;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="subpass-1è¯»å–-attachment-0-ä½œä¸ºè¾“å…¥å†™å…¥-attachment-1">Subpass 1ï¼šè¯»å– Attachment 0 ä½œä¸ºè¾“å…¥ï¼Œå†™å…¥ Attachment 1<a href="https://www.iogl.cn/blog/18.multi%20subpass#subpass-1%E8%AF%BB%E5%8F%96-attachment-0-%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%85%A5%E5%86%99%E5%85%A5-attachment-1" class="hash-link" aria-label="Subpass 1ï¼šè¯»å– Attachment 0 ä½œä¸ºè¾“å…¥ï¼Œå†™å…¥ Attachment 1çš„ç›´æ¥é“¾æ¥" title="Subpass 1ï¼šè¯»å– Attachment 0 ä½œä¸ºè¾“å…¥ï¼Œå†™å…¥ Attachment 1çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkAttachmentReference inputRef = { 0, VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkAttachmentReference colorRef1 = { 1, VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkSubpassDescription subpass1 = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass1.pipelineBindPoint = VK_PIPELINE_BIND_POINT_GRAPHICS;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass1.inputAttachmentCount = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass1.pInputAttachments = &amp;inputRef;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass1.colorAttachmentCount = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass1.pColorAttachments = &amp;colorRef1;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-æ·»åŠ -subpass-ä¾èµ–åŒæ­¥ä¸¤ä¸ª-subpass">3. æ·»åŠ  Subpass ä¾èµ–ï¼ˆåŒæ­¥ä¸¤ä¸ª Subpassï¼‰<a href="https://www.iogl.cn/blog/18.multi%20subpass#3-%E6%B7%BB%E5%8A%A0-subpass-%E4%BE%9D%E8%B5%96%E5%90%8C%E6%AD%A5%E4%B8%A4%E4%B8%AA-subpass" class="hash-link" aria-label="3. æ·»åŠ  Subpass ä¾èµ–ï¼ˆåŒæ­¥ä¸¤ä¸ª Subpassï¼‰çš„ç›´æ¥é“¾æ¥" title="3. æ·»åŠ  Subpass ä¾èµ–ï¼ˆåŒæ­¥ä¸¤ä¸ª Subpassï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkSubpassDependency dependency = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.srcSubpass = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.dstSubpass = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.srcStageMask = VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.dstStageMask = VK_PIPELINE_STAGE_FRAGMENT_SHADER_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.srcAccessMask = VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dependency.dstAccessMask = VK_ACCESS_INPUT_ATTACHMENT_READ_BIT;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-åˆ›å»º-render-pass">4. åˆ›å»º Render Pass<a href="https://www.iogl.cn/blog/18.multi%20subpass#4-%E5%88%9B%E5%BB%BA-render-pass" class="hash-link" aria-label="4. åˆ›å»º Render Passçš„ç›´æ¥é“¾æ¥" title="4. åˆ›å»º Render Passçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkSubpassDescription subpasses[] = { subpass0, subpass1 };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkRenderPassCreateInfo renderPassInfo{};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.sType = VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.attachmentCount = 2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.pAttachments = attachments;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.subpassCount = 2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.pSubpasses = subpasses;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.dependencyCount = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renderPassInfo.pDependencies = &amp;dependency;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkRenderPass renderPass;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCreateRenderPass(device, &amp;renderPassInfo, nullptr, &amp;renderPass);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-åœ¨-command-buffer-ä¸­ä½¿ç”¨">5. åœ¨ Command Buffer ä¸­ä½¿ç”¨<a href="https://www.iogl.cn/blog/18.multi%20subpass#5-%E5%9C%A8-command-buffer-%E4%B8%AD%E4%BD%BF%E7%94%A8" class="hash-link" aria-label="5. åœ¨ Command Buffer ä¸­ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="5. åœ¨ Command Buffer ä¸­ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘vkCmdBeginRenderPass(cmdBuffer, &amp;renderPassBeginInfo, VK_SUBPASS_CONTENTS_INLINE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// --- Subpass 0 ---</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdBindPipeline(cmdBuffer, ..., pipeline0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdDraw(cmdBuffer, ...);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// åˆ‡æ¢åˆ° Subpass 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdNextSubpass(cmdBuffer, VK_SUBPASS_CONTENTS_INLINE);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// --- Subpass 1 ---</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdBindPipeline(cmdBuffer, ..., pipeline1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdDraw(cmdBuffer, ...);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkCmdEndRenderPass(cmdBuffer);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-é™„åŠ è¯´æ˜">ğŸ“¦ é™„åŠ è¯´æ˜<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E9%99%84%E5%8A%A0%E8%AF%B4%E6%98%8E" class="hash-link" aria-label="ğŸ“¦ é™„åŠ è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="ğŸ“¦ é™„åŠ è¯´æ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>vkCmdNextSubpass()</code></td><td>æ˜ç¡®åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª Subpass</td></tr><tr><td><code>input attachment</code></td><td>åªå…è®¸å½“å‰ framebuffer çš„ image ä½œåªè¯»ä½¿ç”¨</td></tr><tr><td>Pipeline layout</td><td>Subpass 1 çš„ fragment shader ä¸­ç”¨ <code>inputAttachment</code> è¯»å– Subpass 0 çš„ç»“æœ</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-shader-ä¸­å¦‚ä½•è¯»å–ä¸Šä¸€ä¸ª-subpass-çš„ç»“æœ">ğŸ§  Shader ä¸­å¦‚ä½•è¯»å–ä¸Šä¸€ä¸ª Subpass çš„ç»“æœï¼Ÿ<a href="https://www.iogl.cn/blog/18.multi%20subpass#-shader-%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AF%BB%E5%8F%96%E4%B8%8A%E4%B8%80%E4%B8%AA-subpass-%E7%9A%84%E7%BB%93%E6%9E%9C" class="hash-link" aria-label="ğŸ§  Shader ä¸­å¦‚ä½•è¯»å–ä¸Šä¸€ä¸ª Subpass çš„ç»“æœï¼Ÿçš„ç›´æ¥é“¾æ¥" title="ğŸ§  Shader ä¸­å¦‚ä½•è¯»å–ä¸Šä¸€ä¸ª Subpass çš„ç»“æœï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ Subpass 1 çš„ Fragment Shaderï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glslå¤åˆ¶ç¼–è¾‘layout (input_attachment_index = 0, set = 0, binding = 0) uniform subpassInput inputColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec4 color = subpassLoad(inputColor);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // åšä¸€äº›åå¤„ç†æ“ä½œ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-æ€»ç»“">âœ… æ€»ç»“<a href="https://www.iogl.cn/blog/18.multi%20subpass#-%E6%80%BB%E7%BB%93" class="hash-link" aria-label="âœ… æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="âœ… æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>æ­¥éª¤</th><th>åŠ¨ä½œ</th></tr></thead><tbody><tr><td>å®šä¹‰å¤šä¸ª attachment</td><td>æè¿° color / depth è¾“å‡º</td></tr><tr><td>åˆ›å»ºå¤šä¸ª subpass</td><td>æŒ‡å®šè°å†™ã€è°è¯»</td></tr><tr><td>è®¾ç½® dependency</td><td>æ˜ç¡®è¯»å†™å…ˆåé¡ºåº</td></tr><tr><td><code>vkCmdNextSubpass</code></td><td>åˆ‡æ¢é˜¶æ®µ</td></tr></tbody></table>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[vulkanä¸­çš„MSAA resolvemode]]></title>
        <id>https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode</id>
        <link href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode"/>
        <updated>2025-03-01T17:49:18.000Z</updated>
        <summary type="html"><![CDATA[VKRESOLVEMODEAVERAGEBIT æ˜¯ Vulkan å¤šé‡é‡‡æ ·æŠ—é”¯é½¿ï¼ˆMSAAï¼‰ è§£æï¼ˆresolveï¼‰æ“ä½œçš„ä¸€ç§æ¨¡å¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ å¯¹å¤šä¸ªé‡‡æ ·ç‚¹çš„é¢œè‰²å€¼æ±‚å¹³å‡ï¼Œç„¶åå°†ç»“æœå­˜å‚¨åˆ°è§£æç›®æ ‡ï¼ˆresolve attachmentï¼‰ä¸­ã€‚]]></summary>
        <content type="html"><![CDATA[<p><code>VK_RESOLVE_MODE_AVERAGE_BIT</code> æ˜¯ Vulkan <strong>å¤šé‡é‡‡æ ·æŠ—é”¯é½¿ï¼ˆMSAAï¼‰</strong> è§£æï¼ˆresolveï¼‰æ“ä½œçš„ä¸€ç§æ¨¡å¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ <strong>å¯¹å¤šä¸ªé‡‡æ ·ç‚¹çš„é¢œè‰²å€¼æ±‚å¹³å‡</strong>ï¼Œç„¶åå°†ç»“æœå­˜å‚¨åˆ°è§£æç›®æ ‡ï¼ˆresolve attachmentï¼‰ä¸­ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¸ºä»€ä¹ˆéœ€è¦-vk_resolve_mode_average_bit"><strong>1. ä¸ºä»€ä¹ˆéœ€è¦ <code>VK_RESOLVE_MODE_AVERAGE_BIT</code>ï¼Ÿ</strong><a href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-vk_resolve_mode_average_bit" class="hash-link" aria-label="1-ä¸ºä»€ä¹ˆéœ€è¦-vk_resolve_mode_average_bitçš„ç›´æ¥é“¾æ¥" title="1-ä¸ºä»€ä¹ˆéœ€è¦-vk_resolve_mode_average_bitçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ <strong>MSAA</strong> æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªåƒç´ å…·æœ‰å¤šä¸ªå­é‡‡æ ·ç‚¹ï¼ˆmulti-sample pointsï¼‰ï¼Œä½†æœ€ç»ˆå±å¹•åªèƒ½æ˜¾ç¤ºä¸€ä¸ªé¢œè‰²å€¼ã€‚å› æ­¤ï¼Œåœ¨ <strong>MSAA è§£æé˜¶æ®µ</strong>ï¼ˆresolveï¼‰ï¼Œéœ€è¦å°† <strong>å¤šé‡‡æ ·é¢œè‰²ç¼“å†²è½¬æ¢ä¸ºå•é‡‡æ ·ç¼“å†²</strong>ï¼Œè¿™é€šå¸¸ä¼šä½¿ç”¨ <strong>è§£ææ¨¡å¼ï¼ˆresolve modeï¼‰</strong> æ¥å†³å®šå¦‚ä½•è®¡ç®—æœ€ç»ˆé¢œè‰²ã€‚</p>
<p><code>VK_RESOLVE_MODE_AVERAGE_BIT</code> å…·ä½“ä½œç”¨ï¼š</p>
<ul>
<li><strong>å¯¹æ‰€æœ‰é‡‡æ ·ç‚¹çš„é¢œè‰²å€¼æ±‚å¹³å‡</strong>ï¼Œå¾—åˆ°ä¸€ä¸ªå¹³æ»‘è¿‡æ¸¡çš„æœ€ç»ˆé¢œè‰²ã€‚</li>
<li><strong>é€‚ç”¨äºé¢œè‰²ç¼“å†²çš„è§£æï¼ˆcolor resolveï¼‰</strong>ï¼Œå‡å°‘å› æŠ—é”¯é½¿å¸¦æ¥çš„è¾¹ç¼˜é”åº¦æŸå¤±ã€‚</li>
<li><strong>æé«˜è§†è§‰å¹³æ»‘åº¦</strong>ï¼Œå°¤å…¶é€‚ç”¨äºé«˜å¯¹æ¯”åº¦çš„è¾¹ç¼˜ã€‚</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-ä»£ç ç¤ºä¾‹"><strong>2. ä»£ç ç¤ºä¾‹</strong><a href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode#2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="2-ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="2-ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ Vulkan åˆ›å»º <strong>å¤šé‡‡æ ·é¢œè‰²ç¼“å†²ï¼ˆMSAA color attachmentï¼‰</strong> å¹¶è§£ææ—¶ï¼Œå¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkSubpassDescription subpass = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass.colorAttachmentCount = 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass.pColorAttachments = &amp;colorAttachmentRef;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass.pResolveAttachments = &amp;resolveAttachmentRef;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æŒ‡å®š <code>VK_RESOLVE_MODE_AVERAGE_BIT</code> è§£ææ¨¡å¼ï¼š</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkSubpassDescription2 subpass = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass.pResolveAttachments = &amp;resolveAttachmentRef;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkAttachmentDescription2 resolveAttachment = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.format = VK_FORMAT_R8G8B8A8_UNORM;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.samples = VK_SAMPLE_COUNT_1_BIT;  // è§£æåˆ°å•é‡‡æ ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.loadOp = VK_ATTACHMENT_LOAD_OP_DONT_CARE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.storeOp = VK_ATTACHMENT_STORE_OP_STORE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.finalLayout = VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkAttachmentReference2 resolveAttachmentRef = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachmentRef.attachment = 1;  // è§£æé™„ä»¶ç´¢å¼•</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachmentRef.layout = VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachmentRef.resolveMode = VK_RESOLVE_MODE_AVERAGE_BIT;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-vk_resolve_mode_average_bit-vs-å…¶ä»–è§£ææ¨¡å¼"><strong>3. <code>VK_RESOLVE_MODE_AVERAGE_BIT</code> vs. å…¶ä»–è§£ææ¨¡å¼</strong><a href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode#3-vk_resolve_mode_average_bit-vs-%E5%85%B6%E4%BB%96%E8%A7%A3%E6%9E%90%E6%A8%A1%E5%BC%8F" class="hash-link" aria-label="3-vk_resolve_mode_average_bit-vs-å…¶ä»–è§£ææ¨¡å¼çš„ç›´æ¥é“¾æ¥" title="3-vk_resolve_mode_average_bit-vs-å…¶ä»–è§£ææ¨¡å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Vulkan æä¾›äº†å¤šç§è§£ææ¨¡å¼ï¼Œæ¯ç§é€‚ç”¨äºä¸åŒçš„æ¸²æŸ“éœ€æ±‚ï¼š</p>
<table><thead><tr><th><strong>è§£ææ¨¡å¼</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td><code>VK_RESOLVE_MODE_NONE</code></td><td>ä¸è¿›è¡Œè§£æ</td></tr><tr><td><code>VK_RESOLVE_MODE_SAMPLE_ZERO_BIT</code></td><td>ç›´æ¥é€‰å–ç¬¬ä¸€ä¸ªé‡‡æ ·ç‚¹çš„å€¼</td></tr><tr><td><code>VK_RESOLVE_MODE_AVERAGE_BIT</code></td><td><strong>è®¡ç®—æ‰€æœ‰é‡‡æ ·ç‚¹çš„å¹³å‡å€¼</strong>ï¼ˆå¸¸ç”¨äºé¢œè‰²ç¼“å†²è§£æï¼‰</td></tr><tr><td><code>VK_RESOLVE_MODE_MIN_BIT</code></td><td>é€‰å–æœ€å°é¢œè‰²å€¼ï¼ˆé€‚ç”¨äºæ·±åº¦ç¼“å†²è§£æï¼‰</td></tr><tr><td><code>VK_RESOLVE_MODE_MAX_BIT</code></td><td>é€‰å–æœ€å¤§é¢œè‰²å€¼ï¼ˆé€‚ç”¨äºæ·±åº¦ç¼“å†²è§£æï¼‰</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-é€‚ç”¨åœºæ™¯"><strong>4. é€‚ç”¨åœºæ™¯</strong><a href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode#4-%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF" class="hash-link" aria-label="4-é€‚ç”¨åœºæ™¯çš„ç›´æ¥é“¾æ¥" title="4-é€‚ç”¨åœºæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>âœ… <strong>é€‚åˆé¢œè‰²ç¼“å†²çš„è§£æ</strong></p>
<ul>
<li>é€‚ç”¨äº MSAA <strong>é¢œè‰²é™„ä»¶ï¼ˆcolor attachmentï¼‰</strong> è§£æï¼Œä½¿å¾—è¾¹ç¼˜æ›´å¹³æ»‘ã€‚</li>
<li>å¯¹ <strong>HDR æ¸²æŸ“</strong> ä¹Ÿé€‚ç”¨ï¼Œå¯é˜²æ­¢è¿‡åº¦é”åŒ–çš„ç°è±¡ã€‚</li>
</ul>
<p>âŒ <strong>ä¸é€‚ç”¨äºæ·±åº¦/æ¨¡ç‰ˆç¼“å†²</strong></p>
<ul>
<li>æ·±åº¦ç¼“å†²é€šå¸¸ç”¨ <code>VK_RESOLVE_MODE_MIN_BIT</code> æˆ– <code>VK_RESOLVE_MODE_MAX_BIT</code>ï¼Œè€Œä¸æ˜¯ <code>VK_RESOLVE_MODE_AVERAGE_BIT</code>ï¼Œå› ä¸ºæ·±åº¦å€¼ä¸èƒ½ç®€å•å¹³å‡ã€‚</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-æ€»ç»“"><strong>5. æ€»ç»“</strong><a href="https://www.iogl.cn/blog/17.vulkan_msaa_resolvemode#5-%E6%80%BB%E7%BB%93" class="hash-link" aria-label="5-æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="5-æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ul>
<li><code>VK_RESOLVE_MODE_AVERAGE_BIT</code> <strong>ç”¨äº MSAA è§£æï¼ˆresolveï¼‰æ—¶è®¡ç®—é‡‡æ ·ç‚¹çš„å¹³å‡é¢œè‰²å€¼</strong>ã€‚</li>
<li><strong>é€‚ç”¨äºé¢œè‰²ç¼“å†²ï¼ˆcolor attachmentsï¼‰ï¼Œå¯å‡å°‘é”¯é½¿ï¼Œæé«˜ç”»é¢å¹³æ»‘åº¦</strong>ã€‚</li>
<li><strong>ä¸é€‚ç”¨äºæ·±åº¦/æ¨¡æ¿ç¼“å†²ï¼ˆdepth/stencil attachmentsï¼‰</strong>ï¼Œå› ä¸ºæ·±åº¦è§£æé€šå¸¸éœ€è¦æœ€å°å€¼æˆ–æœ€å¤§å€¼ï¼Œè€Œéå¹³å‡å€¼ã€‚</li>
</ul>
<p>ğŸš€ <strong>å¦‚æœä½ çš„ Vulkan åº”ç”¨ä½¿ç”¨ MSAAï¼Œå¹¶å¸Œæœ›å¹³æ»‘è¿‡æ¸¡é¢œè‰²ç¼“å†²ï¼Œ<code>VK_RESOLVE_MODE_AVERAGE_BIT</code> æ˜¯æ¨èçš„è§£ææ¨¡å¼ï¼</strong></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä»€ä¹ˆæ˜¯MSAA]]></title>
        <id>https://www.iogl.cn/blog/16.msaa</id>
        <link href="https://www.iogl.cn/blog/16.msaa"/>
        <updated>2025-02-28T15:47:18.000Z</updated>
        <summary type="html"><![CDATA[MSAAï¼ˆMultisample Anti-Aliasingï¼Œå¤šé‡é‡‡æ ·æŠ—é”¯é½¿ï¼‰ æ˜¯ä¸€ç§ ç¡¬ä»¶çº§åˆ«çš„æŠ—é”¯é½¿æŠ€æœ¯ï¼Œç”¨äºå‡å°‘ 3D æ¸²æŸ“ä¸­çš„ é”¯é½¿æ•ˆåº”ï¼ˆaliasingï¼‰ï¼Œç‰¹åˆ«æ˜¯åœ¨ è¾¹ç¼˜å¹³æ»‘å¤„ç† æ–¹é¢æ•ˆæœæ˜¾è‘—ã€‚]]></summary>
        <content type="html"><![CDATA[<p><strong>MSAAï¼ˆMultisample Anti-Aliasingï¼Œå¤šé‡é‡‡æ ·æŠ—é”¯é½¿ï¼‰</strong> æ˜¯ä¸€ç§ <strong>ç¡¬ä»¶çº§åˆ«çš„æŠ—é”¯é½¿æŠ€æœ¯</strong>ï¼Œç”¨äºå‡å°‘ 3D æ¸²æŸ“ä¸­çš„ <strong>é”¯é½¿æ•ˆåº”ï¼ˆaliasingï¼‰</strong>ï¼Œç‰¹åˆ«æ˜¯åœ¨ <strong>è¾¹ç¼˜å¹³æ»‘å¤„ç†</strong> æ–¹é¢æ•ˆæœæ˜¾è‘—ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¸ºä»€ä¹ˆéœ€è¦-msaaæŠ—é”¯é½¿çš„å¿…è¦æ€§"><strong>1. ä¸ºä»€ä¹ˆéœ€è¦ MSAAï¼Ÿï¼ˆæŠ—é”¯é½¿çš„å¿…è¦æ€§ï¼‰</strong><a href="https://www.iogl.cn/blog/16.msaa#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-msaa%E6%8A%97%E9%94%AF%E9%BD%BF%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7" class="hash-link" aria-label="1-ä¸ºä»€ä¹ˆéœ€è¦-msaaæŠ—é”¯é½¿çš„å¿…è¦æ€§çš„ç›´æ¥é“¾æ¥" title="1-ä¸ºä»€ä¹ˆéœ€è¦-msaaæŠ—é”¯é½¿çš„å¿…è¦æ€§çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œ<strong>åƒç´ æ˜¯ç¦»æ•£çš„</strong>ï¼Œè€Œ 3D åœºæ™¯ä¸­çš„ç‰©ä½“è¾¹ç¼˜é€šå¸¸æ˜¯è¿ç»­çš„ã€‚å½“æˆ‘ä»¬å°†è¿ç»­çš„å‡ ä½•è¾¹ç¼˜æ˜ å°„åˆ°æœ‰é™çš„åƒç´ ç½‘æ ¼æ—¶ï¼Œä¼šå‡ºç°<strong>é”¯é½¿æ•ˆåº”</strong>ï¼ˆaliasingï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>ğŸ”³ <strong>æ²¡æœ‰æŠ—é”¯é½¿çš„å›¾åƒï¼š</strong></p>
<ul>
<li>ç‰©ä½“è¾¹ç¼˜å‘ˆç° <strong>å°é˜¶çŠ¶çš„é”¯é½¿</strong>ï¼Œå½±å“è§†è§‰è´¨é‡ã€‚</li>
<li>è¿™æ˜¯å› ä¸º <strong>æ¯ä¸ªåƒç´ åªèƒ½å­˜å‚¨ä¸€ä¸ªé¢œè‰²å€¼</strong>ï¼Œå½“è¾¹ç¼˜è½åœ¨ä¸¤ä¸ªåƒç´ ä¹‹é—´æ—¶ï¼Œé¢œè‰²ä¼šå‡ºç°ä¸è¿ç»­çš„è·³å˜ã€‚</li>
</ul>
<p><strong>âœ… æŠ—é”¯é½¿åï¼š</strong></p>
<ul>
<li>é€šè¿‡<strong>é¢œè‰²æ··åˆ</strong>æŠ€æœ¯ï¼Œè¾¹ç¼˜è¿‡æ¸¡æ›´åŠ å¹³æ»‘ã€‚</li>
<li>MSAA é€šè¿‡ <strong>åœ¨æ¯ä¸ªåƒç´ ä¸­å¢åŠ å¤šä¸ªé‡‡æ ·ç‚¹</strong>ï¼Œå¹¶è®¡ç®—åŠ æƒå¹³å‡å€¼ï¼Œä»è€Œå‡å°‘é”¯é½¿ã€‚</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-msaa-çš„åŸºæœ¬åŸç†"><strong>2. MSAA çš„åŸºæœ¬åŸç†</strong><a href="https://www.iogl.cn/blog/16.msaa#2-msaa-%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" class="hash-link" aria-label="2-msaa-çš„åŸºæœ¬åŸç†çš„ç›´æ¥é“¾æ¥" title="2-msaa-çš„åŸºæœ¬åŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ™®é€šæ¸²æŸ“-vs-msaa"><strong>æ™®é€šæ¸²æŸ“ vs MSAA</strong><a href="https://www.iogl.cn/blog/16.msaa#%E6%99%AE%E9%80%9A%E6%B8%B2%E6%9F%93-vs-msaa" class="hash-link" aria-label="æ™®é€šæ¸²æŸ“-vs-msaaçš„ç›´æ¥é“¾æ¥" title="æ™®é€šæ¸²æŸ“-vs-msaaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>åƒç´ é‡‡æ ·æ–¹å¼</strong></th><th><strong>æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>æ™®é€šæ¸²æŸ“</strong></td><td>1 ä¸ªåƒç´  â†’ 1 ä¸ªé¢œè‰²æ ·æœ¬</td><td>ğŸš« é”¯é½¿æ˜æ˜¾</td></tr><tr><td><strong>MSAA (4x)</strong></td><td>1 ä¸ªåƒç´  â†’ 4 ä¸ªé‡‡æ ·ç‚¹ï¼Œæ¯ä¸ªé‡‡æ ·ç‚¹æœ‰æ·±åº¦ä¿¡æ¯ï¼Œä½†é¢œè‰²åªè®¡ç®—ä¸€æ¬¡</td><td>âœ… å¹³æ»‘</td></tr></tbody></table>
<p>ğŸ”¹ <strong>MSAA çš„æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<ol>
<li><strong>æ¯ä¸ªåƒç´ çš„å¤šä¸ªå­é‡‡æ ·ç‚¹ï¼ˆSubsample Pointsï¼‰ç‹¬ç«‹å­˜å‚¨æ·±åº¦ä¿¡æ¯</strong>ã€‚</li>
<li><strong>å½“ç‰‡æ®µç€è‰²å™¨ï¼ˆFragment Shaderï¼‰è¿è¡Œæ—¶ï¼Œå®ƒåªè®¡ç®—ä¸€æ¬¡é¢œè‰²</strong>ï¼Œä½†æœ€ç»ˆçš„é¢œè‰²ä¼šæ ¹æ®å“ªäº›å­é‡‡æ ·ç‚¹è¢«è¦†ç›–è¿›è¡Œæ··åˆã€‚</li>
<li><strong>æœ€ç»ˆåƒç´ é¢œè‰²æ˜¯æ‰€æœ‰å­é‡‡æ ·ç‚¹çš„åŠ æƒå¹³å‡å€¼</strong>ï¼Œä»è€Œå®ç°å¹³æ»‘è¿‡æ¸¡ã€‚</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-msaa-çš„ä¸åŒçº§åˆ«"><strong>3. MSAA çš„ä¸åŒçº§åˆ«</strong><a href="https://www.iogl.cn/blog/16.msaa#3-msaa-%E7%9A%84%E4%B8%8D%E5%90%8C%E7%BA%A7%E5%88%AB" class="hash-link" aria-label="3-msaa-çš„ä¸åŒçº§åˆ«çš„ç›´æ¥é“¾æ¥" title="3-msaa-çš„ä¸åŒçº§åˆ«çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>MSAA çš„æ€§èƒ½å¼€é”€ä¸é‡‡æ ·ç‚¹æ•°é‡æˆæ­£æ¯”ï¼Œå¸¸è§çš„ MSAA çº§åˆ«æœ‰ï¼š</p>
<table><thead><tr><th><strong>MSAA çº§åˆ«</strong></th><th><strong>æ¯åƒç´ é‡‡æ ·ç‚¹æ•°</strong></th><th><strong>æ€§èƒ½å¼€é”€</strong></th><th><strong>æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>1x</strong> ï¼ˆæ—  MSAAï¼‰</td><td>1</td><td>ä½</td><td>ğŸš« é”¯é½¿æ˜æ˜¾</td></tr><tr><td><strong>2x MSAA</strong></td><td>2</td><td>é€‚ä¸­</td><td>ğŸ”¹ æœ‰ä¸€å®šå¹³æ»‘æ•ˆæœ</td></tr><tr><td><strong>4x MSAA</strong></td><td>4</td><td>ä¸­ç­‰</td><td>âœ… å¸¸è§ï¼Œæ•ˆæœæ˜æ˜¾</td></tr><tr><td><strong>8x MSAA</strong></td><td>8</td><td>é«˜</td><td>ğŸ”¥ ç”»è´¨å¥½ä½†æ€§èƒ½å¼€é”€å¤§</td></tr><tr><td><strong>16x MSAA</strong></td><td>16</td><td>å¾ˆé«˜</td><td>ğŸ¨ éå¸¸å¹³æ»‘ï¼Œä½†è®¡ç®—é‡å¤§</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä¸åŒ-msaa-çº§åˆ«å¯¹æ¯”"><strong>ç¤ºä¾‹ï¼šä¸åŒ MSAA çº§åˆ«å¯¹æ¯”</strong><a href="https://www.iogl.cn/blog/16.msaa#%E7%A4%BA%E4%BE%8B%E4%B8%8D%E5%90%8C-msaa-%E7%BA%A7%E5%88%AB%E5%AF%B9%E6%AF%94" class="hash-link" aria-label="ç¤ºä¾‹ä¸åŒ-msaa-çº§åˆ«å¯¹æ¯”çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä¸åŒ-msaa-çº§åˆ«å¯¹æ¯”çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">scsså¤åˆ¶ç¼–è¾‘[1x MSAA]  â–ˆâ–ˆâ–ˆâ–ˆâ– â– â– â– â–ˆâ–ˆâ–ˆâ–ˆ     (ä¸¥é‡é”¯é½¿)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[2x MSAA]  â–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–ˆâ–ˆâ–ˆâ–ˆ     (ç¨å¾®å¹³æ»‘)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[4x MSAA]  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ     (æ˜æ˜¾å¹³æ»‘)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[8x MSAA]  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ     (éå¸¸å¹³æ»‘)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>é«˜ MSAA</strong> æä¾›æ›´å¥½çš„è¾¹ç¼˜å¹³æ»‘æ•ˆæœï¼Œä½†ä¹Ÿå¢åŠ äº† GPU è®¡ç®—è´Ÿæ‹…ã€‚</li>
<li><strong>ä¸€èˆ¬æ¸¸æˆæˆ–åº”ç”¨å¸¸ç”¨ 4x MSAA ä½œä¸ºæŠ˜ä¸­æ–¹æ¡ˆ</strong>ã€‚</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-vulkan-ä¸­çš„-msaa"><strong>4. Vulkan ä¸­çš„ MSAA</strong><a href="https://www.iogl.cn/blog/16.msaa#4-vulkan-%E4%B8%AD%E7%9A%84-msaa" class="hash-link" aria-label="4-vulkan-ä¸­çš„-msaaçš„ç›´æ¥é“¾æ¥" title="4-vulkan-ä¸­çš„-msaaçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ Vulkan é‡Œï¼Œ<strong>MSAA é€šè¿‡ <code>VkSampleCountFlagBits</code> è®¾ç½®é‡‡æ ·æ•°é‡</strong>ï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">å¤åˆ¶ç¼–è¾‘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkSampleCountFlagBits msaaSamples = VK_SAMPLE_COUNT_4_BIT; // 4x MSAA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨-vulkan-åˆ›å»º-msaa-é¢œè‰²ç¼“å†²"><strong>åœ¨ Vulkan åˆ›å»º MSAA é¢œè‰²ç¼“å†²</strong><a href="https://www.iogl.cn/blog/16.msaa#%E5%9C%A8-vulkan-%E5%88%9B%E5%BB%BA-msaa-%E9%A2%9C%E8%89%B2%E7%BC%93%E5%86%B2" class="hash-link" aria-label="åœ¨-vulkan-åˆ›å»º-msaa-é¢œè‰²ç¼“å†²çš„ç›´æ¥é“¾æ¥" title="åœ¨-vulkan-åˆ›å»º-msaa-é¢œè‰²ç¼“å†²çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li><strong>é¢œè‰²é™„ä»¶ï¼ˆColor Attachmentï¼‰</strong> éœ€è¦ä½¿ç”¨å¤šé‡‡æ ·ï¼š</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkAttachmentDescription colorAttachment = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">colorAttachment.samples = VK_SAMPLE_COUNT_4_BIT; // ä½¿ç”¨ 4x MSAA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>è§£æé™„ä»¶ï¼ˆResolve Attachmentï¼‰</strong> è´Ÿè´£ä» <strong>å¤šé‡‡æ ·è½¬æ¢ä¸ºå•é‡‡æ ·</strong>ï¼š</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cppå¤åˆ¶ç¼–è¾‘VkAttachmentDescription resolveAttachment = {};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolveAttachment.samples = VK_SAMPLE_COUNT_1_BIT; // è§£æåˆ°å•é‡‡æ ·</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>åœ¨æ¸²æŸ“é€šé“ï¼ˆRender Passï¼‰ä¸­æŒ‡å®šè§£æç›®æ ‡</strong>ï¼š</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">å¤åˆ¶ç¼–è¾‘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subpass.pResolveAttachments = &amp;resolveAttachmentRef;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ï¿½ï¿½ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ğŸ’¡ <strong>MSAA é¢œè‰²ç¼“å†²ä¸ä¼šç›´æ¥æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼Œéœ€è¦è§£æåˆ°å•é‡‡æ ·ç¼“å†²ï¼</strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-msaa-çš„ä¼˜ç¼ºç‚¹"><strong>5. MSAA çš„ä¼˜ç¼ºç‚¹</strong><a href="https://www.iogl.cn/blog/16.msaa#5-msaa-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9" class="hash-link" aria-label="5-msaa-çš„ä¼˜ç¼ºç‚¹çš„ç›´æ¥é“¾æ¥" title="5-msaa-çš„ä¼˜ç¼ºç‚¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td>âœ… æé«˜è¾¹ç¼˜å¹³æ»‘åº¦ï¼Œå‡å°‘é”¯é½¿</td><td>âŒ æ€§èƒ½æ¶ˆè€—è¾ƒé«˜</td></tr><tr><td>âœ… ç¡¬ä»¶çº§ä¼˜åŒ–ï¼Œæ”¯æŒå¹¿æ³›</td><td>âŒ ä¸èƒ½å‡å°‘çº¹ç†é‡‡æ ·å¯¼è‡´çš„é”¯é½¿</td></tr><tr><td>âœ… å…¼å®¹å¤§å¤šæ•° GPU å’Œ API</td><td>âŒ ä»…å¯¹å‡ ä½•è¾¹ç¼˜ç”Ÿæ•ˆï¼Œå¯¹é€æ˜çº¹ç†æ— æ•ˆ</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-msaa-vs-å…¶ä»–æŠ—é”¯é½¿æŠ€æœ¯"><strong>6. MSAA vs å…¶ä»–æŠ—é”¯é½¿æŠ€æœ¯</strong><a href="https://www.iogl.cn/blog/16.msaa#6-msaa-vs-%E5%85%B6%E4%BB%96%E6%8A%97%E9%94%AF%E9%BD%BF%E6%8A%80%E6%9C%AF" class="hash-link" aria-label="6-msaa-vs-å…¶ä»–æŠ—é”¯é½¿æŠ€æœ¯çš„ç›´æ¥é“¾æ¥" title="6-msaa-vs-å…¶ä»–æŠ—é”¯é½¿æŠ€æœ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th><strong>æŠ—é”¯é½¿æŠ€æœ¯</strong></th><th><strong>æ–¹å¼</strong></th><th><strong>ä¼˜ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>MSAAï¼ˆå¤šé‡é‡‡æ ·ï¼‰</strong></td><td>ä»…å¯¹å‡ ä½•è¾¹ç¼˜é‡‡æ ·ï¼Œå¹³å‡é¢œè‰²</td><td>âœ… ç”»è´¨å¥½ï¼Œç¡¬ä»¶æ”¯æŒï¼›âŒ å¯¹é€æ˜çº¹ç†æ— æ•ˆ</td></tr><tr><td><strong>SSAAï¼ˆè¶…é‡‡æ ·ï¼ŒSuperSamplingï¼‰</strong></td><td>æ•´ä¸ªåœºæ™¯æ”¾å¤§æ¸²æŸ“å†ç¼©å°</td><td>âœ… ç”»è´¨æœ€å¥½ï¼›âŒ è®¡ç®—é‡å·¨å¤§</td></tr><tr><td><strong>FXAAï¼ˆå¿«é€Ÿè¿‘ä¼¼æŠ—é”¯é½¿ï¼‰</strong></td><td>çº¹ç†åå¤„ç†</td><td>âœ… è®¡ç®—å¿«ï¼Œé€‚åˆä½ç«¯ GPUï¼›âŒ æ¨¡ç³Š</td></tr><tr><td><strong>TAAï¼ˆæ—¶é—´æŠ—é”¯é½¿ï¼‰</strong></td><td>ç»“åˆå‰ä¸€å¸§ä¿¡æ¯è¿›è¡Œå¹³æ»‘</td><td>âœ… å¯¹åŠ¨æ€ç”»é¢æ›´æœ‰æ•ˆï¼›âŒ å¯èƒ½å¯¼è‡´æ‹–å½±</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-æ€»ç»“"><strong>7. æ€»ç»“</strong><a href="https://www.iogl.cn/blog/16.msaa#7-%E6%80%BB%E7%BB%93" class="hash-link" aria-label="7-æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="7-æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ul>
<li><strong>MSAA æ˜¯ä¸€ç§ GPU ç¡¬ä»¶æ”¯æŒçš„æŠ—é”¯é½¿æŠ€æœ¯ï¼Œä¸“æ³¨äºå‡ ä½•è¾¹ç¼˜çš„å¹³æ»‘å¤„ç†ã€‚</strong></li>
<li><strong>å®ƒé€šè¿‡åœ¨åƒç´ å†…ä½¿ç”¨å¤šä¸ªå­é‡‡æ ·ç‚¹æ¥å‡å°‘é”¯é½¿æ•ˆåº”ï¼Œå¹¶ä¸”å¯¹æ€§èƒ½çš„å½±å“æ¯” SSAA å°ï¼Œä½†ä»ç„¶æ¯” FXAA å’Œ TAA è¦é«˜ã€‚</strong></li>
<li><strong>Vulkan å…è®¸é€šè¿‡ <code>VkSampleCountFlagBits</code> è½»æ¾å¯ç”¨ MSAAï¼Œå¹¶é€šè¿‡ <code>resolve attachment</code> è§£æåˆ°æœ€ç»ˆå¸§ç¼“å†²ã€‚</strong></li>
<li><strong>åœ¨æ¸¸æˆæˆ–å›¾å½¢åº”ç”¨ä¸­ï¼Œ4x MSAA é€šå¸¸æ˜¯ä¸€ä¸ªæ€§èƒ½å’Œç”»è´¨çš„æŠ˜ä¸­æ–¹æ¡ˆã€‚</strong></li>
</ul>
<p>ğŸš€ <strong>åœ¨ Vulkan å¼€å‘ä¸­ï¼Œå¦‚æœä½ éœ€è¦æŠ—é”¯é½¿ä½†åˆæƒ³å…¼é¡¾æ€§èƒ½ï¼Œ4x MSAA æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼</strong></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MipMapä¸LODæ˜¯ä½•ç‰©ï¼Ÿ]]></title>
        <id>https://www.iogl.cn/blog/11.MipMapä¸LODæ˜¯ä½•ç‰©</id>
        <link href="https://www.iogl.cn/blog/11.MipMapä¸LODæ˜¯ä½•ç‰©"/>
        <updated>2024-10-07T14:52:25.000Z</updated>
        <summary type="html"><![CDATA[MipMapä¸LODæ˜¯ä½•ç‰©ï¼Ÿ]]></summary>
        <content type="html"><![CDATA[<p>MipMapä¸LODæ˜¯ä½•ç‰©ï¼Ÿ</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lodæ¨¡å‹é‡‘å­—å¡”">LOD:æ¨¡å‹é‡‘å­—å¡”<a href="https://www.iogl.cn/blog/11.MipMap%E4%B8%8ELOD%E6%98%AF%E4%BD%95%E7%89%A9#lod%E6%A8%A1%E5%9E%8B%E9%87%91%E5%AD%97%E5%A1%94" class="hash-link" aria-label="LOD:æ¨¡å‹é‡‘å­—å¡”çš„ç›´æ¥é“¾æ¥" title="LOD:æ¨¡å‹é‡‘å­—å¡”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>LODï¼šå…¨ç§°Level Of Detailï¼Œä¸­æ–‡ç¿»è¯‘â€œç»†èŠ‚çº§åˆ«æ¸å˜â€ï¼Œé¡¾åæ€ä¹‰ï¼Œä¸åŒçš„çº§åˆ«å±•ç¤ºä¸åŒçš„ç»†èŠ‚ï¼Œé‚£ä¹ˆç©¶ç«Ÿè¿™ä¸ªæŠ€æœ¯æ˜¯å¦‚ä½•è¿ç”¨åœ¨æ¸¸æˆé¡¹ç›®ä¸­çš„å‘¢ï¼Ÿé€šè¿‡ä¾‹å­æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ã€‚å…³äºä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå’Œæ¸¸æˆä¼˜åŒ–æ˜¯å¯†ä¸å¯åˆ†çš„ï¼Œä½¿ç”¨è¿™ä¸ªæŠ€æœ¯å¯ä»¥å‡å°‘éœ€è¦å¤„ç†çš„æ¨¡å‹é¡¶ç‚¹æ•°ç›®ï¼Œé™ä½GPUæ€§èƒ½ç“¶é¢ˆçš„é£é™©ã€‚</p>
<p>åŸç†ï¼šå½“æ¨¡å‹ç¦»æ‘„åƒæœºï¼ˆå¯ä»¥æ˜¯äººç‰©æ‘„åƒæœºæˆ–å…¶ä»–æ‘„åƒæœºï¼‰å¾ˆè¿œæ—¶ï¼Œç„¶åæ ¹æ®è·ç¦»çš„è¿œè¿‘ä½¿ç”¨ä¸åŒæ¨¡å‹çº§åˆ«ï¼Œè¿œçš„æ—¶å€™å°±é€‰æ‹©ä½çº§åˆ«çš„æ¨¡å‹ï¼Œè¿‘çš„æ—¶å€™é€‰æ‹©é«˜ç»†èŠ‚æ¨¡å‹ï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘æ¨¡å‹ä¸Šé¢çš„é¡¶ç‚¹å’Œé¢ç‰‡æ•°é‡ä»è€Œæé«˜æ€§èƒ½ã€‚</p>
<p>å‡†å¤‡ï¼šå‡†å¤‡ä¸‰ä¸ªç›¸åŒçš„æ¨¡å‹ï¼Œä½†æ˜¯è¿™ä¸‰ä¸ªæ¨¡å‹ä»–ä»¬çš„ä¸‰è§’é¢å’Œé¡¶ç‚¹æ•°éƒ½ä¸åŒï¼Œè¿™æ ·å°±å¯ä»¥ä»£è¡¨ä¸‰ç§ä»é«˜â€”ä¸­â€”ä½çš„å±‚çº§ã€‚ï¼ˆç”±äºæ²¡æœ‰æ‰¾åˆ°æ¨¡å‹èµ„æºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ€èƒ½ä½“ç°GPUæ€§èƒ½æ¶ˆè€—çš„particleç‰¹æ•ˆæ¥åšï¼Œrateåˆ†åˆ«æ˜¯20,10,5ï¼‰</p>
<p>é¦–å…ˆåœ¨å±‚æ¬¡é¢æ¿åˆ›å»ºä¸€ä¸ªEmptyGoï¼Œå‘½åä¸ºTestLOD,å¯¹ä½ æ‰¾æ¥çš„ä¸‰ä¸ªæ¨¡å‹ä»¥â€œ...LOD01â€ï¼ˆç»“å°¾åºå·è¡¨ç¤ºå±‚çº§ï¼‰å‘½åï¼Œæœ€åå…¨éƒ¨æ‹–æ”¾åˆ°TestLODä¸‹,è®°ä½è®°ä½ï¼Œè¿™ä¸‰ä¸ªç‰©ä½“ä½ç½®è¦å…¨éƒ¨ç›¸åŒã€‚</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAV0AAABQCAYAAAC6YabdAAAImElEQVR4nO3deYjMfxzH8feyWGFdYTfWfcQ6c+SIWEekHLkjipWQ3Edy32frPiJ/CCtHEnK3rBBR7qwoVohQjpzJr/dHM333mt2dnf3MfOf3fNTuzPea73f2j/d89vP5fl4TkZqa+lcAAIWudOnSUiTYFwEA/ycUXQCwiKILABZRdAHAosjfv3/Lz58/5c+fPznuVLRoUSlRooQUK1bM4qUBQPiJ1EJ669Yt+fDhQ447VaxYUdq1a+dd7tSpU477pqam+nUh+prOYzMvO504cUIOHDggb9++ldjYWElMTJQuXbpkuT79sChbtqy0bt1aRowYITVq1PDr2gAgUCL1V3x8vNy8eVN+/PiRZYeoqCiz3SmvxbEwXLt2Tfbt2ydz586V+vXrS1pamqxYscJcp/ODQa/p169f8u7dO7l06ZJMmjRJkpKSpE6dOtauFQAyM3260dHREhMTk+0Oul6358enT59k3rx50rNnTxk5cqQ8fPjQu+3ixYsyaNAg6dWrlyxevNis87RM9dFXK1rt379fpkyZIs2aNZOSJUtK8+bNZfLkybJ3794s+xYvXlyqVatmWrnjxo2TnTt35ut9AECgeQfStNWo/bZOuqzr82vTpk2meGo3gBbI9evXe7fpc22ZHj58WOrWrWvWeVrK+phbq/n58+fSpEmTDOuaNm0qT58+9Xlc586d5f79+/l+LwAQSJGeJ9oqrFevnjx48MC7UZd1fX7duHFDzp8/L8uWLTPL2rfqERcXJ7t27ZKEhATp169fQa49XyIiIqydCwByEulcqF69urx48UK+fPkiZcqUMcv++Pv3rxw/flzKly+fZdvGjRvlypUr5ufo0aOmAOeHXtO9e/ekffv23nW6XLt2bZ/HaQtauyIAIJgy3KdbpEgRadSokWkV6qMu+6NVq1amoGrxfv/+vaxZs8a7LTk52RTMMWPGyOvXr73rK1euLI8fP871tbV/Vgv33bt3zcDfnTt3zLL2E2emt8PpOfROh+3bt5t+XQAIpsjMK8qVK2cKoD76a+rUqaYQDhs2zLzOkCFDvNtevnxpCqTebaD7eehg2IwZM8zzkydPmsfMg2raWu3QoYN8/PhRVq1aZW4Zq1KliowaNUq6deuWYV89Vj80PLeMaT8zt4wBCLYIUsYAwA5SxgDAMoouAFhE0QUAiyi6AGARRRcALKLoAoBFYVV0cwvLyes+AFBYrBddT5JYjx49zISI9PT0Ar2Wk62ISV+FW0N+dFKIZksMHz5cUlJSshyrP5r/q9kTy5cvN1OvnT5//izTp083SWw6YUSXPXSWnQb36N8PgPsEpaWrxVGzGdq2beuNdwwHnqzfOXPmyKlTp2TmzJlm+vH169cz7Kfv/+zZs7JlyxYzS06zfp89e+bdvm3bNpP7e+jQIalZs6bs2LHDu61r164yceLEbLOPAYS+oHUvaBautvR0WrDT4MGDTWEZMGCASSrz0NahfqXQ6tWrzfbsMnidLdBv377JunXrpG/fvjJ69Gi5fft2lmvwlfvrj0Bl/eo3eej719ChgQMHmmWPvMRfAghdQSu6379/N63CzMlf2rq7cOGCydzVlqCTth61QGkQem4ZvHqsFrWDBw/KypUr5dixY1n28ZX7649AZf3qVydVqFDBPNevStLQIADhIUvgjQ1a6DQgXYNoZs+e7V3/6tUr2b17tzx69MiE2ugXZjr16dMnz+fQ6MgjR46Y82ir05Pt6+Qr99em7LJ+/U14AxDaglJ0c/r3WAeP+vfvL+PHjzdZvNqNUBC5FS5fub/+CFTWr7Zy9UOnUqVK5tHT6gXgfiHVnPr69au0aNFCSpUqZVqqufGVwdumTRs5c+aMaS1rBKR2V2TmK/fXH4HK+m3ZsqW5Lv17aLeILgMID0Fp6eZER/GnTZtmnvfu3TvX/bPL4HVu27Bhgxmg0gGpoUOHZjneV+5vbgoz63fChAmyZMkSM4imYfILFizI9rye5wysAe5Bni4AWKJ5uiHV0g0VviY/0KoEUBAU3WxQWAEUlpAaSAOAcEfRBQCLKLoAYBFFFwAsCquiS54ugFBn/e4FT9GLioqShg0bmqm/On3W39dy3mlgM083p3NpeI7OMtPJEbGxsZKYmGiyc53HKs158EyO0JlszskRmp+rkZeaQREfH28mR0RHR5ttp0+fNhNB0tLSTKDP2LFjzaQMAO5Anm4A2cjTvXr1qpmFd+7cOROArglqANyDPF2X5elqIlqtWrXMNOI3b95IXFxcga4ZgF3k6bo0T1f/fhqKM3/+/AJdMwC7yNN1YZ6utviTkpJMOJDGPwJwD/J0XZanqwV36dKlpkuEggu4T0jdMkae7j++8nQXLVpkBtd0EBKA+4RU4A15uv/4ytO9fPmy+dmzZ0+GcwNwB/J0AcAS8nRzQJ4ugMJC0c0GhRVAYQmpgTQACHcUXQCwiKILABZRdAHAorAquuTpAgh15OkG4LxOhZ2nq4llGgikORVVq1Y1M9nI0wXcgzzdALKRp6tpZDoVWI/XmWs6+w2Ae5Cn67I83bVr13oDdPQ9Nm7cuEDXDMCuoE2O8JWnq+lfT548kVmzZkn37t292zx5up44SF//5msrUrstNE9X/13fvHlzhuAY5cnTXbhwoWlBap6uM9MgvwqSp+vMDs5Lnm5CQoLExMTI1q1b/b5eAPaRp+vCPF2VkpJiwtz12jW0B4A7kKfrsjxdD/2A6NixY4G/7QKAXSF1yxh5uv/4ytPVQbr09HTTPZOcnGyiHwG4R0gF3pCn+4+vPN0GDRqYLhnt99UBO2f3DIDQR54uAFhCnm4OyNMFUFgoutmgsAIoLCE1kAYA4Y6iCwAWUXQBwCKKLgBYRNEFAIsougBgEUUXACyi6AKARRRdALCIogsAFlF0AcAiii4AWETRBQCLKLoAYBFFFwAs+g9RFZZGK99/JAAAAABJRU5ErkJggg==" width="349" height="80" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAVoAAABOCAYAAABhYd5PAAAROklEQVR4nO2dCXBT5RbHT5u2aWkrS9mXgiirD4UHouBDRoqCA7IMIiDIDKugorg8HFnkgaDIooA6joNPGVlUFpmqg4jwGARkGSjwWIu0tKVYWbqlbZKuefl/9eYlJffetEma8uX8ZjL39ubm5uOQe+75zvd9/xOSnZ1tKysrI4ZhGMY/hK1cuZJSU1MD3Q6GYRhpCUlKSrIVFhYGuh0MwzDSEhroBjAMw8hOmL8uXFpaSjabjcLDwykkJMRfX8MwDOMxc+bMJ0PTLnQtPYtiYqPJYAijMEMEhdo9YXhYKEVGRNi3YWQMN1CHFg1p+Ij+Pvlevzja4uJiMrVZJ/ZjM6ZSZGSkP76GYRjGY+YuWEWGxl2oX98+9M+NY6lRrFHz/FFT5utes6KigjZu3Cj2J0yYQKGh7pMEfnO01wqPiv27i59jR8swTMA5knSM/nMwidZt2E6L1m4ljE01aRJHbVs2prZtmlPrVk2ofoyRWjSMpjB7JzzfUuL2OuipZ2Rk0P79+2ncuHF04MABcRz7cLr9+/en+Ph4l568i6NFdx9Osry8XLWxBoOBjEajSAmoAS9vKb/l2A9WUlJS6P333xdb2G337t2BbhLDBC3lJSUUFhlBVouF/jF0MCWnZorjWbkWSs26SKb8w1RUVEBNGsTQ/BkjVH0XHO2+ffvo0KFDDicLXnjhBbHF5yZOnKjuaOE8jx8/TtnZ2aqNjYuLoz59+tT8X+sHHn30Uc33f/3111pqiSsffPABXbx4kdasWUM9evQISBsYhqnEEG4kU4GFSstK4Q3tkWwcDep9t3hv5+HLlHWzkMrJRslnz4hjWiNLTz/9tHC04NlnnxXbzZs3O96rym2pg/vuu4+OHTtGVqv1tpORAsD7dQ1nR6o43UA5V2cuXboktt26dQtwSxiGCbH3KnPyi4RvyzdbKOHv8bRl7wURoY5O6EL/TjxJIaGhosduNpsRut52DUSrX331lcPJIi/7wAMPiH3kZ5E6ePXVV+mRRx4RUa2Ss73N0d51113UvHlzSktLu+1LcBzv34koDvi1116j7777jq5evSrCfzBq1CjKz88X+61bt6YZM2bQww8/7PK5SZMm0Q8//CDSKrNnz6bHHntMHL9w4QJ98sknDqfaqFEj+uabb1yi7AEDBogtnL/JZKK1a9fS0aOVOWz0DmbNmkWxsbGa7XTXDnwuOTmZ9uzZI34Azu1iGMaVsNBwyi8ootISC1mLS2nDrjOie9+xTSMyW8vIZneKNluFcLzCH7gZ18J95pxSQBYgOjrasV/1PFVHCzp27EhZWVkiX6sAL4/jeuDiJaWlVJhXjyKsZnEN5y8MNOjOV2X79u3CuOjmP//887R8+XLh5JxJSEig3r1708yZM+njjz92OLQFCxbQjRs36Msvv6R77rnHcT6cqrvoGk4Wudp33nlH2GXhwoXi+Ny5c3XbqbQDznn69Om0ePFi8QR9/PHHaerUqS7tYhjGlciYWDJbSshqj1ZLy8vsEW4oRUcY6NHu8fR7RjaVlZZRRTl8VTjl5eWRTSV5MHr0aBoyZAjNnz9f3PfKYD/2wZIlS6hevXoun3HraCMiIqhDhw509uxZxzH8jeNqwFEhysooLKcL9XvQ73/+i8avmU2d8+ZR5rRpFN6rlxgQCvSc2q1bt1KTJk0cjv/69eu0bt064WRv3aocwFO2zmAUUXmS3bx503FcuQ6M3rNnT5Gfadeuner3HzlyRGwfeughx7HDhw/rttNdO5S/bX91cZzbxTCMK6Fh4VRoKaZiq5Ws9gi21B7V3iww0+HTafTbf9PEfYRby2ouotzcXPfXsN+PcKxbtmxxHPv0009dzvnxxx9FkIWAzfE5tUbhBla6s9jibzVw498ssNI+a2PaVPE3WnH8Fh0614zMWS2pKCWFOtqjtfr2CM6ckRHwWQjNmjVzcV7IpyDCxNQMZ+O5w11UvmzZMnriiScIwjzff/89zZkzx6N24Fp48HjaTq12BPrhxTB3AliYcDU9ze5ICyknJ4dybtyiipJC6tW1FdlKLJSdfZMKCvLt93Jx5YSA21O0jvsWOdgHH3xQ9CoVsI9jffv2FSlIJZjCVnUeLS7YtWtXMTCGrbubHk7TXFxCvxVGU1JEJ9p1/gZFmU7TqMgsGt4tkgzLltK5xERqsXMntdi/nzofPUoZw4aR5bnnyBgdXSfSCciZgu7du4t0SXVp3769iGYxhQv5U70HCbr9P//8s4hilXPr2iwOhpGRCKORMtPTyWoxi3mwZdZS+9EKWrg6i7JzTIhYhE8qLSqi/Hzt4AW9VjhT9OLhXAHSBZiBEBZW6VaR0sNYDLaaCxYaNGhATZs2FVs11iebaZvJ7jTLLlAfWyZNaG+gds2aU1RUlHjfMnkyZQ8YQDc2bqTW9i812qNGi93BGP+acxZoXnnlFZHbHD9+vEt33lMQCStd9i5duogBKi3wProoK1asEH8PGjRI9zMMw/iAkBgqyi2kYmsZ5efm231sORnCDGSxWhyn2GwhVJSfQ2az+qox9CCRRsULjhY+ACCl4NxLbdy4sfAp2Hql3oWILP16Nq05Z6GRLcqoe+s4MQKHp4ISrSqjb0X2p0T2qVNk2LGD6tmdW1zbtnUiomUYJji4eiWDDv2WRAfOZFKx3SeFG+rZo1AjGcKj7FFouL2XHWvfD6NbWWnUtVkZxce3pMGDB2te03kWgrPfA1gAhpQiIlyvHS08eklJiZjaoDVYBnAevhznwfOzo2UYJhAU5JvIlGeiPPvrxJnLlPZnHpkKrFRgj3bzbqTSpDEDRXqgc+fONf4O5zSi13q06AbjhXBab1CmOucyDMPIgteiMtVxmuxgGYYJRvymR8sED1988UWgm1ArTJ48ucafDQYbsX3UYUfLeA2mp2Heb0xMTKCb4heQWsPCFm+Q2UZsH33Y0TI+AVNYlDXfsoFpO946EiCrjdg++tQ5R4ula2rKW1rvMYFHmajNqMM20kZW+3g9vwrODy8sQ8Xkf6y48AZ3kofu3mP8y65du2jKlCkuIvDYRx4OK9u0gCAHxHnQHYQSmqKMJhvvvvuuECRyZtu2bULsXY9gsZHiH6q+9JDNPj6ZyAoHmJiYKKQFFy1a5ItLMgEGE7Uxh3DTpk2OY99++63QI8ZqNi1WrVollN7gkKFo9uGHH/q7uQEBUpb4N6anp4u/IS0KSUvoZ+gRLDaCb3B+wTYjR47U/Zxs9vHZigEsuR0xYoTQT1XA0lQYFjcmts6qWHv37hVyY08++aSLc1aeds7bqsf0ro3z1q9fL3Rmhw8f7tCdZaoHeijQZIADgQ4E9l9++WXdz0GhDGu+oV2Mpc3u1MlkALnJefPmieXUEJNevXq1kM3UW7gDgsVGzqB6C/7d+F3pIZt9fOZoLRaL0EaFOIsCfnhQH9+xY4eoMoCSLgp4YqHrBTnAe++997brKWkC5UlYFa1rg/r16wtnCzUtaBkw1QcOA47jo48+ElKScCpateIU8BDEwAaA1CP0emWlbdu29NRTTwlBobFjxwpxfE8IJhsBBGCYwvX22297tCJUNvv4xNEighw2bBhduXKF3nzzTcfxkydPiqgVqjZjxoyhpKQkx3tt2rQRN+/BgwdFJFxdtK4N0D2BvCPSGazT6h2IKvAgxRJqTwmm5dXoVV27ds1RlcNTgsVGBQUF9N577wmVu+rMKpDJPj4Z4qvJIBUiUFSQxAsDCnC6/kBL85XRBroU6HXgBsFAGPQ2USEC1Ta0QCQCPU8ovyGlo0QmzP8JFhvhd4NqIhjQatmypcefk80+fn1kII0AMW1EQxhIca4E+/XXXwuBXIxs//HHH24/DyOj8kF1r834BqRnIHCM7nCrVq1EmRxPBiUQ2WEQDZEM6qfVRH5SdoLFRngwo2be/fffX63PyWYfvzpaJL1PnTolBqROnz7tkgRHzgZdfwxkqY3S4vw33niDhg4dWq1rM96D0V4UnnzmmWccx7Cfmpoqpn5p8frrr9P58+eF4DGugb8ZV4LFRhhDQa+outO7ZLOP1+pdDIMbAdO+MAApI5jDee7cOSHsXlNkthHbRx95ss0MwzB1FDnXuzEBIS4uTijKywSWhPpyVZJsNmL76AMbsaNlfAJyt3gx6rCNtJHZPpyjZRiG8TOco2UYhvEznDpgvEZ2dXwFriCgDdtHHXa0jNfIro7PFQS0Yfvow46W8Qkyq+NzBQFt2D763LGOlqst1D1kVcf3JWwjbWS1j88qLAwcOJCmTZumqk2g9tmanstO1r9whQV9uMKCPlxhoRKfVVj46aefhC4nV1iQA66woA9XWNCHKyxU4rPpXRCERt0wSJs5o1YJwV0FBQDhkoSEBFEd4ZdfflE9l6st+B+usKANV1ioHlxhwQfghwbpQ4T6zqhVQlCroADpwz179ohumVIZgastBAausKAPV1jwDK6w4AOUKrgpKSn01ltvubynVwnBGajUI/WAH+xLL71Eubm5Hn0/V1vwL1xhQRuusKANV1jwYY4WkSKeWrghawo0J5EXRAS1c+dOXzTNBa62UD2UCgsYlMCDb+nSpVRcXKz7OUUdH8igju8PgsVG3lZYADLYx2ePDCioz507l1auXOmivqNVCaFqBQVMfMb7eOqhxI0zXG2h9uEKC/4jWGzEFRYq8Wls3qlTJ5o6dSpt2LDBcUyrEkLVCgqzZs0SI7no/icnJ7tcm6st1C5cYcG/BIuNuMJCJazexXiN7Or4XEFAG7aPPvJkmxmGYeoocq53YwKCrOr4XEFAHbaPPlxhgfEZMqvj+wq2kTYy24dztAzDMH6Gc7QMwzB+hlMHjNfIro6vwBUEtGH7qMOOlvEa2dXxuYKANmwffdjRMj5BZnV8riCgDdtHnzrpaLl6wp2JrOr4voRtpI2s9vF6MAxPsoULF4qlsRCLXrx4Me3evdsXbWMCiDcVFqDyBUW13r17+7uZAcWbCgvBYqOaVliQzT5ePz6gVwoHC61XqGNhKd3mzZuFbCJz54L/0zNnzghhj4kTJ4pjnlZY6NmzZ200MeBAlwNC6L169RK6tEqFBU+Ed4LFRlV7ptA+gJ30kM0+Xke0kEbs16+fyK0gVwPlLCjOK5jNZqHoBcEXREMnTpxwvOeumkJVsOoEOpa48XHDY001UzvUtMICHDResuNNhYVgsZEz1amwIJt9vI5op0+fLl5wsB06dBDdAkjqKUCnNj4+XkidmUwmoTWrPK0gbWiz2ejSpUsiIoZST1Ugs4ZrIj0Bw6OWkOxTQeoKSoUF2BxiH55WWAgmnCsswIF4WmEh2FAqLOChJJOgt6d47WhRvQCOENHO5cuXRfSJCglK9xK6sshbGY1GioqKoiVLlojjUKT//PPPhRRaTk6OqqD00aNHRbSrfI7Fu2ufmlRYCCbwW4coenUrLAQLNa2wIBM+GeKDEISiE4sywc6OFrh7gkFfEk565syZ1LBhQ5FCcAci3sTERHEOU7soFRZwg2AgDAOd6GHgockwnlDTCguy4XUM/+KLL4rcC3JURUVFYkTaWZcSo4YYwUbEihkKuHGBVjUFZzDQgJFdPBVR0mL58uXeNpnxkJpWWGAYhZpWWJANryNalJhAhVmUmUFxRORfEQEpIG+FG/azzz4TBRIR7QKlmgIYMmSI6vVRPhxVbceNG0cNGjQQ1RcY/6NUWFD+jwAGLxGZ4MGJwUk1UIm46r5MAxu+IFhshFkGSpUFZ/TmyctmH1bvYrxGdnV8riCgDdtHn+Ab/mMYhqll5FzvxgQEWdXxuYKAOmwffbjCAuMzZFbH9xVsI21ktg/naBmGYfwM52gZhmH8DDtahmEYP8OOlmEYxs+EYeJwZmZmoNvBMAwjLTwYxjAM42f+B24ZT9oIIrBQAAAAAElFTkSuQmCC" width="346" height="78" class="img_ev3q"></p>
<p>æ¥ä¸‹æ¥é€‰æ‹©TestLODï¼Œæ·»åŠ LODGroupç»„ä»¶ï¼Œæ·»åŠ å®Œäº‹çš„ç»„ä»¶é¢æ¿åº”è¯¥å¦‚å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170109231316039-0bbde6e1169156ebaabcc333348ded14.jpg" width="354" height="165" class="img_ev3q"></p>
<p>å¸¸ç”¨å‚æ•°è¯¦è§£ï¼š</p>
<ul>
<li>
<p>FadeModeï¼šè¿™ä¸ªè¡¨ç¤ºæ¨¡å‹çº§åˆ«å˜åŒ–æ—¶å€™çš„è¿‡æ¸¡æ–¹å¼</p>
</li>
<li>
<p>LOD 0 ..ï¼šç»†èŠ‚çº§åˆ«ï¼Œç™¾åˆ†æ¯”è¡¨ç¤ºæ‘„åƒæœºçš„å¯è§èŒƒå›´ï¼ˆèŒƒå›´å¯è°ƒï¼‰</p>
</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿è¡Œæ¸¸æˆï¼Œåœ¨åœºæ™¯è§†å›¾ä¸­æˆ‘ä»¬æ‰‹åŠ¨æ‹–åŠ¨ä¸»æ‘„åƒæœºï¼Œæ‰“å¼€profileï¼ˆæ€§èƒ½åˆ†æå™¨ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ä¸åŒè·ç¦»çš„æ—¶å€™ï¼ŒGPUçš„æ€§èƒ½å‚æ•°æœ‰æ˜æ˜¾çš„ä¸åŒï¼š</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170109234522027-9935e6cdd039f16ab4d51edd0742bd50.jpg" width="263" height="199" class="img_ev3q"></p>
<p>ï¼ˆåï¼‰</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170109234641200-16e051bddfceb26a9920de2af1523f0e.jpg" width="219" height="179" class="img_ev3q"></p>
<p>ï¼ˆå‰ï¼‰</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170109234534027-98d08165d1ebf1e15bdd4e72bcb8b878.jpg" width="303" height="205" class="img_ev3q"></p>
<p>å…¶ä¸­ç»¿çº¿å°±è¡¨ç¤ºæ‰¹å¤„ç†æ•°ç›®ï¼Œæ˜æ˜¾å‘ç°åé¢çš„æ‰¹å¤„ç†æ•°ç›®é™ä½äº†ä¸€ä¸ªï¼Œè“çº¿è¡¨ç¤ºpassæ•°ç›®ï¼Œpassæ•°ç›®ä¹Ÿé™ä½äº†ä¸€ä¸ªï¼Œåé¢çš„é¡¶ç‚¹æ•°ä¹Ÿå°†ä½äº†0.1kã€‚ä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¿™ä¸ªï¼Ÿå› ä¸ºæˆ‘ä»¬ä¼˜åŒ–å°±æ˜¯ä»å‡å°‘DrawCallå¼€å§‹çš„ï¼Œå‡å°‘DrawCalléœ€è¦ä½¿ç”¨æ‰¹å¤„ç†æŠ€æœ¯å¼€å§‹çš„ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mipmapçº¹ç†è´´å›¾é‡‘å­—å¡”">MipMapï¼šçº¹ç†è´´å›¾é‡‘å­—å¡”<a href="https://www.iogl.cn/blog/11.MipMap%E4%B8%8ELOD%E6%98%AF%E4%BD%95%E7%89%A9#mipmap%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE%E9%87%91%E5%AD%97%E5%A1%94" class="hash-link" aria-label="MipMapï¼šçº¹ç†è´´å›¾é‡‘å­—å¡”çš„ç›´æ¥é“¾æ¥" title="MipMapï¼šçº¹ç†è´´å›¾é‡‘å­—å¡”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œmipmapé’ˆå¯¹çš„æ˜¯çº¹ç†è´´å›¾ï¼Œå¤§ç™½è¯å°±æ˜¯ï¼Œä¸€ä¸ªæ¨¡å‹èº«ä¸Šä¼šæœ‰è´´å›¾ï¼Œå½“æˆ‘ä»¬å¯¹è¿™ä¸ªè´´å›¾ä½¿ç”¨äº†MipMapæŠ€æœ¯ä¹‹åï¼Œé‚£ä¹ˆåœ¨æ¸¸æˆè¿è¡Œä¸­è¿™ä¸ªæ¨¡å‹çš„è´´å›¾ä¼šæ ¹æ®æ‘„åƒæœºè·ç¦»æ¨¡å‹çš„è¿œè¿‘è€Œè°ƒæ•´ä¸åŒçš„ä¸åŒè´¨é‡çš„è´´å›¾æ˜¾ç¤ºã€‚</p>
<p>åœ¨è¿™ä¸ªæ¸¸æˆåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»™ä¸€ä¸ªæ¨¡å‹è´´äº†ä¸€ä¸ªæœ¨çº¹è´´å›¾ï¼Œå½“æˆ‘ä»¬æ²¡æœ‰å¯¹è¿™ä¸ªè´´å›¾ä½¿ç”¨MipMapæŠ€æœ¯çš„æ—¶å€™ï¼Œæ— è®ºæˆ‘ä»¬æ‘„åƒæœºè·ç¦»æ¨¡å‹çš„ä½ç½®åœ¨å“ªï¼Œè¿™å¼ è´´å›¾æ°¸è¿œéƒ½æ˜¯æ˜¾ç¤ºä¸€æ ·çš„ï¼Œè¿™æ ·æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯å°±æ˜¯ä¸ºäº†è®©å½“æ‘„åƒæœºæ¯”è¾ƒè¿œçš„æ—¶å€™ï¼Œä½ ç”¨åœ¨ç²¾ç»†çš„è´´å›¾æˆ‘ä»¬ç©å®¶ä¹Ÿçœ‹ä¸è§ï¼Œè€Œä¸”è¿˜æµªè´¹èµ„æºï¼Œæé«˜äº†æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110165715043-0adabf91406796ce5f0678e8d78b822f.jpg" width="349" height="616" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110165724816-e52482277e84155b742267878fd46abd.jpg" width="291" height="158" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110165733956-9cc86a462b2d0dff8581c0d6c34c4c01.jpg" width="184" height="118" class="img_ev3q"></p>
<p>ä¸Šé¢å°±æ˜¯æˆ‘ä»¬æ²¡æœ‰å¯¹è´´å›¾ä½¿ç”¨MipMapæŠ€æœ¯ï¼Œç„¶åæµ‹è¯•çš„ç»“æœï¼Œé‚£å½“æˆ‘ä»¬ä½¿ç”¨äº†MinMapæŠ€æœ¯ä¹‹åï¼Œç»“æœåˆä¼šæ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿ</p>
<p>å‘ç°å›¾ç‰‡å¤§å°å˜å¤§äº†ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨MipMapæŠ€æœ¯ä¹‹åï¼Œä¼šå¯¹è¿™ä¸ªè´´å›¾ç”Ÿæˆå…«å¼ ç²¾åº¦è´¨é‡ä¸åŒçš„è´´å›¾ï¼Œæ‰€ä»¥å†…å­˜å ç”¨å˜å¤§äº†ã€‚</p>
<p>æ‰€ä»¥å…³äºè¿™ä¸ªæŠ€æœ¯æ˜¯å¦ä½¿ç”¨ï¼Œæ ¹æ®ä½ çš„é¡¹ç›®è€Œå®šï¼Œä»€ä¹ˆéƒ½æ˜¯æœ‰åˆ©æœ‰å¼Šçš„ã€‚</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110170305167-dc20a0bc9888545105ecec34f590b2b6.jpg" width="348" height="543" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110170314843-76f1792bec9e12f6de69e39342ea4675.jpg" width="219" height="123" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/20170110170323108-5cf623f341451bd770b8c17b9a828e28.jpg" width="177" height="107" class="img_ev3q"></p>
<hr>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/penchaoo/article/details/54291529" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/penchaoo/article/details/54291529</a></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ›å»ºdepth/stencil attachment]]></title>
        <id>https://www.iogl.cn/blog/14.åˆ›å»ºdepthstencil attachment</id>
        <link href="https://www.iogl.cn/blog/14.åˆ›å»ºdepthstencil attachment"/>
        <updated>2024-08-01T15:47:56.000Z</updated>
        <summary type="html"><![CDATA[åˆ›å»ºè¿‡ç¨‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºè¿‡ç¨‹">åˆ›å»ºè¿‡ç¨‹<a href="https://www.iogl.cn/blog/14.%E5%88%9B%E5%BB%BAdepthstencil%20attachment#%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B" class="hash-link" aria-label="åˆ›å»ºè¿‡ç¨‹çš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºè¿‡ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>åˆ›å»ºä¸€ä¸ªdepth/stencil image</li>
<li>æŸ¥æ‰¾image memory requirements</li>
<li>åˆ†é…ã€ç»‘å®šimage memory</li>
<li>è®¾ç½®image layout</li>
<li>åˆ›å»ºdepth/stencil imageview</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/14.%E5%88%9B%E5%BB%BAdepthstencil%20attachment#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkFormat image_format </span><span class="token operator">=</span><span class="token plain"> VK_FORMAT_D16_UNORM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//æ”¯æŒdepth\stencilçš„format</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkImageCreateInfo image_info </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkFormatProperties props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkGetPhysicalDeviceFormatProperties</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">physical_device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> image_format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">linearTilingFeatures </span><span class="token operator">&amp;</span><span class="token plain"> VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tiling </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_TILING_LINEAR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">optimalTilingFeatures </span><span class="token operator">&amp;</span><span class="token plain"> VK_FORMAT_FEATURE_DEPTH_STENCIL_ATTACHMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tiling </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_TILING_OPTIMAL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pNext </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">imageType </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_TYPE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">format </span><span class="token operator">=</span><span class="token plain"> image_format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">width </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">height </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">depth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">mipLevels </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">arrayLayers </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">samples </span><span class="token operator">=</span><span class="token plain"> VK_SAMPLE_COUNT_1_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">initialLayout </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_LAYOUT_UNDEFINED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">usage </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueFamilyIndexCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pQueueFamilyIndices </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sharingMode </span><span class="token operator">=</span><span class="token plain"> VK_SHARING_MODE_EXCLUSIVE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">flags </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkImage image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">image_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryRequirements mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkGetImageMemoryRequirements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryAllocateInfo mem_alloc </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mem_alloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mem_alloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pNext </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mem_alloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">memoryTypeIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mem_alloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">allocationSize </span><span class="token operator">=</span><span class="token plain"> mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceMemory mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkAllocateMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mem_alloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkBindImageMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkImageView view</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkImageViewCreateInfo view_info </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pNext </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">image </span><span class="token operator">=</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">format </span><span class="token operator">=</span><span class="token plain"> image_format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">r </span><span class="token operator">=</span><span class="token plain"> VK_COMPONENT_SWIZZLE_R</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">g </span><span class="token operator">=</span><span class="token plain"> VK_COMPONENT_SWIZZLE_G</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">b </span><span class="token operator">=</span><span class="token plain"> VK_COMPONENT_SWIZZLE_B</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">a </span><span class="token operator">=</span><span class="token plain"> VK_COMPONENT_SWIZZLE_A</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">subresourceRange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">aspectMask </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_ASPECT_DEPTH_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//æˆ–è€…æ˜¯VK_IMAGE_ASPECT_STENCIL_BIT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">subresourceRange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">baseMipLevel </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">subresourceRange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">levelCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">subresourceRange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">baseArrayLayer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">subresourceRange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">layerCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">viewType </span><span class="token operator">=</span><span class="token plain"> VK_IMAGE_VIEW_TYPE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">flags </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateImageView</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">view_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">view</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ›å»ºmvp ubo]]></title>
        <id>https://www.iogl.cn/blog/15.åˆ›å»ºmvp ubo</id>
        <link href="https://www.iogl.cn/blog/15.åˆ›å»ºmvp ubo"/>
        <updated>2024-08-01T15:47:18.000Z</updated>
        <summary type="html"><![CDATA[åˆ›å»ºè¿‡ç¨‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºè¿‡ç¨‹">åˆ›å»ºè¿‡ç¨‹<a href="https://www.iogl.cn/blog/15.%E5%88%9B%E5%BB%BAmvp%20ubo#%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B" class="hash-link" aria-label="åˆ›å»ºè¿‡ç¨‹çš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºè¿‡ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>åˆ›å»ºä¸€ä¸ªuniform buffer</li>
<li>æŸ¥æ‰¾buffer memory requirements</li>
<li>åˆ†é…ã€ç»‘å®šbuffer memory</li>
<li>map buffer memory</li>
<li>æ‹·è´mvp data to buffer memory</li>
<li>unmap buffer memory</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/15.%E5%88%9B%E5%BB%BAmvp%20ubo#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 projection </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">perspective</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">radians</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">45.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.1f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 view </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">lookAt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç›¸æœºåœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// çœ‹å‘çš„ç›®æ ‡ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç›¸æœºupæ–¹å‘å‘é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">				 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 model </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">mat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 clip </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">mat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token operator">-</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">					  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 mvp </span><span class="token operator">=</span><span class="token plain"> clip </span><span class="token operator">*</span><span class="token plain"> projection </span><span class="token operator">*</span><span class="token plain"> view </span><span class="token operator">*</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkBuffer ubo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkBufferCreateInfo buf_info </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pNext </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">usage </span><span class="token operator">=</span><span class="token plain"> VK_BUFFER_USAGE_UNIFORM_BUFFER_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">queueFamilyIndexCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pQueueFamilyIndices </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sharingMode </span><span class="token operator">=</span><span class="token plain"> VK_SHARING_MODE_EXCLUSIVE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">flags </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCreateBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">buf_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">ubo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryRequirements mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkGetBufferMemoryRequirements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ubo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceMemory mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkMemoryAllocateInfo alloc_info </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alloc_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sType </span><span class="token operator">=</span><span class="token plain"> VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alloc_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pNext </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alloc_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">memoryTypeIndex </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alloc_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">allocationSize </span><span class="token operator">=</span><span class="token plain"> mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkAllocateMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">alloc_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkBindBufferMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ubo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint8_t</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">pData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkMapMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mem_reqs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">&amp;</span><span class="token plain">pData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">memcpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkUnmapMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vulkan vertex bufferç»‘å®šè¿‡ç¨‹]]></title>
        <id>https://www.iogl.cn/blog/13.Vulkan vertex bufferç»‘å®šè¿‡ç¨‹</id>
        <link href="https://www.iogl.cn/blog/13.Vulkan vertex bufferç»‘å®šè¿‡ç¨‹"/>
        <updated>2023-12-28T15:11:34.000Z</updated>
        <summary type="html"><![CDATA[ä»£ç å®æˆ˜]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç å®æˆ˜">ä»£ç å®æˆ˜<a href="https://www.iogl.cn/blog/13.Vulkan%20vertex%20buffer%E7%BB%91%E5%AE%9A%E8%BF%87%E7%A8%8B#%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%88%98" class="hash-link" aria-label="ä»£ç å®æˆ˜çš„ç›´æ¥é“¾æ¥" title="ä»£ç å®æˆ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘ä»¬ç”¨<code>indirect draw</code>ç»˜åˆ¶6ä¸ªä¸åŒä½ç½®çš„ä¸‰è§’å½¢ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/65d40e76ed5251bbdf967ad36292d56b-b74900fe6acee48dcf61f12627dcb7c3.png" width="905" height="659" class="img_ev3q"></p>
<p><strong>é‡ç‚¹ï¼šå…·å¤‡<code>layout(location = xx) in</code> æ ¼å¼æè¿°çš„èµ„æºå°±æ˜¯ <code>vertex buffer</code>ã€‚</strong></p>
<p>vs shaderå¦‚ä¸‹ï¼Œ <code>inPos</code>ï¼Œ<code>inColor</code>ï¼Œ<code>instancePos</code>åˆ™æ˜¯<code>vertext buffer</code>æ•°æ®ï¼š</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">//vs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 450 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 0) in vec3 inPos;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 1) in vec3 inColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 2) in vec3 instancePos;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout(location = 0) out vec3 fragColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gl_Position = vec4(inPos, 1.0) + vec4(instancePos, 1.0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gl_Position.y = -gl_Position.y;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fragColor = inColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>vertex buffer</code>çš„å¸ƒå±€åˆ†å¸ƒå¦‚ä¸‹ï¼š</p>
<ul>
<li><code>location 0</code>çš„<code>inPos</code>ã€<code>location 1</code>çš„<code>inColor</code>ä½¿ç”¨<code>binding 0</code></li>
<li><code>location 2</code>çš„<code>instancePos</code>ä½¿ç”¨<code>binding 1</code></li>
</ul>
<p>ä»£ç ä¾§è°ƒç”¨<code>vkCmdBindVertexBuffers</code>å‘Šè¯‰gpuä»å“ªä¸ªbindingä½ç½®è¯»å–é¡¶ç‚¹æ•°æ®ï¼ˆå³<code>vkCmdBindVertexBuffers</code>çš„<code>firstBinding</code>å‚æ•°ï¼Œä¸shaderä¸­<code>layout</code>çš„<code>binding</code>å®Œå…¨æ²¡å…³ç³»ï¼Œè¿™ç‚¹åœ¨åé¢çš„<code>descriptor</code>ç« èŠ‚å†è®²ï¼‰ã€‚</p>
<p>gpuçŸ¥é“äº†ä»å“ªé‡Œè¯»æ•°æ®ï¼Œä½†æ˜¯æ€ä¹ˆè¯»ï¼Ÿè¿™å°±ç”¨åˆ°äº†<code>VkVertexInputBindingDescription</code>å’Œ <code>VkVertexInputAttributeDescription</code>ä¸¤ä¸ªç»“æ„ä½“ï¼Œå®ƒä»¬åœ¨åˆ›å»º<code>pipeline</code>æ—¶è¢«ä½¿ç”¨ã€‚</p>
<p>ç»“æ„ä½“è¯¦ç»†è¯´æ˜ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">VkVertexInputBindingDescription</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain">             binding</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">//æ•°æ®ç»‘å®šä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain">             stride</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">//è¿ç»­ä¸¤ä¸ªæ•°æ®ä¹‹é—´çš„é—´éš”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkVertexInputRate    inputRate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//ä¸¤ç§æ–¹å¼ï¼Œ per-vertex:å¯¹æ¯ä¸ªé¡¶ç‚¹è¾“å…¥ï¼Œ per-instance:å¯¹æ¯ä¸ªå®ä¾‹è¾“å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> VkVertexInputBindingDescription</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">VkVertexInputAttributeDescription</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain">    location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">//åœ¨shaderä¸­locationä¸€è‡´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain">    binding</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">//æ•°æ®ç»‘å®šä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VkFormat    format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">//æ•°æ®æ ¼å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">uint32_t</span><span class="token plain">    offset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">//å±æ€§ç›¸å¯¹äºé¡¶ç‚¹å¼€å§‹ä½ç½®çš„åç§»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> VkVertexInputAttributeDescription</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯<code>VkVertexInputBindingDescription::inputRate</code>ï¼Œ å®ƒä»£è¡¨ä¸¤ç§æ•°æ®è¾“å…¥ï¼š</p>
<ul>
<li>VK_VERTEX_INPUT_RATE_VERTEXï¼šper-vertexï¼ŒæŒ‰å›¾å…ƒçš„å®šç‚¹æ•°åˆ†</li>
<li>VK_VERTEX_INPUT_RATE_INSTANCEï¼šper-instanceï¼ŒæŒ‰å›¾å…ƒæ•°åˆ†é…</li>
</ul>
<p>æœ¬ä¾‹ç”»6ä¸ªä¸‰è§’å½¢ï¼Œå¯¹äºç¼–å·<code>i</code>çš„ä¸‰è§’å½¢ï¼Œä¼šè¯»å–é¡¶ç‚¹æ•°æ®<code>vertices[0]</code>,<code>vertices[1]</code>,<code>vertices[2]</code>ä»¥åŠä¸­å¿ƒç‚¹ä½ç½®<code>instancePosData[i]</code>ã€‚</p>
<p>æœ¬ä¾‹å®Œæ•´ä»£ç è¯´æ˜ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">/* {inPosition, inColor}*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Vertex</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec3 pos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec3 color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// vertex data of triangle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token plain">Vertex</span><span class="token operator">&gt;</span><span class="token plain"> vertices </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.2f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.2f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.2f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token number">0.2f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token operator">-</span><span class="token number">0.2f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 6 triangle instance center point postion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token plain">Vec3</span><span class="token operator">&gt;</span><span class="token plain"> instancePosData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token operator">-</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token operator">-</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.45</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//create vertex buffer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceSize vertexBufferSize </span><span class="token operator">=</span><span class="token plain"> vertices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vertex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceSize instancePosBufferSize </span><span class="token operator">=</span><span class="token plain"> instancePosData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">createBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        VK_BUFFER_USAGE_VERTEX_BUFFER_BIT </span><span class="token operator">|</span><span class="token plain"> VK_BUFFER_USAGE_TRANSFER_DST_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT </span><span class="token operator">|</span><span class="token plain"> VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&amp;</span><span class="token plain">vertexBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">vertexMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vertexBufferSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> vertices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">createBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VK_BUFFER_USAGE_VERTEX_BUFFER_BIT </span><span class="token operator">|</span><span class="token plain"> VK_BUFFER_USAGE_TRANSFER_DST_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT </span><span class="token operator">|</span><span class="token plain"> VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">instancePosBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">instancePosMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    instancePosBufferSize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">instancePosData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VkDeviceSize offsets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//ä¸‰è§’å½¢é¡¶ç‚¹ä½ç½®ã€é¢œè‰²æ•°æ®ä»binding 0è¯»å–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBindVertexBuffers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    commandBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// firstBinding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// bindingCount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">vertexBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    offsets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//ä¸‰è§’å½¢çš„ä¸­å¿ƒç‚¹ä½ç½®ä»binding 1è¯»å–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vkCmdBindVertexBuffers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    commandBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// firstBinding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// bindingCount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">instancePosBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    offsets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// è¯»å–é¡¶ç‚¹çš„æ–¹å¼ã€ä»¥åŠé¡¶ç‚¹æ•°æ®å¸ƒå±€ä¼ å…¥graphicsPipelineCreateInfo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token plain">VkVertexInputBindingDescription</span><span class="token operator">&gt;</span><span class="token plain"> bindingDescription </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">binding</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">stride</span><span class="token operator">=</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vertex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">inputRate </span><span class="token operator">=</span><span class="token plain"> VK_VERTEX_INPUT_RATE_VERTEX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">//é€é¡¶ç‚¹æ–¹å¼è·å–ä¸‰è§’å½¢é¡¶ç‚¹æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">binding</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">stride</span><span class="token operator">=</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">inputRate </span><span class="token operator">=</span><span class="token plain"> VK_VERTEX_INPUT_RATE_INSTANCE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">//é€å®ä¾‹æ–¹å¼è·å–ä¸‰è§’å½¢ä½ç½®æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">vector</span><span class="token operator">&lt;</span><span class="token plain">VkVertexInputAttributeDescription</span><span class="token operator">&gt;</span><span class="token plain"> attributeDescriptions </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">binding </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">location </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">format </span><span class="token operator">=</span><span class="token plain"> VK_FORMAT_R32G32B32_SFLOAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">offsetof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vertex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> pos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// inPos: binding 0, location 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">binding </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">location </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">format </span><span class="token operator">=</span><span class="token plain"> VK_FORMAT_R32G32B32_SFLOAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">offsetof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Vertex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// inColor: binding 0, location 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">binding </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">location </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">format </span><span class="token operator">=</span><span class="token plain"> VK_FORMAT_R32G32B32_SFLOAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// instancePos: binding 1, location 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkPipelineVertexInputStateCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pVertexBindingDescriptions </span><span class="token operator">=</span><span class="token plain"> bindingDescription</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkPipelineVertexInputStateCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pVertexAttributeDescriptions </span><span class="token operator">=</span><span class="token plain"> attributeDescriptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vkGraphicsPipelineCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pVertexInputState </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">vkPipelineVertexInputStateCreateInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šé¢ä»ä»£ç åˆ°<code>shader</code>çš„<code>vertex buffer</code>æ•°æ®ç»‘å®šè¿‡ç¨‹å¯ä»¥å½’çº³æˆè¿™å¼ å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://www.iogl.cn/assets/images/8713daef75640687c030b03e04e8abdf-216d6e8a28683654fc3641e858a293de.png" width="1673" height="763" class="img_ev3q"></p>
<p>è¿™ç¯‡æ–‡ç« å¯¹vertext bufferçš„å¤„ç†é€»è¾‘è®²çš„å¾ˆè¯¦ç»†ï¼Œå¯ä»¥æ‰©å±•é˜…è¯»ä¸€ä¸‹ï¼š</p>
<p><a href="https://github.com/KhronosGroup/Vulkan-Guide/blob/main/chapters/vertex_input_data_processing.adoc" target="_blank" rel="noopener noreferrer">https://github.com/KhronosGroup/Vulkan-Guide/blob/main/chapters/vertex_input_data_processing.adoc</a></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸€ç§ç®€å•åŠ è½½vulkanåŠ¨æ€åº“çš„æ–¹æ³•]]></title>
        <id>https://www.iogl.cn/blog/12.ä¸€ç§ç®€å•åŠ è½½vulkanåŠ¨æ€åº“çš„æ–¹æ³•</id>
        <link href="https://www.iogl.cn/blog/12.ä¸€ç§ç®€å•åŠ è½½vulkanåŠ¨æ€åº“çš„æ–¹æ³•"/>
        <updated>2023-12-28T14:59:58.000Z</updated>
        <summary type="html"><![CDATA[èƒŒæ™¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="èƒŒæ™¯">èƒŒæ™¯<a href="https://www.iogl.cn/blog/12.%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8D%95%E5%8A%A0%E8%BD%BDvulkan%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95#%E8%83%8C%E6%99%AF" class="hash-link" aria-label="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥" title="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æœ€è¿‘åœ¨å›½äº§linuxç¯å¢ƒä¸Šé€‚é…vulkanåº”ç”¨ï¼Œä¸€èˆ¬ç³»ç»Ÿä¼šè‡ªå¸¦<code>libvulkan.so.1</code>ä½†æ˜¯æ²¡æœ‰<code>libvulkan.so</code>ï¼Œè€Œ<code>libvulkan.so.1</code>æ— æ³•é€šè¿‡find_libraryæ‰¾åˆ°ï¼Œå¦‚æœç³»ç»Ÿæºæ²¡æœ‰<code>vulkan sdk</code>æˆ–è€…<code>vulkan loader</code>ï¼Œè¿™æ—¶å°±å¾—æ‰‹å·¥ä¸‹è½½ä»£ç ç¼–è¯‘<code>vulkan sdk</code>æˆ–è€…<code>vulkan loader</code>ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½è¿˜å¾—å®‰è£…å„ç§ä¾èµ–ï¼Œå‡çº§cmakeï¼Œéå¸¸ç¹çï¼Œå®‰è£…å®Œæˆåä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å°†vulkanåŠ¨æ€åº“é“¾æ¥åˆ°ç›®æ ‡åº”ç”¨ï¼š</p>
<div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cmake codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">find_package(Vulkan)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (NOT Vulkan_FOUND)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    find_library(Vulkan_LIBRARIES NAMES vulkan REQUIRED)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">endif ()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">include_directories(${Vulkan_INCLUDE_DIRS})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target_link_libraries (${PROJECT_NAME} ${Vulkan_LIBRARIES})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨éº’éºŸã€é¾™èŠ¯ã€é²²é¹ç­‰å„ç§ç³»ç»Ÿä¸Šéƒ½ç»å†è¿‡æ‰‹å·¥ç¼–è¯‘<code>vulkan sdk</code>ï¼Œä¸ºäº†æ›´å¿«çš„æµ‹è¯•vulkanå…¼å®¹æ€§ä»¥åŠè°ƒè¯•åº”ç”¨ï¼Œä¸€ç›´åœ¨æ‰¾æ›´ç®€æ˜“çš„æ–¹æ³•ã€‚</p>
<p>é—²æš‡ä¹‹ä½™çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç«   <a href="https://link.zhihu.com/?target=https%3A//djang86.blogspot.com/2019/01/what-is-vknoprototypes.html" target="_blank" rel="noopener noreferrer">WHAT IS VK_NO_PROTOTYPES</a>ï¼ŒèŒç”Ÿäº†å†™ä¸€ä¸ªç®€æ˜“çš„vulkanåŠ¨æ€åº“åŠ è½½æ–¹æ³•çš„æƒ³æ³•ï¼Œä¸ç”¨å®‰è£…<code>vulkan sdk</code>æˆ–è€…<code>vulkan loader</code>ï¼Œç›´æ¥ä½¿ç”¨ç³»ç»Ÿä¸Šçš„<code>libvulkan.so.1</code>(ä¸€èˆ¬éƒ½ä¼šè‡ªå¸¦ï¼Œæ²¡æœ‰çš„è¯æ‰§è¡Œ<code>sudo apt install libvulkan1</code>å®‰è£…)ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹<a href="https://www.iogl.cn/blog/12.%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8D%95%E5%8A%A0%E8%BD%BDvulkan%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åŸºæœ¬åŸç†æ˜¯åˆå§‹åŒ–æ—¶ä½¿ç”¨ <code>dlopen</code>ã€<code>dlsym</code>åŠ è½½vulkanåŠ¨æ€åº“ä¸­çš„apiå‡½æ•°æŒ‡é’ˆï¼Œappç›´æ¥ä½¿ç”¨è¿™äº›apiï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ªå¼€æºçš„åŠ¨æ€åº“åŠ è½½å·¥å…·<code>dylib</code>ï¼Œå®ƒæ”¯æŒå¤šç³»ç»Ÿå¹³å°:</p>
<p><a href="https://github.com/martin-olivier/dylib" target="_blank" rel="noopener noreferrer">GitHub - martin-olivier/dylib: C++ cross-platform wrapper around dynamic loading of shared libraries (dll, so, dylib)</a></p>
<p>ä»¥<code>vkCreateInstance</code>å‡½æ•°åœ°å€çš„åŠ è½½è¿‡ç¨‹ä¸ºä¾‹ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">//åŠ è½½vulkanåŠ¨æ€åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dylib </span><span class="token function" style="color:rgb(80, 250, 123)">lib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"libvulkan.so.1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//å®šä¹‰å‡½æ•°æŒ‡é’ˆvkCreateInstance, PFN_vkCreateInstanceçš„å£°æ˜åœ¨vulkan_core.hä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PFN_vkCreateInstance vkCreateInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//ä»åŠ¨æ€åº“ä¸­è·å–å‡½æ•°åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">auto</span><span class="token plain"> vkCreateInstance </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">PFN_vkCreateInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">lib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token generic-function function" style="color:rgb(80, 250, 123)">get_function</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">PFN_vkCreateInstance</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"vkCreateInstance"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œæœ‰ä¸ªå°tipï¼š<code>vkCreateInstance</code> åœ¨<code>vulkan_core.h</code>ä¸­çš„å£°æ˜æ˜¯è¢«å®<code>VK_NO_PROTOTYPES</code>æ‹¬èµ·æ¥çš„ï¼Œæˆ‘ä»¬å¾—åœ¨cmakeä¸­æ·»åŠ è¯¥å®å®šä¹‰<code>add_definitions(-DVK_NO_PROTOTYPES)</code>ï¼Œä¸è®© <code>vulkan_core.h</code>ä¸­å¯¹åŸç”Ÿçš„vk apiè¿›è¡Œå£°æ˜ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨<code>load.h</code>ä¸­å¯¹åŸç”Ÿçš„vulkan apiè¿›è¡Œå£°æ˜äº†ã€‚</p>
<p>é™„ä¸Šæ•´ä¸ª<code>load.h</code>çš„æºç ï¼Œåœ¨appåˆå§‹åŒ–æ—¶è°ƒç”¨<code>vk_loader_init()</code>å³å¯åŠ è½½vulkanåŠ¨æ€åº“ä¸­æ‰€æœ‰çš„å‡½æ•°åœ°å€ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">"dylib/dylib.hpp"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">"vulkan/vulkan_core.h"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token macro property"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">WIN32</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">_WIN32</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">_WIN32_</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">WIN64</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">_WIN64</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">_WIN64_</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">VULKAN_LIB</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">"vulkan-1.dll"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">elif</span><span class="token macro property"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">ANDROID</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression"> </span><span class="token macro property expression operator">||</span><span class="token macro property expression"> </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">defined</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">_ANDROID_</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">VULKAN_LIB</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">"libvulkan.so"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">VULKAN_LIB</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">"libvulkan.so.1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name function" style="color:rgb(80, 250, 123)">APPLY_PFN_DEF_VK_FUNCTIONS</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetInstanceProcAddr</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateInstance</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEnumerateInstanceExtensionProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEnumerateInstanceLayerProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyInstance</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEnumeratePhysicalDevices</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                            </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceFeatures</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceFormatProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceImageFormatProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceQueueFamilyProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceMemoryProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetDeviceProcAddr</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateDevice</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroySurfaceKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceSurfaceSupportKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceSurfaceFormatsKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceSurfacePresentModesKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateSwapchainKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroySwapchainKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetSwapchainImagesKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                               </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkAcquireNextImageKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkQueuePresentKHR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyDevice</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEnumerateDeviceExtensionProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEnumerateDeviceLayerProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetDeviceQueue</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkQueueSubmit</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkQueueWaitIdle</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDeviceWaitIdle</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkAllocateMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkFreeMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                          </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkMapMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkUnmapMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkFlushMappedMemoryRanges</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkInvalidateMappedMemoryRanges</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetDeviceMemoryCommitment</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkBindBufferMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkBindImageMemory</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetBufferMemoryRequirements</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetImageMemoryRequirements</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                          </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetImageSparseMemoryRequirements</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPhysicalDeviceSparseImageFormatProperties</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkQueueBindSparse</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateFence</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyFence</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkResetFences</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetFenceStatus</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkWaitForFences</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateSemaphore</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroySemaphore</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetEventStatus</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkSetEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                            </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkResetEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                          </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateQueryPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyQueryPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetQueryPoolResults</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateBufferView</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyBufferView</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetImageSubresourceLayout</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateImageView</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyImageView</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateShaderModule</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyShaderModule</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreatePipelineCache</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyPipelineCache</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetPipelineCacheData</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkMergePipelineCaches</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateGraphicsPipelines</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateComputePipelines</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyPipeline</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreatePipelineLayout</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyPipelineLayout</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                               </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateSampler</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroySampler</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateDescriptorSetLayout</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyDescriptorSetLayout</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                          </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateDescriptorPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyDescriptorPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                               </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkResetDescriptorPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkAllocateDescriptorSets</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkFreeDescriptorSets</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkUpdateDescriptorSets</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateFramebuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyFramebuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateRenderPass</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyRenderPass</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkGetRenderAreaGranularity</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                            </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCreateCommandPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkDestroyCommandPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkResetCommandPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkAllocateCommandBuffers</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkFreeCommandBuffers</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkBeginCommandBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkEndCommandBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkResetCommandBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBindPipeline</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetViewport</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetScissor</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetLineWidth</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetDepthBias</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetBlendConstants</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetDepthBounds</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetStencilCompareMask</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                            </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetStencilWriteMask</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetStencilReference</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBindDescriptorSets</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                               </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBindIndexBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBindVertexBuffers</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDraw</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDrawIndexed</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDrawIndirect</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDrawIndexedIndirect</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                              </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDispatch</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdDispatchIndirect</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdCopyBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdCopyImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBlitImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                        </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdCopyBufferToImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdCopyImageToBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdUpdateBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdFillBuffer</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdClearColorImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdClearDepthStencilImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                           </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdClearAttachments</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                 </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdResolveImage</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                     </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdSetEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdResetEvent</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdWaitEvents</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdPipelineBarrier</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBeginQuery</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                       </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdEndQuery</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdResetQueryPool</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdWriteTimestamp</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                   </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdCopyQueryPoolResults</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                             </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdPushConstants</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdBeginRenderPass</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                  </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdNextSubpass</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                      </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdEndRenderPass</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                                    </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression function" style="color:rgb(80, 250, 123)">PFN_DEF</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">vkCmdExecuteCommands</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name function" style="color:rgb(80, 250, 123)">DEFINE_VK_FUNCTION_MACRO</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">function</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression">PFN_</span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">##</span><span class="token macro property expression">function function</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name function" style="color:rgb(80, 250, 123)">GET_VK_FUNCTION_PROCADDR</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">function</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression">                         </span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token macro property"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token macro property">    </span><span class="token macro property expression">function </span><span class="token macro property expression operator">=</span><span class="token macro property expression"> </span><span class="token macro property expression keyword" style="color:rgb(189, 147, 249);font-style:italic">reinterpret_cast</span><span class="token macro property expression operator">&lt;</span><span class="token macro property expression">PFN_</span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">##</span><span class="token macro property expression">function</span><span class="token macro property expression operator">&gt;</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">lib</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token macro property expression">get_function</span><span class="token macro property expression operator">&lt;</span><span class="token macro property expression">PFN_</span><span class="token macro property punctuation" style="color:rgb(248, 248, 242)">##</span><span class="token macro property expression">function</span><span class="token macro property expression operator">&gt;</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token macro property expression">#function</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token macro property expression punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">APPLY_PFN_DEF_VK_FUNCTIONS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DEFINE_VK_FUNCTION_MACRO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">vk_loader_init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> dylib </span><span class="token function" style="color:rgb(80, 250, 123)">lib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">VULKAN_LIB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">APPLY_PFN_DEF_VK_FUNCTIONS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GET_VK_FUNCTION_PROCADDR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é¡¹ç›®å®æˆ˜">é¡¹ç›®å®æˆ˜<a href="https://www.iogl.cn/blog/12.%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8D%95%E5%8A%A0%E8%BD%BDvulkan%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98" class="hash-link" aria-label="é¡¹ç›®å®æˆ˜çš„ç›´æ¥é“¾æ¥" title="é¡¹ç›®å®æˆ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è¿™æ˜¯æ•´ä¸ªæµ‹è¯•demoçš„é¡¹ç›®åœ°å€ï¼š</p>
<p><a href="https://gitee.com/sumcai/MiniVulkanTriangle" target="_blank" rel="noopener noreferrer">sumcai/MiniVulkanTriangle (gitee.com)</a></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="å›¾å½¢åŸºç¡€" term="å›¾å½¢åŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Framebufferç”¨æ³•]]></title>
        <id>https://www.iogl.cn/blog/09.Framebufferç”¨æ³•</id>
        <link href="https://www.iogl.cn/blog/09.Framebufferç”¨æ³•"/>
        <updated>2021-12-26T20:14:37.000Z</updated>
        <summary type="html"><![CDATA[openglä¸­framebufferç§°ä¸ºå¸§ç¼“å†²ï¼Œå®ƒæ˜¯ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºï¼Œå¦‚æœæŠŠæ¸²æŸ“åˆ°å±å¹•çš„é¢œè‰²ç¼“å†²ï¼Œæ·±åº¦ç¼“å†²ï¼Œæ¨¡æ¿ç¼“å†²éƒ½ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œé‚£ä¹ˆå°±å«å¸§ç¼“å†²ã€‚]]></summary>
        <content type="html"><![CDATA[<p>openglä¸­framebufferç§°ä¸ºå¸§ç¼“å†²ï¼Œå®ƒæ˜¯ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºï¼Œå¦‚æœæŠŠæ¸²æŸ“åˆ°å±å¹•çš„é¢œè‰²ç¼“å†²ï¼Œæ·±åº¦ç¼“å†²ï¼Œæ¨¡æ¿ç¼“å†²éƒ½ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œé‚£ä¹ˆå°±å«å¸§ç¼“å†²ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="framebufferç”¨æ³•">Framebufferç”¨æ³•<a href="https://www.iogl.cn/blog/09.Framebuffer%E7%94%A8%E6%B3%95#framebuffer%E7%94%A8%E6%B3%95" class="hash-link" aria-label="Framebufferç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="Framebufferç”¨æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>framebufferé€šå¸¸ç”¨åœ¨ç¦»å±æ¸²æŸ“æˆ–è€…åå¤„ç†ä¸Šï¼Œä¸»è¦æ¶‰åŠè¿™å‡ ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>glGenFramebuffers</code> ï¼šåˆ›å»ºframebuffer</li>
<li><code>glBindFramebuffer</code> ï¼šç»‘å®šframebuffer</li>
<li><code>glFramebufferTexture2D</code> ï¼šå°†çº¹ç†é™„åŠ åˆ°framebufferåˆ°ï¼Œå®ç°ç»˜åˆ¶åˆ°çº¹ç†</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/09.Framebuffer%E7%94%A8%E6%B3%95#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªåå¤„ç†æ“ä½œï¼Œå°†<a href="http://iogl.cn/opengl/blend/" target="_blank" rel="noopener noreferrer">Blendç”¨æ³•</a>ä¸­çš„ç»˜åˆ¶ç»“æœç”»åœ¨å±å¹•ä¸­å¤®ï¼Œå¹¶ä¸”å¯¹ç»“æœçš„é¢œè‰²å–åå‘ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å…·ä½“ä»£ç ï¼š</p>
<p><code>05.FBTexture.fs</code>å†…å®¹ï¼š</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 330 core</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">in vec2 TexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uniform sampler2D tex1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">out vec4 FragColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FragColor = vec4(vec3(1.0 - texture(tex1, TexCoord)), 1.0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å®ç°ä»£ç ï¼š</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">void display( GLFWwindow* window )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 1.ç»‘å®šframebufferï¼Œè¿™æ ·å¯ä»¥ç»˜åˆ¶åˆ°é™„åŠ çš„çº¹ç†fbTextureä¸Š</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindFramebuffer(GL_FRAMEBUFFER, framebuffer);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnable(GL_DEPTH_TEST);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnable(GL_BLEND);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClearColor( 0, 0, 0.4, 0 );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUseProgram(boxProgramID);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 projection = glm::perspective(glm::radians(45.0f), (float) 5 / (float)5, 0.1f, 100.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 view = glm::lookAt(glm::vec3(1,2,3), glm::vec3(0,0,0), glm::vec3(0,1,0));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 model = glm::mat4(1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 mvp = projection * view * model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2.ç”»åœ°é¢</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint mvpId = glGetUniformLocation(boxProgramID, "MVP");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &amp;mvp[0][0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, floorTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 6);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 3.ç”»ç«‹æ–¹ä½“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, texture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 36);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 4.ç”»blendç‰©ä½“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model = glm::mat4(1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model = glm::translate(model, glm::vec3(0, 0, 1.01f));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mvp = projection * view * model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &amp;mvp[0][0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, blendTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 6);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 5.å¯¹fbTextureé‡‡æ ·åå¤„ç†å°†ç»˜åˆ¶åˆ°å±å¹•</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDisable(GL_DEPTH_TEST);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDisable(GL_BLEND);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindFramebuffer(GL_FRAMEBUFFER, 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClearColor(0.3f, 0.3f, 0.3f, 1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClear(GL_COLOR_BUFFER_BIT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUseProgram(screenProgramID);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(screenVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, fbTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 6);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void prepare() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    boxProgramID = LoadShaders( "data/shader/03.MVP.vs", "data/shader/03.MVP.fs" );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const GLfloat g_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    float fllor_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f,  5.0f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f, -5.0f,  1.0f, 1.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    float blend_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f, -0.5f,  0.0f,  0.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f,  0.5f,  0.0f,  1.0f,  0.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 1.VAOã€VBOçš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2.åœ°é¢è´´å›¾</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(fllor_vertex_buffer_data), fllor_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 3.blendè´´å›¾</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;BlendVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(BlendVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(blend_vertex_buffer_data), blend_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    floorTexture = loadTexture("data/img/33.png");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    texture = loadTexture("data/img/11.jpg");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    blendTexture = loadTexture("data/img/chick.png");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 4.åˆ›å»ºframebufferä»¥åŠé™„åŠ çš„çº¹ç†</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenFramebuffers(1, &amp;framebuffer);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindFramebuffer(GL_FRAMEBUFFER, framebuffer);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenTextures(1, &amp;fbTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, fbTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, 512, 512, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, fbTexture, 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 5.ç»˜åˆ¶åˆ°å±å¹•çš„shaderå’Œé¡¶ç‚¹æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    screenProgramID = LoadShaders( "data/shader/02.Texture.vs", "data/shader/05.FBTexture.fs" );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const GLfloat g_screen_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.0f,  0.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.0f,   1.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.0f,  1.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.0f,  1.0f,  1.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // VAOã€VBOçš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint screenVBO;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;screenVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(screenVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;screenVBO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, screenVBO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(g_screen_vertex_buffer_data), g_screen_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æœ€ç»ˆæ˜¾ç¤ºç»“æœï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/e2fabf1d21d3bcb698475c4adc3fd233.png" alt="1640529248087" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="framebuffe" term="framebuffe"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Blendç”¨æ³•]]></title>
        <id>https://www.iogl.cn/blog/08.Blendç”¨æ³•</id>
        <link href="https://www.iogl.cn/blog/08.Blendç”¨æ³•"/>
        <updated>2021-12-16T22:29:30.000Z</updated>
        <summary type="html"><![CDATA[openglçš„blendç”¨äºé¢œè‰²æ··åˆ ï¼Œå¦‚æœä¸ç”¨æ··åˆï¼Œä¸¤å¼ è´´å›¾è´´åœ¨ä¸€èµ·æ—¶ï¼Œå‰é¢çš„è´´å›¾ä¼šè¦†ç›–åé¢çš„è´´å›¾ï¼ŒåŠ ä¸Šæ··åˆåŠŸèƒ½ï¼Œä¸¤å¼ è´´å›¾å¯ä»¥å¾ˆå¥½çš„è´´åˆåœ¨ä¸€èµ·ã€‚ç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹ç”¨æ³•ã€‚]]></summary>
        <content type="html"><![CDATA[<p>openglçš„blendç”¨äºé¢œè‰²æ··åˆ ï¼Œå¦‚æœä¸ç”¨æ··åˆï¼Œä¸¤å¼ è´´å›¾è´´åœ¨ä¸€èµ·æ—¶ï¼Œå‰é¢çš„è´´å›¾ä¼šè¦†ç›–åé¢çš„è´´å›¾ï¼ŒåŠ ä¸Šæ··åˆåŠŸèƒ½ï¼Œä¸¤å¼ è´´å›¾å¯ä»¥å¾ˆå¥½çš„è´´åˆåœ¨ä¸€èµ·ã€‚ç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹ç”¨æ³•ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="blendå¼€å¯æ–¹æ³•">blendå¼€å¯æ–¹æ³•<a href="https://www.iogl.cn/blog/08.Blend%E7%94%A8%E6%B3%95#blend%E5%BC%80%E5%90%AF%E6%96%B9%E6%B3%95" class="hash-link" aria-label="blendå¼€å¯æ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="blendå¼€å¯æ–¹æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>blendä¸»è¦ä½¿ç”¨ä¸‹é¢å‡ ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>glEnable(GL_BLEND)</code>: å¼€å¯blendåŠŸèƒ½</li>
<li><code>glBlendFunc(GLenum sfactor, GLenum dfactor)</code>: sfactoræºå› å­ï¼Œdfactorç›®æ ‡å› å­</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/08.Blend%E7%94%A8%E6%B3%95#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘ä»¬å…ˆç”»ä¸€ä¸ªæ™®é€šåœºæ™¯</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">void display( GLFWwindow* window )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClearColor( 0, 0, 0.4, 0 );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUseProgram(boxProgramID);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 projection = glm::perspective(glm::radians(45.0f), (float) 5 / (float)5, 0.1f, 100.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 view = glm::lookAt(glm::vec3(1,2,3), glm::vec3(0,0,0), glm::vec3(0,1,0));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 model = glm::mat4(1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm::mat4 mvp = projection * view * model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 1.ç”»åœ°é¢</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint mvpId = glGetUniformLocation(boxProgramID, "MVP");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &amp;mvp[0][0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, floorTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 6);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2.ç”»ç«‹æ–¹ä½“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, texture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 36);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 3.ç”»blendç‰©ä½“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model = glm::mat4(1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model = glm::translate(model, glm::vec3(0, 0, 1.01f));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mvp = projection * view * model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &amp;mvp[0][0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindTexture(GL_TEXTURE_2D, blendTexture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glDrawArrays(GL_TRIANGLES, 0, 6);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void prepare() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    boxProgramID = LoadShaders( "data/shader/03.MVP.vs", "data/shader/03.MVP.fs" );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const GLfloat g_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f,  0.5f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    float fllor_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f,  5.0f,  0.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            5.0f, -0.5f, -5.0f,  1.0f, 1.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    float blend_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f, -0.5f,  0.0f,  0.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            1.0f,  0.5f,  0.0f,  1.0f,  0.0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 1.VAO1ã€VBOçš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(VAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2.åœ°é¢è´´å›¾</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(FloorVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(fllor_vertex_buffer_data), fllor_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2.blendè´´å›¾</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenVertexArrays(1, &amp;BlendVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindVertexArray(BlendVAO);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glGenBuffers(1, &amp;VBO3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBindBuffer(GL_ARRAY_BUFFER, VBO3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glBufferData(GL_ARRAY_BUFFER, sizeof(blend_vertex_buffer_data), blend_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // çº¹ç†æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    floorTexture = loadTexture("data/img/33.png");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    texture = loadTexture("data/img/11.jpg");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    blendTexture = loadTexture("data/img/chick.png");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glEnable(GL_DEPTH_TEST);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>éƒ½æ˜¯æ™®é€šè´´å›¾æ“ä½œï¼Œæ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/8fdf692cbf38ffeae519a368949c634e.png" alt="1639699366516" class="img_ev3q"></p>
<p>å› ä¸ºæ˜¯ç›´æ¥è´´å›¾è¦†ç›–çš„ï¼Œæ‰€ä»¥å°é¸¡å‘¨è¾¹alphaä¸º0çš„é¢œè‰²æ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œå¦‚æœåŠ ä¸ŠblendåŠŸèƒ½ï¼Œåˆ™å¯ä»¥çœ‹åˆ°åé¢å›¾ç‰‡çš„å†…å®¹äº†ï¼š</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnable(GL_BLEND);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´ï¿½ï¿½æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æœ€ç»ˆæ˜¾ç¤ºæ•ˆæœï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/3eddf9c37aea8e93be427111b162f78e.png" alt="1639699653817" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="blend" term="blend"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stencilç”¨æ³•]]></title>
        <id>https://www.iogl.cn/blog/07.Stencilç”¨æ³•</id>
        <link href="https://www.iogl.cn/blog/07.Stencilç”¨æ³•"/>
        <updated>2021-12-15T22:13:01.000Z</updated>
        <summary type="html"><![CDATA[openglçš„stencilç§°ä¸ºæ¨¡æ¿æµ‹è¯•ï¼Œå’Œæ·±åº¦æµ‹è¯•ä¸€æ ·ï¼Œæ˜¯Openglä¸­å¸¸ç”¨çš„æŠ€æœ¯ã€‚æ¦‚å¿µå°±ä¸è§£é‡Šäº†ï¼Œç›´æ¥æ¼”ç¤ºç”¨æ³•ã€‚æˆ‘ä»¬å®ç°å¯¹ä¸€ä¸ªç«‹æ–¹ä½“ç›’å­è¿›è¡Œé«˜äº®æè¾¹ã€‚]]></summary>
        <content type="html"><![CDATA[<p>openglçš„stencilç§°ä¸ºæ¨¡æ¿æµ‹è¯•ï¼Œå’Œæ·±åº¦æµ‹è¯•ä¸€æ ·ï¼Œæ˜¯Openglä¸­å¸¸ç”¨çš„æŠ€æœ¯ã€‚æ¦‚å¿µå°±ä¸è§£é‡Šäº†ï¼Œç›´æ¥æ¼”ç¤ºç”¨æ³•ã€‚æˆ‘ä»¬å®ç°å¯¹ä¸€ä¸ªç«‹æ–¹ä½“ç›’å­è¿›è¡Œé«˜äº®æè¾¹ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stencilç”¨æ³•">stencilç”¨æ³•<a href="https://www.iogl.cn/blog/07.Stencil%E7%94%A8%E6%B3%95#stencil%E7%94%A8%E6%B3%95" class="hash-link" aria-label="stencilç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="stencilç”¨æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>stencilæœ€ç®€å•çš„ç”¨æ³•æ˜¯ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>glStencilMask(GLuint value)</code>: ä½é®ç½©ï¼Œ 0x00è®¾ç½®æ¨¡æ¿ç¼“å†²ä¸å¯å†™å…¥ï¼›value=0xFFè®¾ç½®å¯ä»¥å†™å…¥ã€‚</li>
<li><code>glStencilFunc(GLenum func, GLint ref, GLuint mask)</code>: ç”¨refå€¼ä¸å­˜å‚¨çš„æ¨¡æ¿å€¼æ¯”è¾ƒï¼Œfuncä¸ºæ¯”è¾ƒæ–¹æ³•ã€‚</li>
<li><code>glStencilOp(GLenum sfail, GLenum dpfail, GLenum dppass)</code>: æ¨¡æ¿å€¼çš„å†™å…¥ç­–ç•¥</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œ<code>glStencilMask</code>æ˜¯å¼€å…³ï¼Œå¼€äº†æ‰å¯ä»¥å†™å…¥æ¨¡æ¿å€¼ï¼›<code>glStencilFunc</code>æ˜¯å†™å…¥æ¨¡æ¿å€¼çš„å‰ææ¡ä»¶ï¼›<code>glStencilOp</code>æ˜¯æ¨¡æ¿å€¼çš„å…·ä½“å†™å…¥æ–¹æ³•ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/07.Stencil%E7%94%A8%E6%B3%95#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ™®é€šæµç¨‹">æ™®é€šæµç¨‹<a href="https://www.iogl.cn/blog/07.Stencil%E7%94%A8%E6%B3%95#%E6%99%AE%E9%80%9A%E6%B5%81%E7%A8%8B" class="hash-link" aria-label="æ™®é€šæµç¨‹çš„ç›´æ¥é“¾æ¥" title="æ™®é€šæµç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä»¬å…ˆå‡†å¤‡å¥½äº†ç”»ä¸€ä¸ªç«‹æ–¹ä½“ç›’å­çš„ä»£ç ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint boxProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">display</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> GLFWwindow</span><span class="token operator">*</span><span class="token plain"> window </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glClearColor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glClear</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> GL_COLOR_BUFFER_BIT </span><span class="token operator">|</span><span class="token plain"> GL_DEPTH_BUFFER_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®å¥½åæ ‡å˜åŒ–çš„mvp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 projection </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">perspective</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">radians</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">45.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.1f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 view </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">lookAt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 model </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">mat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 mvp </span><span class="token operator">=</span><span class="token plain"> projection </span><span class="token operator">*</span><span class="token plain"> view </span><span class="token operator">*</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç”»ç«‹æ–¹ä½“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUseProgram</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint mvpId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">glGetUniformLocation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"MVP"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUniformMatrix4fv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mvpId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glDrawArrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">36</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">prepare</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    boxProgramID </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">LoadShaders</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"data/shader/03.MVP.vs"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"data/shader/03.MVP.fs"</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç«‹æ–¹ä½“çš„é¡¶ç‚¹åæ ‡ï¼Œçº¹ç†åæ ‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> GLfloat g_vertex_buffer_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">0.5f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// VAOã€VBOçš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VAO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint VBO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glGenVertexArrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">VAO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glBindVertexArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">VAO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glGenBuffers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">VBO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glBindBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VBO1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glBufferData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">g_vertex_buffer_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> g_vertex_buffer_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glEnableVertexAttribArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glVertexAttribPointer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GLfloat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// çº¹ç†æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint texture</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glGenTextures</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">texture</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glActiveTexture</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glBindTexture</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> texture</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç¯ç»•æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glTexParameteri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_TEXTURE_WRAP_S</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_REPEAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glTexParameteri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_TEXTURE_WRAP_T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_REPEAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿‡æ»¤æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glTexParameteri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_TEXTURE_MIN_FILTER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_NEAREST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glTexParameteri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_TEXTURE_MAG_FILTER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_NEAREST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// åŠ è½½å›¾ç‰‡æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> channels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">stbi_set_flip_vertically_on_load</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">stbi_load</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"data/img/test.jpg"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">channels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glTexImage2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TEXTURE_2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_RGB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_RGB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_UNSIGNED_BYTE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">stbi_image_free</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// çº¹ç†åæ ‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glEnableVertexAttribArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glVertexAttribPointer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GLfloat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GLfloat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glEnable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_DEPTH_TEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token operator">*</span><span class="token plain"> argv </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwInit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLFWwindow</span><span class="token operator">*</span><span class="token plain"> window </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">glfwCreateWindow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token number">512</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">512</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"OpenGL_Tutorial"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NULL</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwMakeContextCurrent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> window </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">gladLoadGLLoader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GLADloadproc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">glfwGetProcAddress </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwSwapInterval</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwSetKeyCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> keyboard </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwSetCursorPosCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> motion </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwSetMouseButtonCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mouse </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">prepare</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token function" style="color:rgb(80, 250, 123)">glfwWindowShouldClose</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">display</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">glfwPollEvents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">glfwSwapBuffers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glfwTerminate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ˜¾ç¤ºæ•ˆæœå¦‚å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/f9fd38ae6d0d360aa8b7cb6c3bfe0f0e.png" alt="1639578757898" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨æ¨¡æ¿æµ‹è¯•åŠŸèƒ½">ä½¿ç”¨æ¨¡æ¿æµ‹è¯•åŠŸèƒ½<a href="https://www.iogl.cn/blog/07.Stencil%E7%94%A8%E6%B3%95#%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="ä½¿ç”¨æ¨¡æ¿æµ‹è¯•åŠŸèƒ½çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨æ¨¡æ¿æµ‹è¯•åŠŸèƒ½çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŠ å…¥æ¨¡æ¿æµ‹è¯•åŠŸèƒ½ï¼Œæµç¨‹æè¿°ï¼š</p>
<ol>
<li>å¼€å¯æ¨¡æ¿æµ‹è¯•</li>
<li>æ¸…é™¤æ‰€æœ‰æ¨¡æ¿å€¼</li>
<li>ç”»ä¸€ä¸ªç«‹æ–¹ä½“ç›’å­ï¼Œå°†ç›’å­åŒºåŸŸçš„æ¨¡æ¿å€¼è®¾ç½®å¯å†™ï¼Œå€¼ä¸º1</li>
<li>ç”»ä¸€ä¸ªç¨å¤§ç‚¹çš„ç›’å­(ç›’å­æ”¾å¤§1.05å€)ï¼Œä¸è´´å›¾ï¼Œfsé‡Œç›´æ¥è®¾ç½®é¢œè‰²å›ºå®šå€¼ï¼Œè¿›è¡Œæ¨¡æ¿æµ‹è¯•ï¼Œæ¨¡æ¿æµ‹è¯•æ¡ä»¶ä¸ºæ¨¡æ¿å€¼ != 1ï¼Œè®¾ç½®æ¨¡æ¿å€¼ä¸å¯å†™ã€‚</li>
</ol>
<p>å…·ä½“ä»£ç ï¼š</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">display</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> GLFWwindow</span><span class="token operator">*</span><span class="token plain"> window </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1.å¼€å¯stencilåŠŸèƒ½</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glEnable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_STENCIL_TEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®æ¨¡æ¿å€¼å¯å†™ï¼Œä¸‹é¢çš„clear GL_STENCIL_BUFFER_BITæ“ä½œæ‰èƒ½æ‰§è¡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glStencilMask</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0xFF</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®æ¨¡æ¿æµ‹è¯•æˆåŠŸçš„å†™å…¥æ–¹å¼ä¸ºæ›¿æ¢ï¼Œå³æµ‹è¯•æˆåŠŸï¼Œä½¿ç”¨glStencilFuncä¸­çš„refå€¼å†™å…¥æ¨¡æ¿å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glStencilOp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_KEEP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_KEEP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_REPLACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glClearColor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 2.æ¸…é™¤æ·±åº¦ã€æ¨¡æ¿å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glClear</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> GL_COLOR_BUFFER_BIT </span><span class="token operator">|</span><span class="token plain"> GL_DEPTH_BUFFER_BIT </span><span class="token operator">|</span><span class="token plain"> GL_STENCIL_BUFFER_BIT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 3.ç”»ç«‹æ–¹ä½“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 projection </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">perspective</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">radians</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">45.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0.1f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 view </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">lookAt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 model </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">mat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token plain">mat4 mvp </span><span class="token operator">=</span><span class="token plain"> projection </span><span class="token operator">*</span><span class="token plain"> view </span><span class="token operator">*</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®æ¨¡æ¿å€¼çš„å†™å…¥ç­–ç•¥ï¼ŒGL_ALWAYSè¡¨ç¤ºæ— æ¡ä»¶å†™å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glStencilFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_ALWAYS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0xFF</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUseProgram</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    GLuint mvpId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">glGetUniformLocation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"MVP"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUniformMatrix4fv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mvpId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glDrawArrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">36</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 4.ç”»æè¾¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">mat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ”¾å¤§ç›’å­ä¸ºåŸæ¥çš„1.05å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">scale</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> glm</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">vec3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.05</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.05</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1.05</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mvp </span><span class="token operator">=</span><span class="token plain"> projection </span><span class="token operator">*</span><span class="token plain"> view </span><span class="token operator">*</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è¿›è¡Œæ¨¡æ¿æµ‹è¯•ï¼Œåªæœ‰ä¸ç­‰äº1çš„æ¨¡æ¿å€¼æ‰æµ‹è¯•æˆåŠŸ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glStencilFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_NOTEQUAL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0xFF</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®¾ç½®æ¨¡æ¿å€¼ä¸å¯å†™ï¼Œæ­¤å¤„æ— éœ€æ›´æ–°æ¨¡æ¿å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glStencilMask</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0x00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUseProgram</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stencilProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mvpId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">glGetUniformLocation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stencilProgramID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"MVP"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glUniformMatrix4fv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mvpId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">mvp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">glDrawArrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">36</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç°åœ¨çš„æ•ˆæœï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/88e03e838ed2941bffb00b84a0d956da.png" alt="1639579682967" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="stencil" term="stencil"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MVPå˜æ¢åæ ‡]]></title>
        <id>https://www.iogl.cn/blog/06.MVPå˜æ¢åæ ‡</id>
        <link href="https://www.iogl.cn/blog/06.MVPå˜æ¢åæ ‡"/>
        <updated>2021-12-12T17:10:05.000Z</updated>
        <summary type="html"><![CDATA[MVPæ¦‚å¿µ]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mvpæ¦‚å¿µ">MVPæ¦‚å¿µ<a href="https://www.iogl.cn/blog/06.MVP%E5%8F%98%E6%8D%A2%E5%9D%90%E6%A0%87#mvp%E6%A6%82%E5%BF%B5" class="hash-link" aria-label="MVPæ¦‚å¿µçš„ç›´æ¥é“¾æ¥" title="MVPæ¦‚å¿µçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨openglä¸­ï¼Œ<code>MVP</code>ç§°ä¸ºæ¨¡å‹è§‚å¯ŸæŠ•å½±çŸ©é˜µï¼Œå®ƒæ˜¯æ¨¡å‹ï¼ˆModelï¼‰ã€è§‚å¯Ÿï¼ˆViewï¼‰å’ŒæŠ•å½±ï¼ˆProjectionï¼‰çŸ©é˜µä½œç”¨åœ¨ç‰©ä½“ä¸Šç»„åˆä½œç”¨ï¼Œç”¨äºå¯¹ç‰©ä½“çš„åæ ‡ç³»è¿›è¡Œå˜æ¢ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/a97b8a1c101a53d8bfb26020cc22de2d.png" alt="1639300692250" class="img_ev3q"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç‰©ä½“çš„åæ ‡ç³»å˜åŒ–è¿‡ç¨‹ä¸ºï¼š</p>
<ol>
<li>å±€éƒ¨åæ ‡ç³»</li>
<li>ä¸–ç•Œåæ ‡ç³»</li>
<li>è§‚å¯Ÿåæ ‡ç³»</li>
<li>è£å‰ªåæ ‡ç³»</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mvpå…¬å¼">MVPå…¬å¼<a href="https://www.iogl.cn/blog/06.MVP%E5%8F%98%E6%8D%A2%E5%9D%90%E6%A0%87#mvp%E5%85%AC%E5%BC%8F" class="hash-link" aria-label="MVPå…¬å¼çš„ç›´æ¥é“¾æ¥" title="MVPå…¬å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>$$ MVP=Mprojectionâ‹…Mviewâ‹…Mmodel$$</p>
<p>åœ¨shaderä¸­ç”¨MVP * gl_Position å¾—åˆ°è½¬æ¢åçš„åæ ‡ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/06.MVP%E5%8F%98%E6%8D%A2%E5%9D%90%E6%A0%87#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨<a href="http://iogl.cn/pages/ogltexture/" target="_blank" rel="noopener noreferrer">OpenGLçº¹ç†</a>ä¸­ï¼Œä»‹ç»äº†çº¹ç†çš„ä½¿ç”¨æ–¹æ³•ï¼Œæœ€ç»ˆçš„è¿è¡Œæ•ˆæœä¸ºï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/8b0c927d8f7dde56c3955c47c152fc98.png" alt="1637478946876" class="img_ev3q"></p>
<p>ä¿®æ”¹vertext shaderï¼Œæ·»åŠ MVPå˜é‡</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 330 core</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 0) in vec3 aPos;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 1) in vec2 aTexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uniform mat4 MVP;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">out vec2 TexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gl_Position = MVP * vec4(aPos, 1.0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TexCoord = aTexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨ç»˜åˆ¶ä¹‹å‰å°†MVPçŸ©é˜µä¼ å…¥ç€è‰²å™¨ï¼š</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm::mat4 projection = glm::perspective(glm::radians(45.0f), (float) width / (float)height, 0.1f, 100.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm::mat4 view = glm::lookAt(glm::vec3(1,2,3), glm::vec3(0,0,0), glm::vec3(0,1,0));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm::mat4 model = glm::mat4(1.0f);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glm::mat4 mvp = projection * view * model;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint mvpId = glGetUniformLocation(programID, "MVP");</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glUniformMatrix4fv(mvpId, 1, GL_FALSE, &amp;mvp[0][0]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç°åœ¨çš„è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/1beb112d4b8acb155e117a0ba0f25ad2.png" alt="1639310527486" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="åæ ‡ç³»" term="åæ ‡ç³»"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[computer shaderè¯¦è§£]]></title>
        <id>https://www.iogl.cn/blog/10.computer shaderè¯¦è§£</id>
        <link href="https://www.iogl.cn/blog/10.computer shaderè¯¦è§£"/>
        <updated>2021-12-08T07:39:25.000Z</updated>
        <summary type="html"><![CDATA[ä½¿ç”¨æ–¹å¼]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨æ–¹å¼">ä½¿ç”¨æ–¹å¼<a href="https://www.iogl.cn/blog/10.computer%20shader%E8%AF%A6%E8%A7%A3#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F" class="hash-link" aria-label="ä½¿ç”¨æ–¹å¼çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨æ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ul>
<li>
<p>ä»£ç ä¾§è°ƒåº¦è®¡ç®—ç®¡çº¿ä»»åŠ¡</p>
<p><code>vkCmdDIspatch(commandBuffer, groupSize.x, groupSize.y, groupSize.z)</code></p>
<p><code>groupSize</code>ä»£è¡¨å·¥ä½œç»„æ•°é‡(xyzä¸‰ä¸ªæ–¹å‘ä¸Š)</p>
</li>
<li>
<p>shaderä¾§é…ç½®è®¾ç½®</p>
<p><code>layout(local_size_x=6, local_size_y=4) in;</code></p>
<p>è®¾ç½®æœ¬åœ°å·¥ä½œç»„å¤§å°ï¼Œ<code>local_size_z</code>æœªè®¾ç½®å–é»˜è®¤å€¼1</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workgroupå‚æ•°è¯´æ˜">WorkGroupå‚æ•°è¯´æ˜<a href="https://www.iogl.cn/blog/10.computer%20shader%E8%AF%A6%E8%A7%A3#workgroup%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E" class="hash-link" aria-label="WorkGroupå‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="WorkGroupå‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/863e1f0932c954536068441fbcf0534f.png" alt="1638971538231" class="img_ev3q"></p>
<p>ä»¥ä¸Šå›¾ä¸ºä¾‹</p>
<ul>
<li>
<p>å…¨å±€å·¥ä½œç»„ï¼Œ groupSize.x =3 , groupSize.y=4, groupSize.z=8</p>
</li>
<li>
<p><code>gl_NumWorkGroups</code> ï¼š(3ï¼Œ4ï¼Œ8)ï¼Œå…¨å±€å·¥ä½œç»„å¤§å°ã€‚</p>
</li>
<li>
<p><code>gl_WorkGroupSize</code> ï¼š(6ï¼Œ4ï¼Œ1)ï¼Œæœ¬åœ°å·¥ä½œç»„å¤§å°ã€‚</p>
</li>
<li>
<p><code>gl_WorkGroupID</code> ï¼šï¼ˆ2ï¼Œ2ï¼Œ4ï¼‰ï¼Œæœ¬åœ°å·¥ä½œç»„åœ¨å…¨å±€å·¥ä½œç»„ä¸­çš„ä½ç½®ã€‚</p>
</li>
<li>
<p><code>gl_LocalInvocationID</code> ï¼šï¼ˆ5ï¼Œ3ï¼Œ0ï¼‰ï¼Œè®¡ç®—å•å…ƒåœ¨æœ¬åœ°å·¥ä½œç»„çš„ä½ç½®ã€‚</p>
</li>
<li>
<p><code>gl_GlobalInvocationID</code> ï¼šï¼ˆ17ï¼Œ11ï¼Œ4ï¼‰ï¼Œè®¡ç®—å•å…ƒåœ¨å…¨å±€å·¥ä½œè‡ªçš„ä½ç½®ï¼Œgl_WorkGroupID * gl_WorkGroupSize + gl_LocalInvocationID</p>
</li>
<li>
<p><code>gl_LocalInvocationIndex</code> ï¼š23ï¼Œè®¡ç®—å•å…ƒåœ¨æœ¬åœ°å·¥ä½œç»„çš„ç´¢å¼•ï¼Œgl_LocalInvocationID.z * gl_WorkGroupSize.x * gl_WorkGroupSize.y + gl_LocalInvocationID.y * gl_WorkGroupSize.x +gl_LocalInvocationID.x;</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="subgroupå‚æ•°è¯´æ˜">Subgroupå‚æ•°è¯´æ˜<a href="https://www.iogl.cn/blog/10.computer%20shader%E8%AF%A6%E8%A7%A3#subgroup%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E" class="hash-link" aria-label="Subgroupå‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="Subgroupå‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/c349681166b76d3a822788989b02ac22.png" alt="1638972921886" class="img_ev3q"></p>
<p>å¦‚æœä¸€ä¸ªæœ¬åœ°å·¥ä½œç»„åˆ†æˆå¦‚ä¸Šå›¾æ‰€ç¤ºçš„subgroupï¼Œåˆ™æœ‰å¦‚ä¸‹å‚æ•°</p>
<ul>
<li>
<p><code>gl_NumSubgroups</code>  ï¼š8ï¼Œæœ¬åœ°å·¥ä½œç»„å†…çš„å­ç»„æ•°</p>
</li>
<li>
<p><code>gl_SubgroupID</code>  ï¼š[0ï¼Œ7]ï¼Œæœ¬åœ°å·¥ä½œç»„å†…å­ç»„çš„IDï¼ŒèŒƒå›´[0ï¼Œgl_NumSubgroups)</p>
</li>
<li>
<p><code>gl_SubgroupSize</code>  ï¼š32ï¼Œå­ç»„çš„å®¹é‡å¤§å°</p>
</li>
<li>
<p><code>gl_SubgroupInvocationID</code>  ï¼š[0ï¼Œ31]ï¼Œå­ç»„å†…è®¡ç®—å•å…ƒçš„IDï¼ŒèŒƒå›´[0ï¼Œgl_SubgroupSize)</p>
</li>
</ul>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="computer shader" term="computer shader"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[OpenGLçº¹ç†]]></title>
        <id>https://www.iogl.cn/blog/05.OpenGLçº¹ç†</id>
        <link href="https://www.iogl.cn/blog/05.OpenGLçº¹ç†"/>
        <updated>2021-11-21T13:57:08.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="https://www.iogl.cn/blog/05.OpenGL%E7%BA%B9%E7%90%86#%E7%AE%80%E4%BB%8B" class="hash-link" aria-label="ç®€ä»‹çš„ç›´æ¥é“¾æ¥" title="ç®€ä»‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>openglçº¹ç†ç®€å•æ¥è¯´å°±æ˜¯è´´å›¾ï¼Œåƒ2Dæ¸¸æˆï¼Œå°±æ˜¯ç”¨å¤§é‡çš„è´´å›¾æ‹¼èµ·æ¥ç»„æˆä¸°å¯Œå¤šå½©çš„ç”»é¢ã€‚ä¸‹é¢æˆ‘ä»¬è¯¦ç»†åœ°æè¿°ä¸€ä¸‹ä½¿ç”¨çº¹ç†çš„ä»£ç æ–¹å¼ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/05.OpenGL%E7%BA%B9%E7%90%86#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é¡¶ç‚¹ç€è‰²å™¨è¾“å…¥ä¸¤ç»„åæ ‡ï¼Œé¡¶ç‚¹åæ ‡å’Œçº¹ç†åæ ‡ï¼Œçº¹ç†åæ ‡ç›´æ¥ä¼ é€’ç»™ç‰‡æ®µç€è‰²å™¨</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">//02.Texture.vs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 330 core</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 0) in vec3 aPos;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">layout (location = 1) in vec2 aTexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">out vec2 TexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gl_Position = vec4(aPos, 1.0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TexCoord = aTexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç‰‡æ®µç€è‰²å™¨å®šä¹‰ä¸€ä¸ªçº¹ç†é‡‡æ ·å™¨text1ï¼Œå®ƒä¸ä»£ç ä¸­ç»‘å®šçš„TEXTURE0å…³è”ï¼Œä½¿ç”¨ä¼ å…¥çš„çº¹ç†åæ ‡é‡‡æ ·</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">//02.Texture.fs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#version 330 core</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">in vec2 TexCoord;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uniform sampler2D tex1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">out vec4 FragColor;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void main()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FragColor = texture(tex1, TexCoord);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å®ç°ä»£ç é€»è¾‘</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint programID = LoadShaders( "data/shader/02.Texture.vs", "data/shader/02.Texture.fs" );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glUseProgram(programID);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// é¡¶ç‚¹ã€çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const GLfloat g_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -0.5f, -0.5f, 0.0f, 0.0f, 0.0f,    // å·¦ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.5f, -0.5f, 0.0f,  1.0f, 0.0f,    // å³ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -0.5f, 0.5f, 0.0f,  0.0f, 1.0f,    // å·¦ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.5f, 0.5f, 0.0f,   1.0f, 1.0f     // å³ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// é¡¶ç‚¹ç´¢å¼•</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsigned int indices[] = {0, 1, 2,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          1, 2, 3};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// VAO1ã€VBO1ã€EBO1çš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VAO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint EBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenVertexArrays(1, &amp;VAO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindVertexArray(VAO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ARRAY_BUFFER, VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;EBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// çº¹ç†æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint texture;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenTextures(1, &amp;texture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glActiveTexture(GL_TEXTURE0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindTexture(GL_TEXTURE_2D, texture);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// ç¯ç»•æ–¹å¼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// è¿‡æ»¤æ–¹å¼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// åŠ è½½å›¾ç‰‡æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int width, height, channels;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// å›¾åƒåæ ‡ç³»ä¸çº¹ç†åæ ‡ç³»ç›¸åï¼Œç¿»è½¬yè½´</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">stbi_set_flip_vertically_on_load(true);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsigned char* data = stbi_load("data/img/test.jpg", &amp;width, &amp;height, &amp;channels, 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">stbi_image_free(data);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// çº¹ç†åæ ‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableVertexAttribArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/8b0c927d8f7dde56c3955c47c152fc98.png" alt="1637478946876" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¯ç»•æ–¹å¼">ç¯ç»•æ–¹å¼<a href="https://www.iogl.cn/blog/05.OpenGL%E7%BA%B9%E7%90%86#%E7%8E%AF%E7%BB%95%E6%96%B9%E5%BC%8F" class="hash-link" aria-label="ç¯ç»•æ–¹å¼çš„ç›´æ¥é“¾æ¥" title="ç¯ç»•æ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é€šè¿‡è®¾ç½®<code>GL_TEXTURE_WRAP_</code>å‚æ•°æ¥è®¾ç½®ç¯ç»•æ–¹å¼</p>
<ul>
<li>
<p><code>GL_REPEAT</code>: è¶…å‡ºçº¹ç†èŒƒå›´çš„åæ ‡æ•´æ•°éƒ¨åˆ†è¢«å¿½ç•¥ï¼Œå½¢æˆé‡å¤æ•ˆæœã€‚</p>
</li>
<li>
<p><code>GL_MIRRORED_REPEAT</code>: è¶…å‡ºçº¹ç†èŒƒå›´çš„åæ ‡æ•´æ•°éƒ¨åˆ†è¢«å¿½ç•¥ï¼Œä½†å½“æ•´æ•°éƒ¨åˆ†ä¸ºå¥‡æ•°æ—¶è¿›è¡Œå–åï¼Œå½¢æˆé•œåƒæ•ˆæœã€‚</p>
</li>
<li>
<p><code>GL_CLAMP_TO_EDGE</code>: è¶…å‡ºçº¹ç†èŒƒå›´çš„åæ ‡è¢«æˆªå–æˆ0å’Œ1ï¼Œå½¢æˆçº¹ç†è¾¹ç¼˜å»¶ä¼¸çš„æ•ˆæœã€‚</p>
</li>
<li>
<p><code>GL_CLAMP_TO_BORDER</code>:  è¶…å‡ºçº¹ç†èŒƒå›´çš„éƒ¨åˆ†è¢«è®¾ç½®ä¸ºè¾¹ç¼˜è‰²ã€‚</p>
</li>
</ul>
<p>å¦‚æœå°†çº¹ç†åæ ‡æ”¹æˆå¦‚ä¸‹:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const GLfloat g_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -0.5f, -0.5f, 0.0f, 0.0f, 0.0f,    // å·¦ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.5f, -0.5f, 0.0f,  2.0f, 0.0f,    // å³ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -0.5f, 0.5f, 0.0f,  0.0f, 2.0f,    // å·¦ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.5f, 0.5f, 0.0f,   2.0f, 2.0f     // å³ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸åŒç¯ç»•æ–¹å¼å¯¹åº”çš„æ•ˆæœ:</p>
<p>GL_REPEAT</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/8584304f0436687612292cb33ae09398.png" alt="11" class="img_ev3q"></p>
<hr>
<p>GL_MIRRORED_REPEAT</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/eb72316da29dc70f706915510134e249.png" alt="222" class="img_ev3q"></p>
<hr>
<p>GL_CLAMP_TO_EDGE</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/4c7b53d0f1df36e720ff66a1055eaf64.png" alt="333" class="img_ev3q"></p>
<hr>
<p>GL_CLAMP_TO_BORDER</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/99d5651bbf052ab5d6a9d51e68755122.png" alt="444" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="çº¹ç†" term="çº¹ç†"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[OpenGLä¸­çš„åæ ‡ç³»ç»Ÿ]]></title>
        <id>https://www.iogl.cn/blog/04.OpenGLä¸­çš„åæ ‡ç³»ç»Ÿ</id>
        <link href="https://www.iogl.cn/blog/04.OpenGLä¸­çš„åæ ‡ç³»ç»Ÿ"/>
        <updated>2021-11-20T21:16:27.000Z</updated>
        <summary type="html"><![CDATA[å¸¸è§çš„åæ ‡ç³»ç»Ÿ]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§çš„åæ ‡ç³»ç»Ÿ">å¸¸è§çš„åæ ‡ç³»ç»Ÿ<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F" class="hash-link" aria-label="å¸¸è§çš„åæ ‡ç³»ç»Ÿçš„ç›´æ¥é“¾æ¥" title="å¸¸è§çš„åæ ‡ç³»ç»Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>openglçš„åæ ‡ç³»ç”¨ä¸€å¼ å›¾æ¦‚è¦è¯´æ˜</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/2f524724f059a8a20ae0c933e541a0fc.png" alt="1637416960591" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸–ç•Œåæ ‡ç³»">ä¸–ç•Œåæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="ä¸–ç•Œåæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="ä¸–ç•Œåæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ OpenGL ä¸­ï¼Œ3Dä¸–ç•Œåæ ‡ç³»é‡‡ç”¨çš„æ˜¯å³æ‰‹ç¬›å¡å°”åæ ‡ç³»ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/ecb4a55ead119d5928c36cddb0999b5a.png" alt="1637416191561" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å±å¹•åæ ‡ç³»">å±å¹•åæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="å±å¹•åæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="å±å¹•åæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å±å¹•åæ ‡ç³»ï¼Œå¤§éƒ¨åˆ†æ˜¯ä»¥å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰çš„ã€‚ ä»£è¡¨çš„æ“ä½œç³»ç»Ÿæœ‰Windowsï¼ŒAndroidï¼ŒSymbianï¼ŒiOS çš„Core Graphicsã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opengl-2dåæ ‡ç³»">OpenGL 2Dåæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#opengl-2d%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="OpenGL 2Dåæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="OpenGL 2Dåæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>OpenGLç»˜åˆ¶æ—¶é‡‡ç”¨NDCåæ ‡ç³»ï¼ŒNDCå°±æ˜¯è®¾å¤‡æ ‡å‡†åŒ–åæ ‡ç³» ï¼Œ åŸç‚¹åœ¨å±å¹•ä¸­å¿ƒï¼Œåæ ‡èŒƒå›´[-1ï¼Œ1]</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/bb5f6489c26630c49f7215bda6d21ab8.png" alt="1637415339038" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="çª—å£åæ ‡ç³»">çª—å£åæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E7%AA%97%E5%8F%A3%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="çª—å£åæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="çª—å£åæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¹Ÿå«è§†å£åæ ‡ç³»ï¼Œ åŸç‚¹åœ¨å·¦ä¸‹è§’ï¼ŒXã€Y è½´åˆ†åˆ«å‘å³å’Œå‘ä¸Šï¼Œé‡‡ç”¨å’Œå±å¹•åæ ‡ä¸€æ ·çš„åƒç´ è®¡ç®—é•¿åº¦ã€‚ åœ¨ OpenGL ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥å£ glViewport è®¾ç½®è§†å£</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/e9e646c59ba2e6efd398d8d6765187c1.png" alt="1637416580747" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="çº¹ç†åæ ‡ç³»">çº¹ç†åæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E7%BA%B9%E7%90%86%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="çº¹ç†åæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="çº¹ç†åæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>çº¹ç†åæ ‡çš„åŸç‚¹åœ¨çº¹ç†å·¦ä¸‹è§’ï¼Œ<code>x</code>è½´å‘å³ï¼Œ<code>y</code>è½´å‘ä¸Šï¼Œ<code>x</code>å’Œ<code>y</code>çš„å–å€¼èŒƒå›´éƒ½æ˜¯0åˆ°1ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/58e9b249068cf37e5ad5e1e93056ebb4.png" alt="1637415544184" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å›¾ç‰‡åæ ‡ç³»">å›¾ç‰‡åæ ‡ç³»<a href="https://www.iogl.cn/blog/04.OpenGL%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F#%E5%9B%BE%E7%89%87%E5%9D%90%E6%A0%87%E7%B3%BB" class="hash-link" aria-label="å›¾ç‰‡åæ ‡ç³»çš„ç›´æ¥é“¾æ¥" title="å›¾ç‰‡åæ ‡ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å›¾ç‰‡åæ ‡ç³»çš„åŸç‚¹åœ¨å›¾ç‰‡å·¦ä¸Šè§’ï¼Œ<code>x</code>è½´å‘å³ï¼Œ<code>y</code>è½´å‘ä¸‹ï¼Œ<code>x</code>å’Œ<code>y</code>çš„å–å€¼èŒƒå›´éƒ½æ˜¯0åˆ°å¯¹åº”çš„å›¾ç‰‡å®½é«˜ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/4441ece5077a11c6903dfbaf0adc7f89.png" alt="1637415525917" class="img_ev3q"></p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
        <category label="åæ ‡ç³»" term="åæ ‡ç³»"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æµ…è°ˆVAOã€VBOã€VEO]]></title>
        <id>https://www.iogl.cn/blog/03.æµ…è°ˆVAOã€VBOã€VEO</id>
        <link href="https://www.iogl.cn/blog/03.æµ…è°ˆVAOã€VBOã€VEO"/>
        <updated>2021-11-18T07:35:01.000Z</updated>
        <summary type="html"><![CDATA[æ¦‚å¿µè¯´æ˜]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¦‚å¿µè¯´æ˜">æ¦‚å¿µè¯´æ˜<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E6%A6%82%E5%BF%B5%E8%AF%B4%E6%98%8E" class="hash-link" aria-label="æ¦‚å¿µè¯´æ˜çš„ç›´æ¥é“¾æ¥" title="æ¦‚å¿µè¯´æ˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨openglä¸­ï¼ŒVAO,VBO,VEOéƒ½æ˜¯å­˜å‚¨é¡¶ç‚¹æ•°æ®çš„ç¼“å†²å¯¹è±¡ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p>
<ul>
<li>é¡¶ç‚¹æ•°ç»„å¯¹è±¡ï¼šVertex Array Objectï¼ŒVAO</li>
<li>é¡¶ç‚¹ç¼“å†²å¯¹è±¡ï¼šVertex Buffer Objectï¼ŒVBO</li>
<li>ç´¢å¼•ç¼“å†²å¯¹è±¡ï¼šElement Buffer Objectï¼ŒEBOæˆ–Index Buffer Objectï¼ŒIBO</li>
</ul>
<p>è¿™ä¸‰ä¸ªç¼“å†²å¯¹è±¡çš„å…³ç³»å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://objectstorage.ap-osaka-1.oraclecloud.com/n/ax0kqy8quzyr/b/bucket-blog/o/2022/04/3c91e78070193e053a8588f8f91c6939.png" alt="1635954045960" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¡¶ç‚¹æ•°ç»„å¯¹è±¡vao">é¡¶ç‚¹æ•°ç»„å¯¹è±¡(VAO)<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E9%A1%B6%E7%82%B9%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1vao" class="hash-link" aria-label="é¡¶ç‚¹æ•°ç»„å¯¹è±¡(VAO)çš„ç›´æ¥é“¾æ¥" title="é¡¶ç‚¹æ•°ç»„å¯¹è±¡(VAO)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>é¡¶ç‚¹æ•°ç»„å¯¹è±¡(Vertex Array Object, VAO)å¯ä»¥åƒé¡¶ç‚¹ç¼“å†²å¯¹è±¡é‚£æ ·è¢«ç»‘å®šï¼Œä»»ä½•éšåçš„é¡¶ç‚¹å±æ€§è°ƒç”¨éƒ½ä¼šå‚¨å­˜åœ¨è¿™ä¸ªVAOä¸­ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯ï¼Œå½“é…ç½®é¡¶ç‚¹å±æ€§æŒ‡é’ˆæ—¶ï¼Œä½ åªéœ€è¦å°†é‚£äº›è°ƒç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åå†ç»˜åˆ¶ç‰©ä½“çš„æ—¶å€™åªéœ€è¦ç»‘å®šç›¸åº”çš„VAOå°±è¡Œäº†ã€‚è¿™ä½¿åœ¨ä¸åŒé¡¶ç‚¹æ•°æ®å’Œå±æ€§é…ç½®ä¹‹é—´åˆ‡æ¢å˜å¾—éå¸¸ç®€å•ï¼Œåªéœ€è¦ç»‘å®šä¸åŒçš„VAOå°±è¡Œäº†ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¡¶ç‚¹ç¼“å†²å¯¹è±¡vbo">é¡¶ç‚¹ç¼“å†²å¯¹è±¡(VBO)<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E9%A1%B6%E7%82%B9%E7%BC%93%E5%86%B2%E5%AF%B9%E8%B1%A1vbo" class="hash-link" aria-label="é¡¶ç‚¹ç¼“å†²å¯¹è±¡(VBO)çš„ç›´æ¥é“¾æ¥" title="é¡¶ç‚¹ç¼“å†²å¯¹è±¡(VBO)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä»¬é€šè¿‡é¡¶ç‚¹ç¼“å†²å¯¹è±¡(Vertex Buffer Objects, VBO)ç®¡ç†å†…å­˜ï¼Œå®ƒä¼šåœ¨GPUå†…å­˜(é€šå¸¸è¢«ç§°ä¸ºæ˜¾å­˜)ä¸­å‚¨å­˜å¤§æ‰¹é¡¶ç‚¹ã€‚ä½¿ç”¨è¿™äº›ç¼“å†²å¯¹è±¡çš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§çš„å‘é€ä¸€å¤§æ‰¹æ•°æ®åˆ°æ˜¾å¡ä¸Šï¼Œè€Œä¸æ˜¯æ¯ä¸ªé¡¶ç‚¹å‘é€ä¸€æ¬¡ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç´¢å¼•ç¼“å†²å¯¹è±¡ebo">ç´¢å¼•ç¼“å†²å¯¹è±¡(EBO)<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E7%B4%A2%E5%BC%95%E7%BC%93%E5%86%B2%E5%AF%B9%E8%B1%A1ebo" class="hash-link" aria-label="ç´¢å¼•ç¼“å†²å¯¹è±¡(EBO)çš„ç›´æ¥é“¾æ¥" title="ç´¢å¼•ç¼“å†²å¯¹è±¡(EBO)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å’Œé¡¶ç‚¹ç¼“å†²å¯¹è±¡ä¸€æ ·ï¼ŒEBOä¹Ÿæ˜¯ä¸€ä¸ªç¼“å†²ï¼Œå®ƒä¸“é—¨å‚¨å­˜ç´¢å¼•ï¼ŒOpenGLè°ƒç”¨è¿™äº›é¡¶ç‚¹çš„ç´¢å¼•æ¥å†³å®šè¯¥ç»˜åˆ¶å“ªä¸ªé¡¶ç‚¹ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‰è€…å…³ç³»">ä¸‰è€…å…³ç³»<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E4%B8%89%E8%80%85%E5%85%B3%E7%B3%BB" class="hash-link" aria-label="ä¸‰è€…å…³ç³»çš„ç›´æ¥é“¾æ¥" title="ä¸‰è€…å…³ç³»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><strong>å¯ä»¥ç†è§£ä¸ºVBOå°±æ˜¯æ˜¾å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨åŒºåŸŸï¼Œå¯ä»¥ä¿æŒå¤§é‡çš„é¡¶ç‚¹å±æ€§ä¿¡æ¯</strong>ã€‚å¹¶ä¸”å¯ä»¥å¼€è¾Ÿå¾ˆå¤šä¸ªVBOï¼Œæ¯ä¸ªVBOåœ¨OpenGLä¸­æœ‰å®ƒçš„å”¯ä¸€æ ‡è¯†IDï¼Œè¿™ä¸ªIDå¯¹åº”ç€å…·ä½“çš„VBOçš„æ˜¾å­˜åœ°å€ï¼Œé€šè¿‡è¿™ä¸ªIDå¯ä»¥å¯¹ç‰¹å®šçš„VBOå†…çš„æ•°æ®è¿›è¡Œå­˜å–æ“ä½œã€‚</p>
<p><strong>VAOæ˜¯ä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰é¡¶ç‚¹æ•°æ®å±æ€§çš„çŠ¶æ€ç»“åˆï¼Œå®ƒå­˜å‚¨äº†é¡¶ç‚¹æ•°æ®çš„æ ¼å¼ä»¥åŠé¡¶ç‚¹æ•°æ®æ‰€éœ€çš„VBOå¯¹è±¡çš„å¼•ç”¨</strong>ã€‚VAOæœ¬èº«å¹¶æ²¡æœ‰å­˜å‚¨é¡¶ç‚¹çš„ç›¸å…³å±æ€§æ•°æ®ï¼Œè¿™äº›ä¿¡æ¯æ˜¯å­˜å‚¨åœ¨VBOä¸­çš„ï¼ŒVAOç›¸å½“äºæ˜¯å¯¹å¾ˆå¤šä¸ªVBOçš„å¼•ç”¨ï¼ŒæŠŠä¸€äº›VBOç»„åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªå¯¹è±¡ç»Ÿä¸€ç®¡ç†ã€‚</p>
<p><strong>EBOä¸­å­˜å‚¨çš„å†…å®¹å°±æ˜¯é¡¶ç‚¹ä½ç½®çš„ç´¢å¼•indicesï¼ŒEBOè·ŸVBOç±»ä¼¼ï¼Œä¹Ÿæ˜¯åœ¨æ˜¾å­˜ä¸­çš„ä¸€å—å†…å­˜ç¼“å†²å™¨</strong>ï¼Œåªä¸è¿‡EBOä¿å­˜çš„æ˜¯é¡¶ç‚¹çš„ç´¢å¼•ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹ä»£ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const GLfloat g_vertex_buffer_data[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -1.0f, -1.0f, 0.0f,     // å·¦ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1.0f, -1.0f, 0.0f,      // å³ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.0f, 0.0f, 0.0f,       // ä¸­é—´ç‚¹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -1.0f, 1.0f, 0.0f,      // å·¦ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1.0f, 1.0f, 0.0f        // å³ä¸Šè§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsigned int indices1[] = {0, 1, 2};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsigned int indices2[] = {2, 3, 4};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// VAO1ã€VBO1ã€EBO1çš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VAO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint EBO1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenVertexArrays(1, &amp;VAO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindVertexArray(VAO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ARRAY_BUFFER, VBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;EBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices1), indices1, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// VAO2ã€VBO2ã€EBO2çš„æ•°æ®</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VAO2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint VBO2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GLuint EBO2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenVertexArrays(1, &amp;VAO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindVertexArray(VAO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ARRAY_BUFFER, VBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glGenBuffers(1, &amp;EBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices2), indices2, GL_STATIC_DRAW);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, (void*)0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glClearColor( 0, 0, 0.4, 0 );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// ç»‘å®šVAO1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindVertexArray(1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDrawElements(GL_TRIANGLES, 3, GL_UNSIGNED_INT, 0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// ç»‘å®šVAO2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glBindVertexArray(2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDrawElements(GL_TRIANGLES, 3, GL_UNSIGNED_INT, 0);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ï¼Œé¦–å…ˆè®¾ç½®å¥½VAO1ã€VAO2çš„ç¼“å†²æ•°æ®ï¼ŒVAOä¸­åˆ†åˆ«ç»‘å®šå¯¹åº”çš„VBOã€EBOï¼Œåé¢åœ¨ç»˜åˆ¶å‰ç›´æ¥ç»‘å®šå¯¹åº”çš„VAOå³å¯ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€å•çš„ç»˜åˆ¶æ–¹å¼">ç®€å•çš„ç»˜åˆ¶æ–¹å¼<a href="https://www.iogl.cn/blog/03.%E6%B5%85%E8%B0%88VAO%E3%80%81VBO%E3%80%81VEO#%E7%AE%80%E5%8D%95%E7%9A%84%E7%BB%98%E5%88%B6%E6%96%B9%E5%BC%8F" class="hash-link" aria-label="ç®€å•çš„ç»˜åˆ¶æ–¹å¼çš„ç›´æ¥é“¾æ¥" title="ç®€å•çš„ç»˜åˆ¶æ–¹å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¦‚æœç»™äº†ä¸€ç»„é¡¶ç‚¹ä¿¡æ¯ï¼Œå¯ä½¿ç”¨ä¸‹é¢çš„ä¸¤ç§æ–¹å¼ç»˜åˆ¶ï¼Œä¸¤ç§æ–¹å¼æ˜¯ç­‰æ•ˆçš„ï¼š</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const GLfloat points[] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -1.0f, -1.0f, 0.0f,     // å·¦ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1.0f, -1.0f, 0.0f,      // å³ä¸‹è§’</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.0f, 0.0f, 0.0f,       // ä¸­é—´ç‚¹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// æ–¹å¼ä¸€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, points);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDrawArrays(GL_TRIANGLES, 0, 3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDisableVertexAttribArray(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// æ–¹å¼äºŒ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glEnableClientState(GL_VERTEX_ARRAY);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glVertexPointer(3, GL_FLOAT, 0, points);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDrawArrays(GL_TRIANGLES, 0, 3);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glDisableClientState(GL_VERTEX_ARRAY);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ”¶é›†çš„OpenGLèµ„æº]]></title>
        <id>https://www.iogl.cn/blog/01.æ”¶é›†çš„OpenGLèµ„æº</id>
        <link href="https://www.iogl.cn/blog/01.æ”¶é›†çš„OpenGLèµ„æº"/>
        <updated>2021-11-02T22:54:31.000Z</updated>
        <summary type="html"><![CDATA[æ”¶é›†çš„OpenGLèµ„æº]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¶é›†çš„openglèµ„æº">æ”¶é›†çš„OpenGLèµ„æº<a href="https://www.iogl.cn/blog/01.%E6%94%B6%E9%9B%86%E7%9A%84OpenGL%E8%B5%84%E6%BA%90#%E6%94%B6%E9%9B%86%E7%9A%84opengl%E8%B5%84%E6%BA%90" class="hash-link" aria-label="æ”¶é›†çš„OpenGLèµ„æºçš„ç›´æ¥é“¾æ¥" title="æ”¶é›†çš„OpenGLèµ„æºçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="https://www.khronos.org/opengl/wiki/Getting_Started" target="_blank" rel="noopener noreferrer">OpenGLå®˜æ–¹æŒ‡å¼•</a></p>
<p><a href="http://www.zwqxin.com/" target="_blank" rel="noopener noreferrer">ZwqXin</a></p>
<p><a href="https://learnopengl-cn.github.io/" target="_blank" rel="noopener noreferrer">LearnOpenGLä¸­æ–‡æ•™ç¨‹</a></p>
<p><a href="https://developer.nvidia.com/gpugems/gpugems/contributors" target="_blank" rel="noopener noreferrer">NVIDIA GPU Gems</a></p>
<p><a href="https://www.cnblogs.com/hackpig/tag/OpenGL/" target="_blank" rel="noopener noreferrer">çŒªæ‚Ÿèƒ½'Såšå®¢</a></p>
<p><a href="https://blog.csdn.net/jxw167/column/info/14637" target="_blank" rel="noopener noreferrer">OpenGLæ ¸å¿ƒæŠ€æœ¯</a></p>
<p><a href="https://github.com/sumcai/GLSL-Card" target="_blank" rel="noopener noreferrer">GLSLä¸­æ–‡æ‰‹å†Œ</a></p>
<p><a href="https://pbr-book.org/3ed-2018/contents" target="_blank" rel="noopener noreferrer">Physically Based Rendering</a></p>
<p><a href="https://user.xmission.com/~nate/tutors.html" target="_blank" rel="noopener noreferrer">Tutors example</a></p>
<p>æœªå®Œå¾…ç»­~</p>]]></content>
        <author>
            <name>è‹æ˜æ‰</name>
            <email>sumcai@163.com</email>
            <uri>https://github.com/sumcai</uri>
        </author>
        <category label="openglåŸºç¡€" term="openglåŸºç¡€"/>
    </entry>
</feed>